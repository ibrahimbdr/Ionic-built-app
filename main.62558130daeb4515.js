(self.webpackChunkapp=self.webpackChunkapp||[]).push([[179],{2200:(Cn,vt,le)=>{"use strict";le.d(vt,{c:()=>he});var L=le(9397),Ye=le(3457);let Qe;const Pe=$=>$.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),$e=$=>(void 0===Qe&&(Qe=void 0===$.style.animationName&&void 0!==$.style.webkitAnimationName?"-webkit-":""),Qe),B=($,x,Z)=>{const de=x.startsWith("animation")?$e($):"";$.style.setProperty(de+x,Z)},Ee=($,x)=>{const Z=x.startsWith("animation")?$e($):"";$.style.removeProperty(Z+x)},ge=[],se=($=[],x)=>{if(void 0!==x){const Z=Array.isArray(x)?x:[x];return[...$,...Z]}return $},he=$=>{let x,Z,de,xe,Te,Ve,M,k,j,Q,Be,ne,D,Me=[],F=[],ee=[],ue=!1,K={},G=[],_e=[],et={},ze=0,gt=!1,H=!1,rt=!0,Le=!1,st=!0,W=!1;const Re=$,ot=[],bt=[],V=[],ct=[],Ot=[],dn=[],tr=[],di=[],Pc=[],Or=[],dl="function"==typeof AnimationEffect||void 0!==Ye.w&&"function"==typeof Ye.w.AnimationEffect,qn="function"==typeof Element&&"function"==typeof Element.prototype.animate&&dl,fa=()=>Or,nr=(m,b)=>((null!=b&&b.oneTimeCallback?bt:ot).push({c:m,o:b}),D),Zr=()=>{if(qn)Or.forEach(m=>{m.cancel()}),Or.length=0;else{const m=V.slice();(0,L.r)(()=>{m.forEach(b=>{Ee(b,"animation-name"),Ee(b,"animation-duration"),Ee(b,"animation-timing-function"),Ee(b,"animation-iteration-count"),Ee(b,"animation-delay"),Ee(b,"animation-play-state"),Ee(b,"animation-fill-mode"),Ee(b,"animation-direction")})})}},fl=()=>{Ot.forEach(m=>{null!=m&&m.parentNode&&m.parentNode.removeChild(m)}),Ot.length=0},Vs=()=>void 0!==Te?Te:M?M.getFill():"both",es=()=>void 0!==j?j:void 0!==Ve?Ve:M?M.getDirection():"normal",Us=()=>gt?"linear":void 0!==de?de:M?M.getEasing():"linear",Fr=()=>H?0:void 0!==Q?Q:void 0!==Z?Z:M?M.getDuration():0,hi=()=>void 0!==xe?xe:M?M.getIterations():1,Tn=()=>void 0!==Be?Be:void 0!==x?x:M?M.getDelay():0,ys=()=>{0!==ze&&(ze--,0===ze&&((()=>{nn(),di.forEach(z=>z()),Pc.forEach(z=>z());const m=rt?1:0,b=G,C=_e,O=et;V.forEach(z=>{const T=z.classList;b.forEach(Y=>T.add(Y)),C.forEach(Y=>T.remove(Y));for(const Y in O)O.hasOwnProperty(Y)&&B(z,Y,O[Y])}),ot.forEach(z=>z.c(m,D)),bt.forEach(z=>z.c(m,D)),bt.length=0,st=!0,rt&&(Le=!0),rt=!0})(),M&&M.animationFinish()))},fi=(m=!0)=>{fl();const b=($=>($.forEach(x=>{for(const Z in x)if(x.hasOwnProperty(Z)){const de=x[Z];if("easing"===Z)x["animation-timing-function"]=de,delete x[Z];else{const xe=Pe(Z);xe!==Z&&(x[xe]=de,delete x[Z])}}}),$))(Me);V.forEach(C=>{if(b.length>0){const O=(($=[])=>$.map(x=>{const Z=x.offset,de=[];for(const xe in x)x.hasOwnProperty(xe)&&"offset"!==xe&&de.push(`${xe}: ${x[xe]};`);return`${100*Z}% { ${de.join(" ")} }`}).join(" "))(b);ne=void 0!==$?$:($=>{let x=ge.indexOf($);return x<0&&(x=ge.push($)-1),`ion-animation-${x}`})(O);const z=(($,x,Z)=>{var de;const xe=($=>{const x=void 0!==$.getRootNode?$.getRootNode():$;return x.head||x})(Z),Te=$e(Z),Ve=xe.querySelector("#"+$);if(Ve)return Ve;const Me=(null!==(de=Z.ownerDocument)&&void 0!==de?de:document).createElement("style");return Me.id=$,Me.textContent=`@${Te}keyframes ${$} { ${x} } @${Te}keyframes ${$}-alt { ${x} }`,xe.appendChild(Me),Me})(ne,O,C);Ot.push(z),B(C,"animation-duration",`${Fr()}ms`),B(C,"animation-timing-function",Us()),B(C,"animation-delay",`${Tn()}ms`),B(C,"animation-fill-mode",Vs()),B(C,"animation-direction",es());const T=hi()===1/0?"infinite":hi().toString();B(C,"animation-iteration-count",T),B(C,"animation-play-state","paused"),m&&B(C,"animation-name",`${z.id}-alt`),(0,L.r)(()=>{B(C,"animation-name",z.id||null)})}})},Bs=(m=!0)=>{(()=>{dn.forEach(O=>O()),tr.forEach(O=>O());const m=F,b=ee,C=K;V.forEach(O=>{const z=O.classList;m.forEach(T=>z.add(T)),b.forEach(T=>z.remove(T));for(const T in C)C.hasOwnProperty(T)&&B(O,T,C[T])})})(),Me.length>0&&(qn?(V.forEach(m=>{const b=m.animate(Me,{id:Re,delay:Tn(),duration:Fr(),easing:Us(),iterations:hi(),fill:Vs(),direction:es()});b.pause(),Or.push(b)}),Or.length>0&&(Or[0].onfinish=()=>{ys()})):fi(m)),ue=!0},ns=m=>{if(m=Math.min(Math.max(m,0),.9999),qn)Or.forEach(b=>{b.currentTime=b.effect.getComputedTiming().delay+Fr()*m,b.pause()});else{const b=`-${Fr()*m}ms`;V.forEach(C=>{Me.length>0&&(B(C,"animation-delay",b),B(C,"animation-play-state","paused"))})}},js=m=>{Or.forEach(b=>{b.effect.updateTiming({delay:Tn(),duration:Fr(),easing:Us(),iterations:hi(),fill:Vs(),direction:es()})}),void 0!==m&&ns(m)},pi=(m=!0,b)=>{(0,L.r)(()=>{V.forEach(C=>{B(C,"animation-name",ne||null),B(C,"animation-duration",`${Fr()}ms`),B(C,"animation-timing-function",Us()),B(C,"animation-delay",void 0!==b?`-${b*Fr()}ms`:`${Tn()}ms`),B(C,"animation-fill-mode",Vs()||null),B(C,"animation-direction",es()||null);const O=hi()===1/0?"infinite":hi().toString();B(C,"animation-iteration-count",O),m&&B(C,"animation-name",`${ne}-alt`),(0,L.r)(()=>{B(C,"animation-name",ne||null)})})})},Bt=(m=!1,b=!0,C)=>(m&&ct.forEach(O=>{O.update(m,b,C)}),qn?js(C):pi(b,C),D),pa=()=>{ue&&(qn?Or.forEach(m=>{m.pause()}):V.forEach(m=>{B(m,"animation-play-state","paused")}),W=!0)},yl=()=>{k=void 0,ys()},nn=()=>{k&&clearTimeout(k)},ga=m=>new Promise(b=>{null!=m&&m.sync&&(H=!0,nr(()=>H=!1,{oneTimeCallback:!0})),ue||Bs(),Le&&(qn?(ns(0),js()):pi(),Le=!1),st&&(ze=ct.length+1,st=!1),nr(()=>b(),{oneTimeCallback:!0}),ct.forEach(C=>{C.play()}),qn?(Or.forEach(m=>{m.play()}),(0===Me.length||0===V.length)&&ys()):(()=>{if(nn(),(0,L.r)(()=>{V.forEach(m=>{Me.length>0&&B(m,"animation-play-state","running")})}),0===Me.length||0===V.length)ys();else{const m=Tn()||0,b=Fr()||0,C=hi()||1;isFinite(C)&&(k=setTimeout(yl,m+b*C+100)),(($,x)=>{let Z;const de={passive:!0},Te=Ve=>{$===Ve.target&&(Z&&Z(),nn(),(0,L.r)(()=>{V.forEach(m=>{Ee(m,"animation-duration"),Ee(m,"animation-delay"),Ee(m,"animation-play-state")}),(0,L.r)(ys)}))};$&&($.addEventListener("webkitAnimationEnd",Te,de),$.addEventListener("animationend",Te,de),Z=()=>{$.removeEventListener("webkitAnimationEnd",Te,de),$.removeEventListener("animationend",Te,de)})})(V[0])}})(),W=!1}),_=(m,b)=>{const C=Me[0];return void 0===C||void 0!==C.offset&&0!==C.offset?Me=[{offset:0,[m]:b},...Me]:C[m]=b,D};return D={parentAnimation:M,elements:V,childAnimations:ct,id:Re,animationFinish:ys,from:_,to:(m,b)=>{const C=Me[Me.length-1];return void 0===C||void 0!==C.offset&&1!==C.offset?Me=[...Me,{offset:1,[m]:b}]:C[m]=b,D},fromTo:(m,b,C)=>_(m,b).to(m,C),parent:m=>(M=m,D),play:ga,pause:()=>(ct.forEach(m=>{m.pause()}),pa(),D),stop:()=>{ct.forEach(m=>{m.stop()}),ue&&(Zr(),ue=!1),gt=!1,H=!1,st=!0,j=void 0,Q=void 0,Be=void 0,ze=0,Le=!1,rt=!0,W=!1},destroy:m=>(ct.forEach(b=>{b.destroy(m)}),(m=>{Zr(),m&&fl()})(m),V.length=0,ct.length=0,Me.length=0,ot.length=0,bt.length=0,ue=!1,st=!0,D),keyframes:m=>{const b=Me!==m;return Me=m,b&&(m=>{qn?fa().forEach(b=>{if(b.effect.setKeyframes)b.effect.setKeyframes(m);else{const C=new KeyframeEffect(b.effect.target,m,b.effect.getTiming());b.effect=C}}):fi()})(Me),D},addAnimation:m=>{if(null!=m)if(Array.isArray(m))for(const b of m)b.parent(D),ct.push(b);else m.parent(D),ct.push(m);return D},addElement:m=>{if(null!=m)if(1===m.nodeType)V.push(m);else if(m.length>=0)for(let b=0;b<m.length;b++)V.push(m[b]);else console.error("Invalid addElement value");return D},update:Bt,fill:m=>(Te=m,Bt(!0),D),direction:m=>(Ve=m,Bt(!0),D),iterations:m=>(xe=m,Bt(!0),D),duration:m=>(!qn&&0===m&&(m=1),Z=m,Bt(!0),D),easing:m=>(de=m,Bt(!0),D),delay:m=>(x=m,Bt(!0),D),getWebAnimations:fa,getKeyframes:()=>Me,getFill:Vs,getDirection:es,getDelay:Tn,getIterations:hi,getEasing:Us,getDuration:Fr,afterAddRead:m=>(di.push(m),D),afterAddWrite:m=>(Pc.push(m),D),afterClearStyles:(m=[])=>{for(const b of m)et[b]="";return D},afterStyles:(m={})=>(et=m,D),afterRemoveClass:m=>(_e=se(_e,m),D),afterAddClass:m=>(G=se(G,m),D),beforeAddRead:m=>(dn.push(m),D),beforeAddWrite:m=>(tr.push(m),D),beforeClearStyles:(m=[])=>{for(const b of m)K[b]="";return D},beforeStyles:(m={})=>(K=m,D),beforeRemoveClass:m=>(ee=se(ee,m),D),beforeAddClass:m=>(F=se(F,m),D),onFinish:nr,isRunning:()=>0!==ze&&!W,progressStart:(m=!1,b)=>(ct.forEach(C=>{C.progressStart(m,b)}),pa(),gt=m,ue||Bs(),Bt(!1,!0,b),D),progressStep:m=>(ct.forEach(b=>{b.progressStep(m)}),ns(m),D),progressEnd:(m,b,C)=>(gt=!1,ct.forEach(O=>{O.progressEnd(m,b,C)}),void 0!==C&&(Q=C),Le=!1,rt=!0,0===m?(j="reverse"===es()?"normal":"reverse","reverse"===j&&(rt=!1),qn?(Bt(),ns(1-b)):(Be=(1-b)*Fr()*-1,Bt(!1,!1))):1===m&&(qn?(Bt(),ns(b)):(Be=b*Fr()*-1,Bt(!1,!1))),void 0!==m&&(nr(()=>{Q=void 0,j=void 0,Be=void 0},{oneTimeCallback:!0}),M||ga()),D)}}},3982:(Cn,vt,le)=>{"use strict";le.d(vt,{E:()=>Xe,a:()=>L,s:()=>Ee});const L=ge=>{try{if(ge instanceof B)return ge.value;if(!tt()||"string"!=typeof ge||""===ge)return ge;if(ge.includes("onload="))return"";const ce=document.createDocumentFragment(),P=document.createElement("div");ce.appendChild(P),P.innerHTML=ge,$e.forEach($=>{const x=ce.querySelectorAll($);for(let Z=x.length-1;Z>=0;Z--){const de=x[Z];de.parentNode?de.parentNode.removeChild(de):ce.removeChild(de);const xe=Qe(de);for(let Te=0;Te<xe.length;Te++)Ye(xe[Te])}});const X=Qe(ce);for(let $=0;$<X.length;$++)Ye(X[$]);const se=document.createElement("div");se.appendChild(ce);const he=se.querySelector("div");return null!==he?he.innerHTML:se.innerHTML}catch(ce){return console.error(ce),""}},Ye=ge=>{if(ge.nodeType&&1!==ge.nodeType)return;if(typeof NamedNodeMap<"u"&&!(ge.attributes instanceof NamedNodeMap))return void ge.remove();for(let P=ge.attributes.length-1;P>=0;P--){const X=ge.attributes.item(P),se=X.name;if(!Pe.includes(se.toLowerCase())){ge.removeAttribute(se);continue}const he=X.value,$=ge[se];(null!=he&&he.toLowerCase().includes("javascript:")||null!=$&&$.toLowerCase().includes("javascript:"))&&ge.removeAttribute(se)}const ce=Qe(ge);for(let P=0;P<ce.length;P++)Ye(ce[P])},Qe=ge=>null!=ge.children?ge.children:ge.childNodes,tt=()=>{var ge;const ce=window,P=null===(ge=null==ce?void 0:ce.Ionic)||void 0===ge?void 0:ge.config;return!P||(P.get?P.get("sanitizerEnabled",!0):!0===P.sanitizerEnabled||void 0===P.sanitizerEnabled)},Pe=["class","id","href","src","name","slot"],$e=["script","style","iframe","meta","link","object","embed"];class B{constructor(ce){this.value=ce}}const Ee=ge=>{const ce=window,P=ce.Ionic;if(!P||!P.config||"Object"===P.config.constructor.name)return ce.Ionic=ce.Ionic||{},ce.Ionic.config=Object.assign(Object.assign({},ce.Ionic.config),ge),ce.Ionic.config},Xe=!1},5375:(Cn,vt,le)=>{"use strict";le.d(vt,{C:()=>Pe,a:()=>Qe,d:()=>tt});var L=le(5861),Ye=le(9397);const Qe=function(){var $e=(0,L.Z)(function*(B,Ee,pe,Xe,ge,ce){var P;if(B)return B.attachViewToDom(Ee,pe,ge,Xe);if(!(ce||"string"==typeof pe||pe instanceof HTMLElement))throw new Error("framework delegate is missing");const X="string"==typeof pe?null===(P=Ee.ownerDocument)||void 0===P?void 0:P.createElement(pe):pe;return Xe&&Xe.forEach(se=>X.classList.add(se)),ge&&Object.assign(X,ge),Ee.appendChild(X),yield new Promise(se=>(0,Ye.c)(X,se)),X});return function(Ee,pe,Xe,ge,ce,P){return $e.apply(this,arguments)}}(),tt=($e,B)=>{if(B){if($e)return $e.removeViewFromDom(B.parentElement,B);B.remove()}return Promise.resolve()},Pe=()=>{let $e,B;return{attachViewToDom:function(){var Xe=(0,L.Z)(function*(ge,ce,P={},X=[]){var se,he;if($e=ge,ce){const x="string"==typeof ce?null===(se=$e.ownerDocument)||void 0===se?void 0:se.createElement(ce):ce;X.forEach(Z=>x.classList.add(Z)),Object.assign(x,P),$e.appendChild(x),yield new Promise(Z=>(0,Ye.c)(x,Z))}else if($e.children.length>0&&("ION-MODAL"===$e.tagName||"ION-POPOVER"===$e.tagName)&&!$e.children[0].classList.contains("ion-delegate-host")){const Z=null===(he=$e.ownerDocument)||void 0===he?void 0:he.createElement("div");Z.classList.add("ion-delegate-host"),X.forEach(de=>Z.classList.add(de)),Z.append(...$e.children),$e.appendChild(Z)}const $=document.querySelector("ion-app")||document.body;return B=document.createComment("ionic teleport"),$e.parentNode.insertBefore(B,$e),$.appendChild($e),$e});return function(ce,P){return Xe.apply(this,arguments)}}(),removeViewFromDom:()=>($e&&B&&(B.parentNode.insertBefore($e,B),B.remove()),Promise.resolve())}}},4349:(Cn,vt,le)=>{"use strict";le.d(vt,{G:()=>Pe});class Ye{constructor(B,Ee,pe,Xe,ge){this.id=Ee,this.name=pe,this.disableScroll=ge,this.priority=1e6*Xe+Ee,this.ctrl=B}canStart(){return!!this.ctrl&&this.ctrl.canStart(this.name)}start(){return!!this.ctrl&&this.ctrl.start(this.name,this.id,this.priority)}capture(){if(!this.ctrl)return!1;const B=this.ctrl.capture(this.name,this.id,this.priority);return B&&this.disableScroll&&this.ctrl.disableScroll(this.id),B}release(){this.ctrl&&(this.ctrl.release(this.id),this.disableScroll&&this.ctrl.enableScroll(this.id))}destroy(){this.release(),this.ctrl=void 0}}class Qe{constructor(B,Ee,pe,Xe){this.id=Ee,this.disable=pe,this.disableScroll=Xe,this.ctrl=B}block(){if(this.ctrl){if(this.disable)for(const B of this.disable)this.ctrl.disableGesture(B,this.id);this.disableScroll&&this.ctrl.disableScroll(this.id)}}unblock(){if(this.ctrl){if(this.disable)for(const B of this.disable)this.ctrl.enableGesture(B,this.id);this.disableScroll&&this.ctrl.enableScroll(this.id)}}destroy(){this.unblock(),this.ctrl=void 0}}const tt="backdrop-no-scroll",Pe=new class L{constructor(){this.gestureId=0,this.requestedStart=new Map,this.disabledGestures=new Map,this.disabledScroll=new Set}createGesture(B){var Ee;return new Ye(this,this.newID(),B.name,null!==(Ee=B.priority)&&void 0!==Ee?Ee:0,!!B.disableScroll)}createBlocker(B={}){return new Qe(this,this.newID(),B.disable,!!B.disableScroll)}start(B,Ee,pe){return this.canStart(B)?(this.requestedStart.set(Ee,pe),!0):(this.requestedStart.delete(Ee),!1)}capture(B,Ee,pe){if(!this.start(B,Ee,pe))return!1;const Xe=this.requestedStart;let ge=-1e4;if(Xe.forEach(ce=>{ge=Math.max(ge,ce)}),ge===pe){this.capturedId=Ee,Xe.clear();const ce=new CustomEvent("ionGestureCaptured",{detail:{gestureName:B}});return document.dispatchEvent(ce),!0}return Xe.delete(Ee),!1}release(B){this.requestedStart.delete(B),this.capturedId===B&&(this.capturedId=void 0)}disableGesture(B,Ee){let pe=this.disabledGestures.get(B);void 0===pe&&(pe=new Set,this.disabledGestures.set(B,pe)),pe.add(Ee)}enableGesture(B,Ee){const pe=this.disabledGestures.get(B);void 0!==pe&&pe.delete(Ee)}disableScroll(B){this.disabledScroll.add(B),1===this.disabledScroll.size&&document.body.classList.add(tt)}enableScroll(B){this.disabledScroll.delete(B),0===this.disabledScroll.size&&document.body.classList.remove(tt)}canStart(B){return!(void 0!==this.capturedId||this.isDisabled(B))}isCaptured(){return void 0!==this.capturedId}isScrollDisabled(){return this.disabledScroll.size>0}isDisabled(B){const Ee=this.disabledGestures.get(B);return!!(Ee&&Ee.size>0)}newID(){return this.gestureId++,this.gestureId}}},7593:(Cn,vt,le)=>{"use strict";le.r(vt),le.d(vt,{MENU_BACK_BUTTON_PRIORITY:()=>Pe,OVERLAY_BACK_BUTTON_PRIORITY:()=>tt,blockHardwareBackButton:()=>Ye,startHardwareBackButton:()=>Qe});var L=le(5861);const Ye=()=>{document.addEventListener("backbutton",()=>{})},Qe=()=>{const $e=document;let B=!1;$e.addEventListener("backbutton",()=>{if(B)return;let Ee=0,pe=[];const Xe=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(P,X){pe.push({priority:P,handler:X,id:Ee++})}}});$e.dispatchEvent(Xe);const ge=function(){var P=(0,L.Z)(function*(X){try{if(null!=X&&X.handler){const se=X.handler(ce);null!=se&&(yield se)}}catch(se){console.error(se)}});return function(se){return P.apply(this,arguments)}}(),ce=()=>{if(pe.length>0){let P={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};pe.forEach(X=>{X.priority>=P.priority&&(P=X)}),B=!0,pe=pe.filter(X=>X.id!==P.id),ge(P).then(()=>B=!1)}};ce()})},tt=100,Pe=99},9397:(Cn,vt,le)=>{"use strict";le.d(vt,{a:()=>Ee,b:()=>pe,c:()=>Qe,d:()=>he,e:()=>se,f:()=>X,g:()=>Xe,h:()=>Te,i:()=>B,j:()=>Pe,k:()=>P,l:()=>$,m:()=>tt,n:()=>ce,o:()=>x,p:()=>de,q:()=>xe,r:()=>ge,s:()=>Me,t:()=>L,u:()=>Ve,v:()=>Z});const L=(F,ee=0)=>new Promise(ue=>{Ye(F,ee,ue)}),Ye=(F,ee=0,ue)=>{let M,K;const G={passive:!0},et=()=>{M&&M()},ze=gt=>{(void 0===gt||F===gt.target)&&(et(),ue(gt))};return F&&(F.addEventListener("webkitTransitionEnd",ze,G),F.addEventListener("transitionend",ze,G),K=setTimeout(ze,ee+500),M=()=>{K&&(clearTimeout(K),K=void 0),F.removeEventListener("webkitTransitionEnd",ze,G),F.removeEventListener("transitionend",ze,G)}),et},Qe=(F,ee)=>{F.componentOnReady?F.componentOnReady().then(ue=>ee(ue)):ge(()=>ee(F))},tt=F=>void 0!==F.componentOnReady,Pe=(F,ee=[])=>{const ue={};return ee.forEach(M=>{F.hasAttribute(M)&&(null!==F.getAttribute(M)&&(ue[M]=F.getAttribute(M)),F.removeAttribute(M))}),ue},$e=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],B=(F,ee)=>{let ue=$e;return ee&&ee.length>0&&(ue=ue.filter(M=>!ee.includes(M))),Pe(F,ue)},Ee=(F,ee,ue,M)=>{var K;if(typeof window<"u"){const G=window,_e=null===(K=null==G?void 0:G.Ionic)||void 0===K?void 0:K.config;if(_e){const et=_e.get("_ael");if(et)return et(F,ee,ue,M);if(_e._ael)return _e._ael(F,ee,ue,M)}}return F.addEventListener(ee,ue,M)},pe=(F,ee,ue,M)=>{var K;if(typeof window<"u"){const G=window,_e=null===(K=null==G?void 0:G.Ionic)||void 0===K?void 0:K.config;if(_e){const et=_e.get("_rel");if(et)return et(F,ee,ue,M);if(_e._rel)return _e._rel(F,ee,ue,M)}}return F.removeEventListener(ee,ue,M)},Xe=(F,ee=F)=>F.shadowRoot||ee,ge=F=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(F):"function"==typeof requestAnimationFrame?requestAnimationFrame(F):setTimeout(F),ce=F=>!!F.shadowRoot&&!!F.attachShadow,P=F=>{const ee=F.closest("ion-item");return ee?ee.querySelector("ion-label"):null},X=F=>{if(F.focus(),F.classList.contains("ion-focusable")){const ee=F.closest("ion-app");ee&&ee.setFocus([F])}},se=(F,ee)=>{let ue;const M=F.getAttribute("aria-labelledby"),K=F.id;let G=null!==M&&""!==M.trim()?M:ee+"-lbl",_e=null!==M&&""!==M.trim()?document.getElementById(M):P(F);return _e?(null===M&&(_e.id=G),ue=_e.textContent,_e.setAttribute("aria-hidden","true")):""!==K.trim()&&(_e=document.querySelector(`label[for="${K}"]`),_e&&(""!==_e.id?G=_e.id:_e.id=G=`${K}-lbl`,ue=_e.textContent)),{label:_e,labelId:G,labelText:ue}},he=(F,ee,ue,M,K)=>{if(F||ce(ee)){let G=ee.querySelector("input.aux-input");G||(G=ee.ownerDocument.createElement("input"),G.type="hidden",G.classList.add("aux-input"),ee.appendChild(G)),G.disabled=K,G.name=ue,G.value=M||""}},$=(F,ee,ue)=>Math.max(F,Math.min(ee,ue)),x=(F,ee)=>{if(!F){const ue="ASSERT: "+ee;throw console.error(ue),new Error(ue)}},Z=F=>F.timeStamp||Date.now(),de=F=>{if(F){const ee=F.changedTouches;if(ee&&ee.length>0){const ue=ee[0];return{x:ue.clientX,y:ue.clientY}}if(void 0!==F.pageX)return{x:F.pageX,y:F.pageY}}return{x:0,y:0}},xe=F=>{const ee="rtl"===document.dir;switch(F){case"start":return ee;case"end":return!ee;default:throw new Error(`"${F}" is not a valid value for [side]. Use "start" or "end" instead.`)}},Te=(F,ee)=>{const ue=F._original||F;return{_original:F,emit:Ve(ue.emit.bind(ue),ee)}},Ve=(F,ee=0)=>{let ue;return(...M)=>{clearTimeout(ue),ue=setTimeout(F,ee,...M)}},Me=(F,ee)=>{if(null!=F||(F={}),null!=ee||(ee={}),F===ee)return!0;const ue=Object.keys(F);if(ue.length!==Object.keys(ee).length)return!1;for(const M of ue)if(!(M in ee)||F[M]!==ee[M])return!1;return!0}},3457:(Cn,vt,le)=>{"use strict";le.d(vt,{w:()=>L});const L=typeof window<"u"?window:void 0},1557:(Cn,vt,le)=>{"use strict";le.d(vt,{m:()=>ge});var L=le(5861),Ye=le(7593),Qe=le(9397),tt=le(6406),Pe=le(2200);const $e=ce=>(0,Pe.c)().duration(ce?400:300),B=ce=>{let P,X;const se=ce.width+8,he=(0,Pe.c)(),$=(0,Pe.c)();ce.isEndSide?(P=se+"px",X="0px"):(P=-se+"px",X="0px"),he.addElement(ce.menuInnerEl).fromTo("transform",`translateX(${P})`,`translateX(${X})`);const Z="ios"===(0,tt.b)(ce),de=Z?.2:.25;return $.addElement(ce.backdropEl).fromTo("opacity",.01,de),$e(Z).addAnimation([he,$])},Ee=ce=>{let P,X;const se=(0,tt.b)(ce),he=ce.width;ce.isEndSide?(P=-he+"px",X=he+"px"):(P=he+"px",X=-he+"px");const $=(0,Pe.c)().addElement(ce.menuInnerEl).fromTo("transform",`translateX(${X})`,"translateX(0px)"),x=(0,Pe.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${P})`),Z=(0,Pe.c)().addElement(ce.backdropEl).fromTo("opacity",.01,.32);return $e("ios"===se).addAnimation([$,x,Z])},pe=ce=>{const P=(0,tt.b)(ce),X=ce.width*(ce.isEndSide?-1:1)+"px",se=(0,Pe.c)().addElement(ce.contentEl).fromTo("transform","translateX(0px)",`translateX(${X})`);return $e("ios"===P).addAnimation(se)},ge=(()=>{const ce=new Map,P=[],X=function(){var k=(0,L.Z)(function*(j){const Q=yield xe(j);return!!Q&&Q.open()});return function(Q){return k.apply(this,arguments)}}(),se=function(){var k=(0,L.Z)(function*(j){const Q=yield void 0!==j?xe(j):Te();return void 0!==Q&&Q.close()});return function(Q){return k.apply(this,arguments)}}(),he=function(){var k=(0,L.Z)(function*(j){const Q=yield xe(j);return!!Q&&Q.toggle()});return function(Q){return k.apply(this,arguments)}}(),$=function(){var k=(0,L.Z)(function*(j,Q){const Be=yield xe(Q);return Be&&(Be.disabled=!j),Be});return function(Q,Be){return k.apply(this,arguments)}}(),x=function(){var k=(0,L.Z)(function*(j,Q){const Be=yield xe(Q);return Be&&(Be.swipeGesture=j),Be});return function(Q,Be){return k.apply(this,arguments)}}(),Z=function(){var k=(0,L.Z)(function*(j){if(null!=j){const Q=yield xe(j);return void 0!==Q&&Q.isOpen()}return void 0!==(yield Te())});return function(Q){return k.apply(this,arguments)}}(),de=function(){var k=(0,L.Z)(function*(j){const Q=yield xe(j);return!!Q&&!Q.disabled});return function(Q){return k.apply(this,arguments)}}(),xe=function(){var k=(0,L.Z)(function*(j){return yield H(),"start"===j||"end"===j?gt(rt=>rt.side===j&&!rt.disabled)||gt(rt=>rt.side===j):null!=j?gt(Be=>Be.menuId===j):gt(Be=>!Be.disabled)||(P.length>0?P[0].el:void 0)});return function(Q){return k.apply(this,arguments)}}(),Te=function(){var k=(0,L.Z)(function*(){return yield H(),_e()});return function(){return k.apply(this,arguments)}}(),Ve=function(){var k=(0,L.Z)(function*(){return yield H(),et()});return function(){return k.apply(this,arguments)}}(),Me=function(){var k=(0,L.Z)(function*(){return yield H(),ze()});return function(){return k.apply(this,arguments)}}(),F=(k,j)=>{ce.set(k,j)},M=k=>{const j=k.side;P.filter(Q=>Q.side===j&&Q!==k).forEach(Q=>Q.disabled=!0)},K=function(){var k=(0,L.Z)(function*(j,Q,Be){if(ze())return!1;if(Q){const rt=yield Te();rt&&j.el!==rt&&(yield rt.setOpen(!1,!1))}return j._setOpen(Q,Be)});return function(Q,Be,rt){return k.apply(this,arguments)}}(),_e=()=>gt(k=>k._isOpen),et=()=>P.map(k=>k.el),ze=()=>P.some(k=>k.isAnimating),gt=k=>{const j=P.find(k);if(void 0!==j)return j.el},H=()=>Promise.all(Array.from(document.querySelectorAll("ion-menu")).map(k=>new Promise(j=>(0,Qe.c)(k,j))));return F("reveal",pe),F("push",Ee),F("overlay",B),typeof document<"u"&&document.addEventListener("ionBackButton",k=>{const j=_e();j&&k.detail.register(Ye.MENU_BACK_BUTTON_PRIORITY,()=>j.close())}),{registerAnimation:F,get:xe,getMenus:Ve,getOpen:Te,isEnabled:de,swipeGesture:x,isAnimating:Me,isOpen:Z,enable:$,toggle:he,close:se,open:X,_getOpenSync:_e,_createAnimation:(k,j)=>{const Q=ce.get(k);if(!Q)throw new Error("animation not registered");return Q(j)},_register:k=>{P.indexOf(k)<0&&(k.disabled||M(k),P.push(k))},_unregister:k=>{const j=P.indexOf(k);j>-1&&P.splice(j,1)},_setOpen:K,_setActiveMenu:M}})()},1898:(Cn,vt,le)=>{"use strict";le.r(vt),le.d(vt,{GESTURE_CONTROLLER:()=>L.G,createGesture:()=>pe});var L=le(4349);const Ye=(P,X,se,he)=>{const $=Qe(P)?{capture:!!he.capture,passive:!!he.passive}:!!he.capture;let x,Z;return P.__zone_symbol__addEventListener?(x="__zone_symbol__addEventListener",Z="__zone_symbol__removeEventListener"):(x="addEventListener",Z="removeEventListener"),P[x](X,se,$),()=>{P[Z](X,se,$)}},Qe=P=>{if(void 0===tt)try{const X=Object.defineProperty({},"passive",{get:()=>{tt=!0}});P.addEventListener("optsTest",()=>{},X)}catch{tt=!1}return!!tt};let tt;const B=P=>P instanceof Document?P:P.ownerDocument,pe=P=>{let X=!1,se=!1,he=!0,$=!1;const x=Object.assign({disableScroll:!1,direction:"x",gesturePriority:0,passive:!0,maxAngle:40,threshold:10},P),Z=x.canStart,de=x.onWillStart,xe=x.onStart,Te=x.onEnd,Ve=x.notCaptured,Me=x.onMove,F=x.threshold,ee=x.passive,ue=x.blurOnStart,M={type:"pan",startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,event:void 0,data:void 0},K=((P,X,se)=>{const he=se*(Math.PI/180),$="x"===P,x=Math.cos(he),Z=X*X;let de=0,xe=0,Te=!1,Ve=0;return{start(Me,F){de=Me,xe=F,Ve=0,Te=!0},detect(Me,F){if(!Te)return!1;const ee=Me-de,ue=F-xe,M=ee*ee+ue*ue;if(M<Z)return!1;const K=Math.sqrt(M),G=($?ee:ue)/K;return Ve=G>x?1:G<-x?-1:0,Te=!1,!0},isGesture:()=>0!==Ve,getDirection:()=>Ve}})(x.direction,x.threshold,x.maxAngle),G=L.G.createGesture({name:P.gestureName,priority:P.gesturePriority,disableScroll:P.disableScroll}),ze=()=>{X&&($=!1,Me&&Me(M))},gt=()=>!!G.capture()&&(X=!0,he=!1,M.startX=M.currentX,M.startY=M.currentY,M.startTime=M.currentTime,de?de(M).then(k):k(),!0),k=()=>{ue&&(()=>{if(typeof document<"u"){const Le=document.activeElement;null!=Le&&Le.blur&&Le.blur()}})(),xe&&xe(M),he=!0},j=()=>{X=!1,se=!1,$=!1,he=!0,G.release()},Q=Le=>{const st=X,ne=he;if(j(),ne){if(Xe(M,Le),st)return void(Te&&Te(M));Ve&&Ve(M)}},Be=((P,X,se,he,$)=>{let x,Z,de,xe,Te,Ve,Me,F=0;const ee=H=>{F=Date.now()+2e3,X(H)&&(!Z&&se&&(Z=Ye(P,"touchmove",se,$)),de||(de=Ye(H.target,"touchend",M,$)),xe||(xe=Ye(H.target,"touchcancel",M,$)))},ue=H=>{F>Date.now()||X(H)&&(!Ve&&se&&(Ve=Ye(B(P),"mousemove",se,$)),Me||(Me=Ye(B(P),"mouseup",K,$)))},M=H=>{G(),he&&he(H)},K=H=>{_e(),he&&he(H)},G=()=>{Z&&Z(),de&&de(),xe&&xe(),Z=de=xe=void 0},_e=()=>{Ve&&Ve(),Me&&Me(),Ve=Me=void 0},et=()=>{G(),_e()},ze=(H=!0)=>{H?(x||(x=Ye(P,"touchstart",ee,$)),Te||(Te=Ye(P,"mousedown",ue,$))):(x&&x(),Te&&Te(),x=Te=void 0,et())};return{enable:ze,stop:et,destroy:()=>{ze(!1),he=se=X=void 0}}})(x.el,Le=>{const st=ce(Le);return!(se||!he||(ge(Le,M),M.startX=M.currentX,M.startY=M.currentY,M.startTime=M.currentTime=st,M.velocityX=M.velocityY=M.deltaX=M.deltaY=0,M.event=Le,Z&&!1===Z(M))||(G.release(),!G.start()))&&(se=!0,0===F?gt():(K.start(M.startX,M.startY),!0))},Le=>{X?!$&&he&&($=!0,Xe(M,Le),requestAnimationFrame(ze)):(Xe(M,Le),K.detect(M.currentX,M.currentY)&&(!K.isGesture()||!gt())&&rt())},Q,{capture:!1,passive:ee}),rt=()=>{j(),Be.stop(),Ve&&Ve(M)};return{enable(Le=!0){Le||(X&&Q(void 0),j()),Be.enable(Le)},destroy(){G.destroy(),Be.destroy()}}},Xe=(P,X)=>{if(!X)return;const se=P.currentX,he=P.currentY,$=P.currentTime;ge(X,P);const x=P.currentX,Z=P.currentY,xe=(P.currentTime=ce(X))-$;if(xe>0&&xe<100){const Ve=(Z-he)/xe;P.velocityX=(x-se)/xe*.7+.3*P.velocityX,P.velocityY=.7*Ve+.3*P.velocityY}P.deltaX=x-P.startX,P.deltaY=Z-P.startY,P.event=X},ge=(P,X)=>{let se=0,he=0;if(P){const $=P.changedTouches;if($&&$.length>0){const x=$[0];se=x.clientX,he=x.clientY}else void 0!==P.pageX&&(se=P.pageX,he=P.pageY)}X.currentX=se,X.currentY=he},ce=P=>P.timeStamp||Date.now()},9459:(Cn,vt,le)=>{"use strict";le.d(vt,{L:()=>tt,a:()=>Pe,b:()=>$e,c:()=>B,d:()=>Ee,e:()=>Me,g:()=>ue,l:()=>Ve,s:()=>F,t:()=>ge});var L=le(5861),Ye=le(9816),Qe=le(9397);const tt="ionViewWillEnter",Pe="ionViewDidEnter",$e="ionViewWillLeave",B="ionViewDidLeave",Ee="ionViewWillUnload",ge=M=>new Promise((K,G)=>{(0,Ye.w)(()=>{ce(M),P(M).then(_e=>{_e.animation&&_e.animation.destroy(),X(M),K(_e)},_e=>{X(M),G(_e)})})}),ce=M=>{const K=M.enteringEl,G=M.leavingEl;ee(K,G,M.direction),M.showGoBack?K.classList.add("can-go-back"):K.classList.remove("can-go-back"),F(K,!1),K.style.setProperty("pointer-events","none"),G&&(F(G,!1),G.style.setProperty("pointer-events","none"))},P=function(){var M=(0,L.Z)(function*(K){const G=yield se(K);return G&&Ye.B.isBrowser?he(G,K):$(K)});return function(G){return M.apply(this,arguments)}}(),X=M=>{const K=M.enteringEl,G=M.leavingEl;K.classList.remove("ion-page-invisible"),K.style.removeProperty("pointer-events"),void 0!==G&&(G.classList.remove("ion-page-invisible"),G.style.removeProperty("pointer-events"))},se=function(){var M=(0,L.Z)(function*(K){return K.leavingEl&&K.animated&&0!==K.duration?K.animationBuilder?K.animationBuilder:"ios"===K.mode?(yield Promise.resolve().then(le.bind(le,500))).iosTransitionAnimation:(yield Promise.resolve().then(le.bind(le,9892))).mdTransitionAnimation:void 0});return function(G){return M.apply(this,arguments)}}(),he=function(){var M=(0,L.Z)(function*(K,G){yield x(G,!0);const _e=K(G.baseEl,G);xe(G.enteringEl,G.leavingEl);const et=yield de(_e,G);return G.progressCallback&&G.progressCallback(void 0),et&&Te(G.enteringEl,G.leavingEl),{hasCompleted:et,animation:_e}});return function(G,_e){return M.apply(this,arguments)}}(),$=function(){var M=(0,L.Z)(function*(K){const G=K.enteringEl,_e=K.leavingEl;return yield x(K,!1),xe(G,_e),Te(G,_e),{hasCompleted:!0}});return function(G){return M.apply(this,arguments)}}(),x=function(){var M=(0,L.Z)(function*(K,G){(void 0!==K.deepWait?K.deepWait:G)&&(yield Promise.all([Me(K.enteringEl),Me(K.leavingEl)])),yield Z(K.viewIsReady,K.enteringEl)});return function(G,_e){return M.apply(this,arguments)}}(),Z=function(){var M=(0,L.Z)(function*(K,G){K&&(yield K(G))});return function(G,_e){return M.apply(this,arguments)}}(),de=(M,K)=>{const G=K.progressCallback,_e=new Promise(et=>{M.onFinish(ze=>et(1===ze))});return G?(M.progressStart(!0),G(M)):M.play(),_e},xe=(M,K)=>{Ve(K,$e),Ve(M,tt)},Te=(M,K)=>{Ve(M,Pe),Ve(K,B)},Ve=(M,K)=>{if(M){const G=new CustomEvent(K,{bubbles:!1,cancelable:!1});M.dispatchEvent(G)}},Me=function(){var M=(0,L.Z)(function*(K){const G=K;if(G){if(null!=G.componentOnReady){if(null!=(yield G.componentOnReady()))return}else if(null!=G.__registerHost)return void(yield new Promise(et=>(0,Qe.r)(et)));yield Promise.all(Array.from(G.children).map(Me))}});return function(G){return M.apply(this,arguments)}}(),F=(M,K)=>{K?(M.setAttribute("aria-hidden","true"),M.classList.add("ion-page-hidden")):(M.hidden=!1,M.removeAttribute("aria-hidden"),M.classList.remove("ion-page-hidden"))},ee=(M,K,G)=>{void 0!==M&&(M.style.zIndex="back"===G?"99":"101"),void 0!==K&&(K.style.zIndex="100")},ue=M=>M.classList.contains("ion-page")?M:M.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")||M},9816:(Cn,vt,le)=>{"use strict";le.d(vt,{B:()=>ge,H:()=>et,a:()=>yh,b:()=>Bc,c:()=>Le,d:()=>W,e:()=>ga,f:()=>D,g:()=>st,h:()=>G,i:()=>Vc,j:()=>ce,p:()=>pa,r:()=>Gg,w:()=>Gt});var L=le(5861);let Qe,tt,Pe,$e=!1,B=!1,Ee=!1,pe=!1,Xe=!1;const ge={isDev:!1,isBrowser:!0,isServer:!1,isTesting:!1},ce=_=>{const y=new URL(_,Ft.$resourcesUrl$);return y.origin!==pi.location.origin?y.href:y.pathname},Z="s-id",de="sty-id",Ve="http://www.w3.org/1999/xlink",Me={},M=_=>"object"==(_=typeof _)||"function"===_;function K(_){var y,w,m;return null!==(m=null===(w=null===(y=_.head)||void 0===y?void 0:y.querySelector('meta[name="csp-nonce"]'))||void 0===w?void 0:w.getAttribute("content"))&&void 0!==m?m:void 0}const G=(_,y,...w)=>{let m=null,b=null,C=null,O=!1,z=!1;const T=[],Y=we=>{for(let mt=0;mt<we.length;mt++)m=we[mt],Array.isArray(m)?Y(m):null!=m&&"boolean"!=typeof m&&((O="function"!=typeof _&&!M(m))&&(m=String(m)),O&&z?T[T.length-1].$text$+=m:T.push(O?_e(null,m):m),z=O)};if(Y(w),y){y.key&&(b=y.key),y.name&&(C=y.name);{const we=y.className||y.class;we&&(y.class="object"!=typeof we?we:Object.keys(we).filter(mt=>we[mt]).join(" "))}}if("function"==typeof _)return _(null===y?{}:y,T,gt);const J=_e(_,null);return J.$attrs$=y,T.length>0&&(J.$children$=T),J.$key$=b,J.$name$=C,J},_e=(_,y)=>({$flags$:0,$tag$:_,$text$:y,$elm$:null,$children$:null,$attrs$:null,$key$:null,$name$:null}),et={},gt={forEach:(_,y)=>_.map(H).forEach(y),map:(_,y)=>_.map(H).map(y).map(k)},H=_=>({vattrs:_.$attrs$,vchildren:_.$children$,vkey:_.$key$,vname:_.$name$,vtag:_.$tag$,vtext:_.$text$}),k=_=>{if("function"==typeof _.vtag){const w=Object.assign({},_.vattrs);return _.vkey&&(w.key=_.vkey),_.vname&&(w.name=_.vname),G(_.vtag,w,..._.vchildren||[])}const y=_e(_.vtag,_.vtext);return y.$attrs$=_.vattrs,y.$children$=_.vchildren,y.$key$=_.vkey,y.$name$=_.vname,y},Q=(_,y,w,m,b,C,O)=>{let z,T,Y,J;if(1===C.nodeType){for(z=C.getAttribute("c-id"),z&&(T=z.split("."),(T[0]===O||"0"===T[0])&&(Y={$flags$:0,$hostId$:T[0],$nodeId$:T[1],$depth$:T[2],$index$:T[3],$tag$:C.tagName.toLowerCase(),$elm$:C,$attrs$:null,$children$:null,$key$:null,$name$:null,$text$:null},y.push(Y),C.removeAttribute("c-id"),_.$children$||(_.$children$=[]),_.$children$[Y.$index$]=Y,_=Y,m&&"0"===Y.$depth$&&(m[Y.$index$]=Y.$elm$))),J=C.childNodes.length-1;J>=0;J--)Q(_,y,w,m,b,C.childNodes[J],O);if(C.shadowRoot)for(J=C.shadowRoot.childNodes.length-1;J>=0;J--)Q(_,y,w,m,b,C.shadowRoot.childNodes[J],O)}else if(8===C.nodeType)T=C.nodeValue.split("."),(T[1]===O||"0"===T[1])&&(z=T[0],Y={$flags$:0,$hostId$:T[1],$nodeId$:T[2],$depth$:T[3],$index$:T[4],$elm$:C,$attrs$:null,$children$:null,$key$:null,$name$:null,$tag$:null,$text$:null},"t"===z?(Y.$elm$=C.nextSibling,Y.$elm$&&3===Y.$elm$.nodeType&&(Y.$text$=Y.$elm$.textContent,y.push(Y),C.remove(),_.$children$||(_.$children$=[]),_.$children$[Y.$index$]=Y,m&&"0"===Y.$depth$&&(m[Y.$index$]=Y.$elm$))):Y.$hostId$===O&&("s"===z?(Y.$tag$="slot",C["s-sn"]=T[5]?Y.$name$=T[5]:"",C["s-sr"]=!0,m&&(Y.$elm$=Bt.createElement(Y.$tag$),Y.$name$&&Y.$elm$.setAttribute("name",Y.$name$),C.parentNode.insertBefore(Y.$elm$,C),C.remove(),"0"===Y.$depth$&&(m[Y.$index$]=Y.$elm$)),w.push(Y),_.$children$||(_.$children$=[]),_.$children$[Y.$index$]=Y):"r"===z&&(m?C.remove():(b["s-cr"]=C,C["s-cn"]=!0))));else if(_&&"style"===_.$tag$){const we=_e(null,C.textContent);we.$elm$=C,we.$index$="0",_.$children$=[we]}},Be=(_,y)=>{if(1===_.nodeType){let w=0;for(;w<_.childNodes.length;w++)Be(_.childNodes[w],y);if(_.shadowRoot)for(w=0;w<_.shadowRoot.childNodes.length;w++)Be(_.shadowRoot.childNodes[w],y)}else if(8===_.nodeType){const w=_.nodeValue.split(".");"o"===w[0]&&(y.set(w[1]+"."+w[2],_),_.nodeValue="",_["s-en"]=w[3])}},Le=_=>js.push(_),st=_=>Sn(_).$modeName$,D=_=>Sn(_).$hostElement$,W=(_,y,w)=>{const m=D(_);return{emit:b=>Re(m,y,{bubbles:!!(4&w),composed:!!(2&w),cancelable:!!(1&w),detail:b})}},Re=(_,y,w)=>{const m=Ft.ce(y,w);return _.dispatchEvent(m),m},ot=new WeakMap,bt=(_,y,w)=>{let m=ns.get(_);Ih&&w?(m=m||new CSSStyleSheet,"string"==typeof m?m=y:m.replaceSync(y)):m=y,ns.set(_,m)},V=(_,y,w,m)=>{var b;let C=Ot(y,w);const O=ns.get(C);if(_=11===_.nodeType?_:Bt,O)if("string"==typeof O){let T,z=ot.get(_=_.head||_);if(z||ot.set(_,z=new Set),!z.has(C)){if(_.host&&(T=_.querySelector(`[${de}="${C}"]`)))T.innerHTML=O;else{T=Bt.createElement("style"),T.innerHTML=O;const Y=null!==(b=Ft.$nonce$)&&void 0!==b?b:K(Bt);null!=Y&&T.setAttribute("nonce",Y),_.insertBefore(T,_.querySelector("link"))}z&&z.add(C)}}else _.adoptedStyleSheets.includes(O)||(_.adoptedStyleSheets=[..._.adoptedStyleSheets,O]);return C},Ot=(_,y)=>"sc-"+(y&&32&_.$flags$?_.$tagName$+"-"+y:_.$tagName$),dn=_=>_.replace(/\/\*!@([^\/]+)\*\/[^\{]+\{/g,"$1{"),tr=(_,y,w,m,b,C)=>{if(w!==m){let O=ys(_,y),z=y.toLowerCase();if("class"===y){const T=_.classList,Y=Pc(w),J=Pc(m);T.remove(...Y.filter(we=>we&&!J.includes(we))),T.add(...J.filter(we=>we&&!Y.includes(we)))}else if("style"===y){for(const T in w)(!m||null==m[T])&&(T.includes("-")?_.style.removeProperty(T):_.style[T]="");for(const T in m)(!w||m[T]!==w[T])&&(T.includes("-")?_.style.setProperty(T,m[T]):_.style[T]=m[T])}else if("key"!==y)if("ref"===y)m&&m(_);else if(O||"o"!==y[0]||"n"!==y[1]){const T=M(m);if((O||T&&null!==m)&&!b)try{if(_.tagName.includes("-"))_[y]=m;else{const J=null==m?"":m;"list"===y?O=!1:(null==w||_[y]!=J)&&(_[y]=J)}}catch{}let Y=!1;z!==(z=z.replace(/^xlink\:?/,""))&&(y=z,Y=!0),null==m||!1===m?(!1!==m||""===_.getAttribute(y))&&(Y?_.removeAttributeNS(Ve,y):_.removeAttribute(y)):(!O||4&C||b)&&!T&&(m=!0===m?"":m,Y?_.setAttributeNS(Ve,y,m):_.setAttribute(y,m))}else y="-"===y[2]?y.slice(3):ys(pi,z)?z.slice(2):z[2]+y.slice(3),w&&Ft.rel(_,y,w,!1),m&&Ft.ael(_,y,m,!1)}},di=/\s/,Pc=_=>_?_.split(di):[],Or=(_,y,w,m)=>{const b=11===y.$elm$.nodeType&&y.$elm$.host?y.$elm$.host:y.$elm$,C=_&&_.$attrs$||Me,O=y.$attrs$||Me;for(m in C)m in O||tr(b,m,C[m],void 0,w,y.$flags$);for(m in O)tr(b,m,C[m],O[m],w,y.$flags$)},dl=(_,y,w,m)=>{const b=y.$children$[w];let O,z,T,C=0;if($e||(Ee=!0,"slot"===b.$tag$&&(Qe&&m.classList.add(Qe+"-s"),b.$flags$|=b.$children$?2:1)),null!==b.$text$)O=b.$elm$=Bt.createTextNode(b.$text$);else if(1&b.$flags$)O=b.$elm$=Bt.createTextNode("");else{if(pe||(pe="svg"===b.$tag$),O=b.$elm$=Bt.createElementNS(pe?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",2&b.$flags$?"slot-fb":b.$tag$),pe&&"foreignObject"===b.$tag$&&(pe=!1),Or(null,b,pe),(_=>null!=_)(Qe)&&O["s-si"]!==Qe&&O.classList.add(O["s-si"]=Qe),b.$children$)for(C=0;C<b.$children$.length;++C)z=dl(_,b,C,O),z&&O.appendChild(z);"svg"===b.$tag$?pe=!1:"foreignObject"===O.tagName&&(pe=!0)}return O["s-hn"]=Pe,3&b.$flags$&&(O["s-sr"]=!0,O["s-cr"]=tt,O["s-sn"]=b.$name$||"",T=_&&_.$children$&&_.$children$[w],T&&T.$tag$===b.$tag$&&_.$elm$&&qn(_.$elm$,!1)),O},qn=(_,y)=>{Ft.$flags$|=1;const w=_.childNodes;for(let m=w.length-1;m>=0;m--){const b=w[m];b["s-hn"]!==Pe&&b["s-ol"]&&(ch(b).insertBefore(b,Oc(b)),b["s-ol"].remove(),b["s-ol"]=void 0,Ee=!0),y&&qn(b,y)}Ft.$flags$&=-2},ah=(_,y,w,m,b,C)=>{let z,O=_["s-cr"]&&_["s-cr"].parentNode||_;for(O.shadowRoot&&O.tagName===Pe&&(O=O.shadowRoot);b<=C;++b)m[b]&&(z=dl(null,w,b,_),z&&(m[b].$elm$=z,O.insertBefore(z,Oc(y))))},fa=(_,y,w,m,b)=>{for(;y<=w;++y)(m=_[y])&&(b=m.$elm$,Lc(m),B=!0,b["s-ol"]?b["s-ol"].remove():qn(b,!0),b.remove())},hl=(_,y)=>_.$tag$===y.$tag$&&("slot"===_.$tag$?_.$name$===y.$name$:_.$key$===y.$key$),Oc=_=>_&&_["s-ol"]||_,ch=_=>(_["s-ol"]?_["s-ol"]:_).parentNode,nr=(_,y)=>{const w=y.$elm$=_.$elm$,m=_.$children$,b=y.$children$,C=y.$tag$,O=y.$text$;let z;null===O?(pe="svg"===C||"foreignObject"!==C&&pe,"slot"===C||Or(_,y,pe),null!==m&&null!==b?((_,y,w,m)=>{let rs,Er,b=0,C=0,O=0,z=0,T=y.length-1,Y=y[0],J=y[T],we=m.length-1,mt=m[0],An=m[we];for(;b<=T&&C<=we;)if(null==Y)Y=y[++b];else if(null==J)J=y[--T];else if(null==mt)mt=m[++C];else if(null==An)An=m[--we];else if(hl(Y,mt))nr(Y,mt),Y=y[++b],mt=m[++C];else if(hl(J,An))nr(J,An),J=y[--T],An=m[--we];else if(hl(Y,An))("slot"===Y.$tag$||"slot"===An.$tag$)&&qn(Y.$elm$.parentNode,!1),nr(Y,An),_.insertBefore(Y.$elm$,J.$elm$.nextSibling),Y=y[++b],An=m[--we];else if(hl(J,mt))("slot"===Y.$tag$||"slot"===An.$tag$)&&qn(J.$elm$.parentNode,!1),nr(J,mt),_.insertBefore(J.$elm$,Y.$elm$),J=y[--T],mt=m[++C];else{for(O=-1,z=b;z<=T;++z)if(y[z]&&null!==y[z].$key$&&y[z].$key$===mt.$key$){O=z;break}O>=0?(Er=y[O],Er.$tag$!==mt.$tag$?rs=dl(y&&y[C],w,O,_):(nr(Er,mt),y[O]=void 0,rs=Er.$elm$),mt=m[++C]):(rs=dl(y&&y[C],w,C,_),mt=m[++C]),rs&&ch(Y.$elm$).insertBefore(rs,Oc(Y.$elm$))}b>T?ah(_,null==m[we+1]?null:m[we+1].$elm$,w,m,C,we):C>we&&fa(y,b,T)})(w,m,y,b):null!==b?(null!==_.$text$&&(w.textContent=""),ah(w,null,y,b,0,b.length-1)):null!==m&&fa(m,0,m.length-1),pe&&"svg"===C&&(pe=!1)):(z=w["s-cr"])?z.parentNode.textContent=O:_.$text$!==O&&(w.data=O)},Fc=_=>{const y=_.childNodes;let w,m,b,C,O,z;for(m=0,b=y.length;m<b;m++)if(w=y[m],1===w.nodeType){if(w["s-sr"])for(O=w["s-sn"],w.hidden=!1,C=0;C<b;C++)if(z=y[C].nodeType,y[C]["s-hn"]!==w["s-hn"]||""!==O){if(1===z&&O===y[C].getAttribute("slot")){w.hidden=!0;break}}else if(1===z||3===z&&""!==y[C].textContent.trim()){w.hidden=!0;break}Fc(w)}},Zr=[],fl=_=>{let y,w,m,b,C,O,z=0;const T=_.childNodes,Y=T.length;for(;z<Y;z++){if(y=T[z],y["s-sr"]&&(w=y["s-cr"])&&w.parentNode)for(m=w.parentNode.childNodes,b=y["s-sn"],O=m.length-1;O>=0;O--)w=m[O],!w["s-cn"]&&!w["s-nr"]&&w["s-hn"]!==y["s-hn"]&&(uh(w,b)?(C=Zr.find(J=>J.$nodeToRelocate$===w),B=!0,w["s-sn"]=w["s-sn"]||b,C?C.$slotRefNode$=y:Zr.push({$slotRefNode$:y,$nodeToRelocate$:w}),w["s-sr"]&&Zr.map(J=>{uh(J.$nodeToRelocate$,w["s-sn"])&&(C=Zr.find(we=>we.$nodeToRelocate$===w),C&&!J.$slotRefNode$&&(J.$slotRefNode$=C.$slotRefNode$))})):Zr.some(J=>J.$nodeToRelocate$===w)||Zr.push({$nodeToRelocate$:w}));1===y.nodeType&&fl(y)}},uh=(_,y)=>1===_.nodeType?null===_.getAttribute("slot")&&""===y||_.getAttribute("slot")===y:_["s-sn"]===y||""===y,Lc=_=>{_.$attrs$&&_.$attrs$.ref&&_.$attrs$.ref(null),_.$children$&&_.$children$.map(Lc)},dh=(_,y)=>{y&&!_.$onRenderResolve$&&y["s-p"]&&y["s-p"].push(new Promise(w=>_.$onRenderResolve$=w))},pl=(_,y)=>{if(_.$flags$|=16,!(4&_.$flags$))return dh(_,_.$ancestorComponent$),Gt(()=>zg(_,y));_.$flags$|=512},zg=(_,y)=>{const m=_.$lazyInstance$;let b;return y&&(_.$flags$|=256,_.$queuedListeners$&&(_.$queuedListeners$.map(([C,O])=>Ni(m,C,O)),_.$queuedListeners$=null),b=Ni(m,"componentWillLoad")),b=Vs(b,()=>Ni(m,"componentWillRender")),Vs(b,()=>Hg(_,m,y))},Hg=function(){var _=(0,L.Z)(function*(y,w,m){const b=y.$hostElement$,O=b["s-rc"];m&&(_=>{const y=_.$cmpMeta$,w=_.$hostElement$,m=y.$flags$,C=V(w.shadowRoot?w.shadowRoot:w.getRootNode(),y,_.$modeName$);10&m&&(w["s-sc"]=C,w.classList.add(C+"-h"),2&m&&w.classList.add(C+"-s"))})(y);gl(y,w),O&&(O.map(T=>T()),b["s-rc"]=void 0);{const T=b["s-p"],Y=()=>$c(y);0===T.length?Y():(Promise.all(T).then(Y),y.$flags$|=4,T.length=0)}});return function(w,m,b){return _.apply(this,arguments)}}(),gl=(_,y,w)=>{try{y=y.render&&y.render(),_.$flags$&=-17,_.$flags$|=2,((_,y)=>{const w=_.$hostElement$,m=_.$cmpMeta$,b=_.$vnode$||_e(null,null),C=(_=>_&&_.$tag$===et)(y)?y:G(null,null,y);if(Pe=w.tagName,m.$attrsToReflect$&&(C.$attrs$=C.$attrs$||{},m.$attrsToReflect$.map(([O,z])=>C.$attrs$[z]=w[O])),C.$tag$=null,C.$flags$|=4,_.$vnode$=C,C.$elm$=b.$elm$=w.shadowRoot||w,Qe=w["s-sc"],tt=w["s-cr"],$e=0!=(1&m.$flags$),B=!1,nr(b,C),Ft.$flags$|=1,Ee){fl(C.$elm$);let O,z,T,Y,J,we,mt=0;for(;mt<Zr.length;mt++)O=Zr[mt],z=O.$nodeToRelocate$,z["s-ol"]||(T=Bt.createTextNode(""),T["s-nr"]=z,z.parentNode.insertBefore(z["s-ol"]=T,z));for(mt=0;mt<Zr.length;mt++)if(O=Zr[mt],z=O.$nodeToRelocate$,O.$slotRefNode$){for(Y=O.$slotRefNode$.parentNode,J=O.$slotRefNode$.nextSibling,T=z["s-ol"];T=T.previousSibling;)if(we=T["s-nr"],we&&we["s-sn"]===z["s-sn"]&&Y===we.parentNode&&(we=we.nextSibling,!we||!we["s-nr"])){J=we;break}(!J&&Y!==z.parentNode||z.nextSibling!==J)&&z!==J&&(!z["s-hn"]&&z["s-ol"]&&(z["s-hn"]=z["s-ol"].parentNode.nodeName),Y.insertBefore(z,J))}else 1===z.nodeType&&(z.hidden=!0)}B&&Fc(C.$elm$),Ft.$flags$&=-2,Zr.length=0})(_,y)}catch(m){fi(m,_.$hostElement$)}return null},$c=_=>{const w=_.$hostElement$,b=_.$lazyInstance$,C=_.$ancestorComponent$;Ni(b,"componentDidRender"),64&_.$flags$?Ni(b,"componentDidUpdate"):(_.$flags$|=64,es(w),Ni(b,"componentDidLoad"),_.$onReadyResolve$(w),C||ml()),_.$onInstanceResolve$(w),_.$onRenderResolve$&&(_.$onRenderResolve$(),_.$onRenderResolve$=void 0),512&_.$flags$&&jt(()=>pl(_,!1)),_.$flags$&=-517},Vc=_=>{{const y=Sn(_),w=y.$hostElement$.isConnected;return w&&2==(18&y.$flags$)&&pl(y,!1),w}},ml=_=>{es(Bt.documentElement),jt(()=>Re(pi,"appload",{detail:{namespace:"ionic"}}))},Ni=(_,y,w)=>{if(_&&_[y])try{return _[y](w)}catch(m){fi(m)}},Vs=(_,y)=>_&&_.then?_.then(y):y(),es=_=>_.classList.add("hydrated"),hi=(_,y,w)=>{if(y.$members$){_.watchers&&(y.$watchers$=_.watchers);const m=Object.entries(y.$members$),b=_.prototype;if(m.map(([C,[O]])=>{31&O||2&w&&32&O?Object.defineProperty(b,C,{get(){return((_,y)=>Sn(this).$instanceValues$.get(y))(0,C)},set(z){((_,y,w,m)=>{const b=Sn(_),C=b.$hostElement$,O=b.$instanceValues$.get(y),z=b.$flags$,T=b.$lazyInstance$;w=((_,y)=>null==_||M(_)?_:4&y?"false"!==_&&(""===_||!!_):2&y?parseFloat(_):1&y?String(_):_)(w,m.$members$[y][0]);const Y=Number.isNaN(O)&&Number.isNaN(w);if((!(8&z)||void 0===O)&&w!==O&&!Y&&(b.$instanceValues$.set(y,w),T)){if(m.$watchers$&&128&z){const we=m.$watchers$[y];we&&we.map(mt=>{try{T[mt](w,O,y)}catch(An){fi(An,C)}})}2==(18&z)&&pl(b,!1)}})(this,C,z,y)},configurable:!0,enumerable:!0}):1&w&&64&O&&Object.defineProperty(b,C,{value(...z){const T=Sn(this);return T.$onInstancePromise$.then(()=>T.$lazyInstance$[C](...z))}})}),1&w){const C=new Map;b.attributeChangedCallback=function(O,z,T){Ft.jmp(()=>{const Y=C.get(O);if(this.hasOwnProperty(Y))T=this[Y],delete this[Y];else if(b.hasOwnProperty(Y)&&"number"==typeof this[Y]&&this[Y]==T)return;this[Y]=(null!==T||"boolean"!=typeof this[Y])&&T})},_.observedAttributes=m.filter(([O,z])=>15&z[0]).map(([O,z])=>{const T=z[1]||O;return C.set(T,O),512&z[0]&&y.$attrsToReflect$.push([O,T]),T})}}return _},Tn=function(){var _=(0,L.Z)(function*(y,w,m,b,C){if(!(32&w.$flags$)){{if(w.$flags$|=32,(C=Bs(m)).then){const Y=()=>{};C=yield C,Y()}C.isProxied||(m.$watchers$=C.watchers,hi(C,m,2),C.isProxied=!0);const T=()=>{};w.$flags$|=8;try{new C(w)}catch(Y){fi(Y)}w.$flags$&=-9,w.$flags$|=128,T(),Uc(w.$lazyInstance$)}if(C.style){let T=C.style;"string"!=typeof T&&(T=T[w.$modeName$=(_=>js.map(y=>y(_)).find(y=>!!y))(y)]);const Y=Ot(m,w.$modeName$);if(!ns.has(Y)){const J=()=>{};bt(Y,T,!!(1&m.$flags$)),J()}}}const O=w.$ancestorComponent$,z=()=>pl(w,!0);O&&O["s-rc"]?O["s-rc"].push(z):z()});return function(w,m,b,C,O){return _.apply(this,arguments)}}(),Uc=_=>{Ni(_,"connectedCallback")},fh=_=>{const y=_["s-cr"]=Bt.createComment("");y["s-cn"]=!0,_.insertBefore(y,_.firstChild)},Bc=(_,y={})=>{var w;const b=[],C=y.exclude||[],O=pi.customElements,z=Bt.head,T=z.querySelector("meta[charset]"),Y=Bt.createElement("style"),J=[],we=Bt.querySelectorAll(`[${de}]`);let mt,An=!0,rs=0;for(Object.assign(Ft,y),Ft.$resourcesUrl$=new URL(y.resourcesUrl||"./",Bt.baseURI).href,Ft.$flags$|=2;rs<we.length;rs++)bt(we[rs].getAttribute(de),dn(we[rs].innerHTML),!0);_.map(Er=>{Er[1].map(Kn=>{const vs={$flags$:Kn[0],$tagName$:Kn[1],$members$:Kn[2],$listeners$:Kn[3]};vs.$members$=Kn[2],vs.$listeners$=Kn[3],vs.$attrsToReflect$=[],vs.$watchers$={};const Gc=vs.$tagName$,I1=class extends HTMLElement{constructor(Oi){super(Oi),_h(Oi=this,vs),1&vs.$flags$&&Oi.attachShadow({mode:"open",delegatesFocus:!!(16&vs.$flags$)})}connectedCallback(){mt&&(clearTimeout(mt),mt=null),An?J.push(this):Ft.jmp(()=>(_=>{if(!(1&Ft.$flags$)){const y=Sn(_),w=y.$cmpMeta$,m=()=>{};if(1&y.$flags$)jc(_,y,w.$listeners$),Uc(y.$lazyInstance$);else{let b;if(y.$flags$|=1,b=_.getAttribute(Z),b){if(1&w.$flags$){const C=V(_.shadowRoot,w,_.getAttribute("s-mode"));_.classList.remove(C+"-h",C+"-s")}((_,y,w,m)=>{const C=_.shadowRoot,O=[],T=C?[]:null,Y=m.$vnode$=_e(y,null);Ft.$orgLocNodes$||Be(Bt.body,Ft.$orgLocNodes$=new Map),_[Z]=w,_.removeAttribute(Z),Q(Y,O,[],T,_,_,w),O.map(J=>{const we=J.$hostId$+"."+J.$nodeId$,mt=Ft.$orgLocNodes$.get(we),An=J.$elm$;mt&&vh&&""===mt["s-en"]&&mt.parentNode.insertBefore(An,mt.nextSibling),C||(An["s-hn"]=y,mt&&(An["s-ol"]=mt,An["s-ol"]["s-nr"]=An)),Ft.$orgLocNodes$.delete(we)}),C&&T.map(J=>{J&&C.appendChild(J)})})(_,w.$tagName$,b,y)}b||12&w.$flags$&&fh(_);{let C=_;for(;C=C.parentNode||C.host;)if(1===C.nodeType&&C.hasAttribute("s-id")&&C["s-p"]||C["s-p"]){dh(y,y.$ancestorComponent$=C);break}}w.$members$&&Object.entries(w.$members$).map(([C,[O]])=>{if(31&O&&_.hasOwnProperty(C)){const z=_[C];delete _[C],_[C]=z}}),Tn(_,y,w)}m()}})(this))}disconnectedCallback(){Ft.jmp(()=>(_=>{if(!(1&Ft.$flags$)){const y=Sn(this),w=y.$lazyInstance$;y.$rmListeners$&&(y.$rmListeners$.map(m=>m()),y.$rmListeners$=void 0),Ni(w,"disconnectedCallback")}})())}componentOnReady(){return Sn(this).$onReadyPromise$}};vs.$lazyBundleId$=Er[0],!C.includes(Gc)&&!O.get(Gc)&&(b.push(Gc),O.define(Gc,hi(I1,vs,1)))})});{Y.innerHTML=b+"{visibility:hidden}.hydrated{visibility:inherit}",Y.setAttribute("data-styles","");const Er=null!==(w=Ft.$nonce$)&&void 0!==w?w:K(Bt);null!=Er&&Y.setAttribute("nonce",Er),z.insertBefore(Y,T?T.nextSibling:z.firstChild)}An=!1,J.length?J.map(Er=>Er.connectedCallback()):Ft.jmp(()=>mt=setTimeout(ml,30))},jc=(_,y,w,m)=>{w&&w.map(([b,C,O])=>{const z=Pi(_,b),T=gh(y,O),Y=mh(b);Ft.ael(z,C,T,Y),(y.$rmListeners$=y.$rmListeners$||[]).push(()=>Ft.rel(z,C,T,Y))})},gh=(_,y)=>w=>{try{256&_.$flags$?_.$lazyInstance$[y](w):(_.$queuedListeners$=_.$queuedListeners$||[]).push([y,w])}catch(m){fi(m)}},Pi=(_,y)=>4&y?Bt:8&y?pi:16&y?Bt.body:_,mh=_=>0!=(2&_),ts=new WeakMap,Sn=_=>ts.get(_),Gg=(_,y)=>ts.set(y.$lazyInstance$=_,y),_h=(_,y)=>{const w={$flags$:0,$hostElement$:_,$cmpMeta$:y,$instanceValues$:new Map};return w.$onInstancePromise$=new Promise(m=>w.$onInstanceResolve$=m),w.$onReadyPromise$=new Promise(m=>w.$onReadyResolve$=m),_["s-p"]=[],_["s-rc"]=[],jc(_,w,y.$listeners$),ts.set(_,w)},ys=(_,y)=>y in _,fi=(_,y)=>(0,console.error)(_,y),_l=new Map,Bs=(_,y,w)=>{const m=_.$tagName$.replace(/-/g,"_"),b=_.$lazyBundleId$,C=_l.get(b);return C?C[m]:le(863)(`./${b}.entry.js`).then(O=>(_l.set(b,O),O[m]),fi)},ns=new Map,js=[],pi=typeof window<"u"?window:{},Bt=pi.document||{head:{}},Ft={$flags$:0,$resourcesUrl$:"",jmp:_=>_(),raf:_=>requestAnimationFrame(_),ael:(_,y,w,m)=>_.addEventListener(y,w,m),rel:(_,y,w,m)=>_.removeEventListener(y,w,m),ce:(_,y)=>new CustomEvent(_,y)},yh=_=>{Object.assign(Ft,_)},vh=!0,pa=_=>Promise.resolve(_),Ih=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replaceSync}catch{}return!1})(),yl=[],nn=[],zc=(_,y)=>w=>{_.push(w),Xe||(Xe=!0,y&&4&Ft.$flags$?jt(wo):Ft.raf(wo))},Hc=_=>{for(let y=0;y<_.length;y++)try{_[y](performance.now())}catch(w){fi(w)}_.length=0},wo=()=>{Hc(yl),Hc(nn),(Xe=yl.length>0)&&Ft.raf(wo)},jt=_=>pa().then(_),ga=zc(yl,!1),Gt=zc(nn,!0)},1178:(Cn,vt,le)=>{"use strict";le.d(vt,{a:()=>Ye,b:()=>Qe,p:()=>L});const L=(tt,...Pe)=>console.warn(`[Ionic Warning]: ${tt}`,...Pe),Ye=(tt,...Pe)=>console.error(`[Ionic Error]: ${tt}`,...Pe),Qe=(tt,...Pe)=>console.error(`<${tt.tagName.toLowerCase()}> must be used inside ${Pe.join(" or ")}.`)},6406:(Cn,vt,le)=>{"use strict";le.d(vt,{a:()=>ge,b:()=>ze,c:()=>Qe,g:()=>Xe,i:()=>gt});var L=le(9816);class Ye{constructor(){this.m=new Map}reset(k){this.m=new Map(Object.entries(k))}get(k,j){const Q=this.m.get(k);return void 0!==Q?Q:j}getBoolean(k,j=!1){const Q=this.m.get(k);return void 0===Q?j:"string"==typeof Q?"true"===Q:!!Q}getNumber(k,j){const Q=parseFloat(this.m.get(k));return isNaN(Q)?void 0!==j?j:NaN:Q}set(k,j){this.m.set(k,j)}}const Qe=new Ye,pe="ionic-persist-config",Xe=H=>ce(H),ge=(H,k)=>("string"==typeof H&&(k=H,H=void 0),Xe(H).includes(k)),ce=(H=window)=>{if(typeof H>"u")return[];H.Ionic=H.Ionic||{};let k=H.Ionic.platforms;return null==k&&(k=H.Ionic.platforms=P(H),k.forEach(j=>H.document.documentElement.classList.add(`plt-${j}`))),k},P=H=>{const k=Qe.get("platform");return Object.keys(_e).filter(j=>{const Q=null==k?void 0:k[j];return"function"==typeof Q?Q(H):_e[j](H)})},se=H=>!!(K(H,/iPad/i)||K(H,/Macintosh/i)&&Te(H)),x=H=>K(H,/android|sink/i),Te=H=>G(H,"(any-pointer:coarse)"),Me=H=>F(H)||ee(H),F=H=>!!(H.cordova||H.phonegap||H.PhoneGap),ee=H=>{const k=H.Capacitor;return!(null==k||!k.isNative)},K=(H,k)=>k.test(H.navigator.userAgent),G=(H,k)=>{var j;return null===(j=H.matchMedia)||void 0===j?void 0:j.call(H,k).matches},_e={ipad:se,iphone:H=>K(H,/iPhone/i),ios:H=>K(H,/iPhone|iPod/i)||se(H),android:x,phablet:H=>{const k=H.innerWidth,j=H.innerHeight,Q=Math.min(k,j),Be=Math.max(k,j);return Q>390&&Q<520&&Be>620&&Be<800},tablet:H=>{const k=H.innerWidth,j=H.innerHeight,Q=Math.min(k,j),Be=Math.max(k,j);return se(H)||(H=>x(H)&&!K(H,/mobile/i))(H)||Q>460&&Q<820&&Be>780&&Be<1400},cordova:F,capacitor:ee,electron:H=>K(H,/electron/i),pwa:H=>{var k;return!!(null!==(k=H.matchMedia)&&void 0!==k&&k.call(H,"(display-mode: standalone)").matches||H.navigator.standalone)},mobile:Te,mobileweb:H=>Te(H)&&!Me(H),desktop:H=>!Te(H),hybrid:Me};let et;const ze=H=>H&&(0,L.g)(H)||et,gt=(H={})=>{if(typeof window>"u")return;const k=window.document,j=window,Q=j.Ionic=j.Ionic||{},Be={};H._ael&&(Be.ael=H._ael),H._rel&&(Be.rel=H._rel),H._ce&&(Be.ce=H._ce),(0,L.a)(Be);const rt=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},(H=>{try{const k=H.sessionStorage.getItem(pe);return null!==k?JSON.parse(k):{}}catch{return{}}})(j)),{persistConfig:!1}),Q.config),(H=>{const k={};return H.location.search.slice(1).split("&").map(j=>j.split("=")).map(([j,Q])=>[decodeURIComponent(j),decodeURIComponent(Q)]).filter(([j])=>((H,k)=>H.substr(0,k.length)===k)(j,"ionic:")).map(([j,Q])=>[j.slice("ionic:".length),Q]).forEach(([j,Q])=>{k[j]=Q}),k})(j)),H);Qe.reset(rt),Qe.getBoolean("persistConfig")&&((H,k)=>{try{H.sessionStorage.setItem(pe,JSON.stringify(k))}catch{return}})(j,rt),ce(j),Q.config=Qe,Q.mode=et=Qe.get("mode",k.documentElement.getAttribute("mode")||(ge(j,"ios")?"ios":"md")),Qe.set("mode",et),k.documentElement.setAttribute("mode",et),k.documentElement.classList.add(et),Qe.getBoolean("_testing")&&Qe.set("animated",!1);const Le=ne=>{var D;return null===(D=ne.tagName)||void 0===D?void 0:D.startsWith("ION-")},st=ne=>["ios","md"].includes(ne);(0,L.c)(ne=>{for(;ne;){const D=ne.mode||ne.getAttribute("mode");if(D){if(st(D))return D;Le(ne)&&console.warn('Invalid ionic mode: "'+D+'", expected: "ios" or "md"')}ne=ne.parentElement}return et})}},500:(Cn,vt,le)=>{"use strict";le.r(vt),le.d(vt,{iosTransitionAnimation:()=>P,shadow:()=>B});var L=le(2200),Ye=le(9459);le(3457),le(9816);const $e=X=>document.querySelector(`${X}.ion-cloned-element`),B=X=>X.shadowRoot||X,Ee=X=>{const se="ION-TABS"===X.tagName?X:X.querySelector("ion-tabs"),he="ion-content ion-header:not(.header-collapse-condense-inactive) ion-title.title-large";if(null!=se){const $=se.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");return null!=$?$.querySelector(he):null}return X.querySelector(he)},pe=(X,se)=>{const he="ION-TABS"===X.tagName?X:X.querySelector("ion-tabs");let $=[];if(null!=he){const x=he.querySelector("ion-tab:not(.tab-hidden), .ion-page:not(.ion-page-hidden)");null!=x&&($=x.querySelectorAll("ion-buttons"))}else $=X.querySelectorAll("ion-buttons");for(const x of $){const Z=x.closest("ion-header"),de=Z&&!Z.classList.contains("header-collapse-condense-inactive"),xe=x.querySelector("ion-back-button"),Te=x.classList.contains("buttons-collapse");if(null!==xe&&("start"===x.slot||""===x.slot)&&(Te&&de&&se||!Te))return xe}return null},ge=(X,se,he,$,x,Z)=>{const de=se?`calc(100% - ${Z.right+4}px)`:Z.left-4+"px",xe=se?"7px":"-7px",Te=se?"-4px":"4px",Ve=se?"-4px":"4px",Me=se?"right":"left",F=se?"left":"right",M=he?[{offset:0,opacity:1,transform:`translate3d(${Te}, ${Z.top-46}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${xe}, ${x.top-40}px, 0) scale(2.1)`}]:[{offset:0,opacity:0,transform:`translate3d(${xe}, ${x.top-40}px, 0) scale(2.1)`},{offset:1,opacity:1,transform:`translate3d(${Te}, ${Z.top-46}px, 0) scale(1)`}],_e=he?[{offset:0,opacity:1,transform:`translate3d(${Ve}, ${Z.top-46}px, 0) scale(1)`},{offset:.2,opacity:0,transform:`translate3d(${Ve}, ${Z.top-41}px, 0) scale(0.6)`},{offset:1,opacity:0,transform:`translate3d(${Ve}, ${Z.top-41}px, 0) scale(0.6)`}]:[{offset:0,opacity:0,transform:`translate3d(${Ve}, ${Z.top-41}px, 0) scale(0.6)`},{offset:1,opacity:1,transform:`translate3d(${Ve}, ${Z.top-46}px, 0) scale(1)`}],et=(0,L.c)(),ze=(0,L.c)(),gt=$e("ion-back-button"),H=B(gt).querySelector(".button-text"),k=B(gt).querySelector("ion-icon");gt.text=$.text,gt.mode=$.mode,gt.icon=$.icon,gt.color=$.color,gt.disabled=$.disabled,gt.style.setProperty("display","block"),gt.style.setProperty("position","fixed"),ze.addElement(k),et.addElement(H),et.beforeStyles({"transform-origin":`${Me} center`}).beforeAddWrite(()=>{$.style.setProperty("display","none"),gt.style.setProperty(Me,de)}).afterAddWrite(()=>{$.style.setProperty("display",""),gt.style.setProperty("display","none"),gt.style.removeProperty(Me)}).keyframes(M),ze.beforeStyles({"transform-origin":`${F} center`}).keyframes(_e),X.addAnimation([et,ze])},ce=(X,se,he,$,x,Z)=>{const de=se?`calc(100% - ${x.right}px)`:`${x.left}px`,xe=se?"-18px":"18px",Te=se?"right":"left",F=he?[{offset:0,opacity:0,transform:`translate3d(${xe}, ${Z.top-4}px, 0) scale(0.49)`},{offset:.1,opacity:0},{offset:1,opacity:1,transform:`translate3d(0, ${x.top-2}px, 0) scale(1)`}]:[{offset:0,opacity:.99,transform:`translate3d(0, ${x.top-2}px, 0) scale(1)`},{offset:.6,opacity:0},{offset:1,opacity:0,transform:`translate3d(${xe}, ${Z.top-4}px, 0) scale(0.5)`}],ee=$e("ion-title"),ue=(0,L.c)();ee.innerText=$.innerText,ee.size=$.size,ee.color=$.color,ue.addElement(ee),ue.beforeStyles({"transform-origin":`${Te} center`,height:"46px",display:"",position:"relative",[Te]:de}).beforeAddWrite(()=>{$.style.setProperty("display","none")}).afterAddWrite(()=>{$.style.setProperty("display",""),ee.style.setProperty("display","none")}).keyframes(F),X.addAnimation(ue)},P=(X,se)=>{var he;try{const $="cubic-bezier(0.32,0.72,0,1)",x="opacity",Z="transform",de="0%",Te="rtl"===X.ownerDocument.dir,Ve=Te?"-99.5%":"99.5%",Me=Te?"33%":"-33%",F=se.enteringEl,ee=se.leavingEl,ue="back"===se.direction,M=F.querySelector(":scope > ion-content"),K=F.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *"),G=F.querySelectorAll(":scope > ion-header > ion-toolbar"),_e=(0,L.c)(),et=(0,L.c)();if(_e.addElement(F).duration((null!==(he=se.duration)&&void 0!==he?he:0)||540).easing(se.easing||$).fill("both").beforeRemoveClass("ion-page-invisible"),ee&&null!=X){const k=(0,L.c)();k.addElement(X),_e.addAnimation(k)}if(M||0!==G.length||0!==K.length?(et.addElement(M),et.addElement(K)):et.addElement(F.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),_e.addAnimation(et),ue?et.beforeClearStyles([x]).fromTo("transform",`translateX(${Me})`,`translateX(${de})`).fromTo(x,.8,1):et.beforeClearStyles([x]).fromTo("transform",`translateX(${Ve})`,`translateX(${de})`),M){const k=B(M).querySelector(".transition-effect");if(k){const j=k.querySelector(".transition-cover"),Q=k.querySelector(".transition-shadow"),Be=(0,L.c)(),rt=(0,L.c)(),Le=(0,L.c)();Be.addElement(k).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),rt.addElement(j).beforeClearStyles([x]).fromTo(x,0,.1),Le.addElement(Q).beforeClearStyles([x]).fromTo(x,.03,.7),Be.addAnimation([rt,Le]),et.addAnimation([Be])}}const ze=F.querySelector("ion-header.header-collapse-condense"),{forward:gt,backward:H}=((X,se,he,$,x)=>{const Z=pe($,he),de=Ee(x),xe=Ee($),Te=pe(x,he),Ve=null!==Z&&null!==de&&!he,Me=null!==xe&&null!==Te&&he;if(Ve){const F=de.getBoundingClientRect(),ee=Z.getBoundingClientRect();ce(X,se,he,de,F,ee),ge(X,se,he,Z,F,ee)}else if(Me){const F=xe.getBoundingClientRect(),ee=Te.getBoundingClientRect();ce(X,se,he,xe,F,ee),ge(X,se,he,Te,F,ee)}return{forward:Ve,backward:Me}})(_e,Te,ue,F,ee);if(G.forEach(k=>{const j=(0,L.c)();j.addElement(k),_e.addAnimation(j);const Q=(0,L.c)();Q.addElement(k.querySelector("ion-title"));const Be=(0,L.c)(),rt=Array.from(k.querySelectorAll("ion-buttons,[menuToggle]")),Le=k.closest("ion-header"),st=null==Le?void 0:Le.classList.contains("header-collapse-condense-inactive");let ne;ne=rt.filter(ue?bt=>{const V=bt.classList.contains("buttons-collapse");return V&&!st||!V}:bt=>!bt.classList.contains("buttons-collapse")),Be.addElement(ne);const D=(0,L.c)();D.addElement(k.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])"));const W=(0,L.c)();W.addElement(B(k).querySelector(".toolbar-background"));const Re=(0,L.c)(),ot=k.querySelector("ion-back-button");if(ot&&Re.addElement(ot),j.addAnimation([Q,Be,D,W,Re]),Be.fromTo(x,.01,1),D.fromTo(x,.01,1),ue)st||Q.fromTo("transform",`translateX(${Me})`,`translateX(${de})`).fromTo(x,.01,1),D.fromTo("transform",`translateX(${Me})`,`translateX(${de})`),Re.fromTo(x,.01,1);else if(ze||Q.fromTo("transform",`translateX(${Ve})`,`translateX(${de})`).fromTo(x,.01,1),D.fromTo("transform",`translateX(${Ve})`,`translateX(${de})`),W.beforeClearStyles([x,"transform"]),(null==Le?void 0:Le.translucent)?W.fromTo("transform",Te?"translateX(-100%)":"translateX(100%)","translateX(0px)"):W.fromTo(x,.01,"var(--opacity)"),gt||Re.fromTo(x,.01,1),ot&&!gt){const V=(0,L.c)();V.addElement(B(ot).querySelector(".button-text")).fromTo("transform",Te?"translateX(-100px)":"translateX(100px)","translateX(0px)"),j.addAnimation(V)}}),ee){const k=(0,L.c)(),j=ee.querySelector(":scope > ion-content"),Q=ee.querySelectorAll(":scope > ion-header > ion-toolbar"),Be=ee.querySelectorAll(":scope > ion-header > *:not(ion-toolbar), :scope > ion-footer > *");if(j||0!==Q.length||0!==Be.length?(k.addElement(j),k.addElement(Be)):k.addElement(ee.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs")),_e.addAnimation(k),ue){k.beforeClearStyles([x]).fromTo("transform",`translateX(${de})`,Te?"translateX(-100%)":"translateX(100%)");const rt=(0,Ye.g)(ee);_e.afterAddWrite(()=>{"normal"===_e.getDirection()&&rt.style.setProperty("display","none")})}else k.fromTo("transform",`translateX(${de})`,`translateX(${Me})`).fromTo(x,1,.8);if(j){const rt=B(j).querySelector(".transition-effect");if(rt){const Le=rt.querySelector(".transition-cover"),st=rt.querySelector(".transition-shadow"),ne=(0,L.c)(),D=(0,L.c)(),W=(0,L.c)();ne.addElement(rt).beforeStyles({opacity:"1",display:"block"}).afterStyles({opacity:"",display:""}),D.addElement(Le).beforeClearStyles([x]).fromTo(x,.1,0),W.addElement(st).beforeClearStyles([x]).fromTo(x,.7,.03),ne.addAnimation([D,W]),k.addAnimation([ne])}}Q.forEach(rt=>{const Le=(0,L.c)();Le.addElement(rt);const st=(0,L.c)();st.addElement(rt.querySelector("ion-title"));const ne=(0,L.c)(),D=rt.querySelectorAll("ion-buttons,[menuToggle]"),W=rt.closest("ion-header"),Re=null==W?void 0:W.classList.contains("header-collapse-condense-inactive"),ot=Array.from(D).filter(tr=>{const di=tr.classList.contains("buttons-collapse");return di&&!Re||!di});ne.addElement(ot);const bt=(0,L.c)(),V=rt.querySelectorAll(":scope > *:not(ion-title):not(ion-buttons):not([menuToggle])");V.length>0&&bt.addElement(V);const ct=(0,L.c)();ct.addElement(B(rt).querySelector(".toolbar-background"));const Ot=(0,L.c)(),dn=rt.querySelector("ion-back-button");if(dn&&Ot.addElement(dn),Le.addAnimation([st,ne,bt,Ot,ct]),_e.addAnimation(Le),Ot.fromTo(x,.99,0),ne.fromTo(x,.99,0),bt.fromTo(x,.99,0),ue){if(Re||st.fromTo("transform",`translateX(${de})`,Te?"translateX(-100%)":"translateX(100%)").fromTo(x,.99,0),bt.fromTo("transform",`translateX(${de})`,Te?"translateX(-100%)":"translateX(100%)"),ct.beforeClearStyles([x,"transform"]),(null==W?void 0:W.translucent)?ct.fromTo("transform","translateX(0px)",Te?"translateX(-100%)":"translateX(100%)"):ct.fromTo(x,"var(--opacity)",0),dn&&!H){const di=(0,L.c)();di.addElement(B(dn).querySelector(".button-text")).fromTo("transform",`translateX(${de})`,`translateX(${(Te?-124:124)+"px"})`),Le.addAnimation(di)}}else Re||st.fromTo("transform",`translateX(${de})`,`translateX(${Me})`).fromTo(x,.99,0).afterClearStyles([Z,x]),bt.fromTo("transform",`translateX(${de})`,`translateX(${Me})`).afterClearStyles([Z,x]),Ot.afterClearStyles([x]),st.afterClearStyles([x]),ne.afterClearStyles([x])})}return _e}catch($){throw $}}},9892:(Cn,vt,le)=>{"use strict";le.r(vt),le.d(vt,{mdTransitionAnimation:()=>Pe});var L=le(2200),Ye=le(9459);le(3457),le(9816);const Pe=($e,B)=>{var Ee,pe,Xe;const P="back"===B.direction,se=B.leavingEl,he=(0,Ye.g)(B.enteringEl),$=he.querySelector("ion-toolbar"),x=(0,L.c)();if(x.addElement(he).fill("both").beforeRemoveClass("ion-page-invisible"),P?x.duration((null!==(Ee=B.duration)&&void 0!==Ee?Ee:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)"):x.duration((null!==(pe=B.duration)&&void 0!==pe?pe:0)||280).easing("cubic-bezier(0.36,0.66,0.04,1)").fromTo("transform","translateY(40px)","translateY(0px)").fromTo("opacity",.01,1),$){const Z=(0,L.c)();Z.addElement($),x.addAnimation(Z)}if(se&&P){x.duration((null!==(Xe=B.duration)&&void 0!==Xe?Xe:0)||200).easing("cubic-bezier(0.47,0,0.745,0.715)");const Z=(0,L.c)();Z.addElement((0,Ye.g)(se)).onFinish(de=>{1===de&&Z.elements.length>0&&Z.elements[0].style.setProperty("display","none")}).fromTo("transform","translateY(0px)","translateY(40px)").fromTo("opacity",1,0),x.addAnimation(Z)}return x}},6280:(Cn,vt,le)=>{"use strict";le.d(vt,{B:()=>Be,G:()=>rt,a:()=>Xe,b:()=>ge,c:()=>se,d:()=>Le,e:()=>st,f:()=>K,g:()=>_e,h:()=>gt,i:()=>k,j:()=>$,k:()=>Ee,m:()=>P,n:()=>de,o:()=>ue,s:()=>Q});var L=le(5861),Ye=le(6406),Qe=le(5375),tt=le(7593),Pe=le(9397),$e=le(1178);let B=0;const Ee=new WeakMap,pe=ne=>({create:D=>x(ne,D),dismiss:(D,W,Re)=>F(document,D,W,ne,Re),getTop:()=>(0,L.Z)(function*(){return ue(document,ne)})()}),Xe=pe("ion-alert"),ge=pe("ion-action-sheet"),P=pe("ion-modal"),se=pe("ion-popover"),$=ne=>{typeof document<"u"&&Me(document);const D=B++;ne.overlayIndex=D,ne.hasAttribute("id")||(ne.id=`ion-overlay-${D}`)},x=(ne,D)=>typeof window<"u"&&typeof window.customElements<"u"?window.customElements.whenDefined(ne).then(()=>{const W=document.createElement(ne);return W.classList.add("overlay-hidden"),Object.assign(W,Object.assign(Object.assign({},D),{hasController:!0})),et(document).appendChild(W),new Promise(Re=>(0,Pe.c)(W,Re))}):Promise.resolve(),Z='[tabindex]:not([tabindex^="-"]):not([hidden]):not([disabled]), input:not([type=hidden]):not([tabindex^="-"]):not([hidden]):not([disabled]), textarea:not([tabindex^="-"]):not([hidden]):not([disabled]), button:not([tabindex^="-"]):not([hidden]):not([disabled]), select:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable:not([tabindex^="-"]):not([hidden]):not([disabled]), .ion-focusable[disabled="false"]:not([tabindex^="-"]):not([hidden])',de=(ne,D)=>{let W=ne.querySelector(Z);const Re=null==W?void 0:W.shadowRoot;Re&&(W=Re.querySelector(Z)||W),W?(0,Pe.f)(W):D.focus()},Te=(ne,D)=>{const W=Array.from(ne.querySelectorAll(Z));let Re=W.length>0?W[W.length-1]:null;const ot=null==Re?void 0:Re.shadowRoot;ot&&(Re=ot.querySelector(Z)||Re),Re?Re.focus():D.focus()},Me=ne=>{0===B&&(B=1,ne.addEventListener("focus",D=>{((ne,D)=>{const W=ue(D,"ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover"),Re=ne.target;W&&Re&&!W.classList.contains("ion-disable-focus-trap")&&(W.shadowRoot?(()=>{if(W.contains(Re))W.lastFocus=Re;else{const V=W.lastFocus;de(W,W),V===D.activeElement&&Te(W,W),W.lastFocus=D.activeElement}})():(()=>{if(W===Re)W.lastFocus=void 0;else{const V=(0,Pe.g)(W);if(!V.contains(Re))return;const ct=V.querySelector(".ion-overlay-wrapper");if(!ct)return;if(ct.contains(Re))W.lastFocus=Re;else{const Ot=W.lastFocus;de(ct,W),Ot===D.activeElement&&Te(ct,W),W.lastFocus=D.activeElement}}})())})(D,ne)},!0),ne.addEventListener("ionBackButton",D=>{const W=ue(ne);null!=W&&W.backdropDismiss&&D.detail.register(tt.OVERLAY_BACK_BUTTON_PRIORITY,()=>W.dismiss(void 0,Be))}),ne.addEventListener("keydown",D=>{if("Escape"===D.key){const W=ue(ne);null!=W&&W.backdropDismiss&&W.dismiss(void 0,Be)}}))},F=(ne,D,W,Re,ot)=>{const bt=ue(ne,Re,ot);return bt?bt.dismiss(D,W):Promise.reject("overlay does not exist")},ue=(ne,D,W)=>{const Re=((ne,D)=>(void 0===D&&(D="ion-alert,ion-action-sheet,ion-loading,ion-modal,ion-picker,ion-popover,ion-toast"),Array.from(ne.querySelectorAll(D)).filter(W=>W.overlayIndex>0)))(ne,D).filter(ot=>!(ne=>ne.classList.contains("overlay-hidden"))(ot));return void 0===W?Re[Re.length-1]:Re.find(ot=>ot.id===W)},M=(ne=!1)=>{const W=et(document).querySelector("ion-router-outlet, ion-nav, #ion-view-container-root");W&&(ne?W.setAttribute("aria-hidden","true"):W.removeAttribute("aria-hidden"))},K=function(){var ne=(0,L.Z)(function*(D,W,Re,ot,bt){var V,ct;if(D.presented)return;M(!0),D.presented=!0,D.willPresent.emit(),null===(V=D.willPresentShorthand)||void 0===V||V.emit();const Ot=(0,Ye.b)(D),dn=D.enterAnimation?D.enterAnimation:Ye.c.get(W,"ios"===Ot?Re:ot);(yield ze(D,dn,D.el,bt))&&(D.didPresent.emit(),null===(ct=D.didPresentShorthand)||void 0===ct||ct.emit()),"ION-TOAST"!==D.el.tagName&&G(D.el),D.keyboardClose&&(null===document.activeElement||!D.el.contains(document.activeElement))&&D.el.focus()});return function(W,Re,ot,bt,V){return ne.apply(this,arguments)}}(),G=function(){var ne=(0,L.Z)(function*(D){let W=document.activeElement;if(!W)return;const Re=null==W?void 0:W.shadowRoot;Re&&(W=Re.querySelector(Z)||W),yield D.onDidDismiss(),W.focus()});return function(W){return ne.apply(this,arguments)}}(),_e=function(){var ne=(0,L.Z)(function*(D,W,Re,ot,bt,V,ct){var Ot,dn;if(!D.presented)return!1;M(!1),D.presented=!1;try{D.el.style.setProperty("pointer-events","none"),D.willDismiss.emit({data:W,role:Re}),null===(Ot=D.willDismissShorthand)||void 0===Ot||Ot.emit({data:W,role:Re});const tr=(0,Ye.b)(D),di=D.leaveAnimation?D.leaveAnimation:Ye.c.get(ot,"ios"===tr?bt:V);Re!==rt&&(yield ze(D,di,D.el,ct)),D.didDismiss.emit({data:W,role:Re}),null===(dn=D.didDismissShorthand)||void 0===dn||dn.emit({data:W,role:Re}),Ee.delete(D),D.el.classList.add("overlay-hidden"),D.el.style.removeProperty("pointer-events"),void 0!==D.el.lastFocus&&(D.el.lastFocus=void 0)}catch(tr){console.error(tr)}return D.el.remove(),!0});return function(W,Re,ot,bt,V,ct,Ot){return ne.apply(this,arguments)}}(),et=ne=>ne.querySelector("ion-app")||ne.body,ze=function(){var ne=(0,L.Z)(function*(D,W,Re,ot){Re.classList.remove("overlay-hidden");const V=W(D.el,ot);(!D.animated||!Ye.c.getBoolean("animated",!0))&&V.duration(0),D.keyboardClose&&V.beforeAddWrite(()=>{const Ot=Re.ownerDocument.activeElement;null!=Ot&&Ot.matches("input,ion-input, ion-textarea")&&Ot.blur()});const ct=Ee.get(D)||[];return Ee.set(D,[...ct,V]),yield V.play(),!0});return function(W,Re,ot,bt){return ne.apply(this,arguments)}}(),gt=(ne,D)=>{let W;const Re=new Promise(ot=>W=ot);return H(ne,D,ot=>{W(ot.detail)}),Re},H=(ne,D,W)=>{const Re=ot=>{(0,Pe.b)(ne,D,Re),W(ot)};(0,Pe.a)(ne,D,Re)},k=ne=>"cancel"===ne||ne===Be,j=ne=>ne(),Q=(ne,D)=>{if("function"==typeof ne)return Ye.c.get("_zoneGate",j)(()=>{try{return ne(D)}catch(Re){throw Re}})},Be="backdrop",rt="gesture",Le=ne=>{let W,D=!1;const Re=(0,Qe.C)(),ot=(ct=!1)=>{if(W&&!ct)return{delegate:W,inline:D};const{el:Ot,hasController:dn,delegate:tr}=ne;return D=null!==Ot.parentNode&&!dn,W=D?tr||Re:tr,{inline:D,delegate:W}};return{attachViewToDom:function(){var ct=(0,L.Z)(function*(Ot){const{delegate:dn}=ot(!0);if(dn)return yield dn.attachViewToDom(ne.el,Ot);const{hasController:tr}=ne;if(tr&&void 0!==Ot)throw new Error("framework delegate is missing");return null});return function(dn){return ct.apply(this,arguments)}}(),removeViewFromDom:()=>{const{delegate:ct}=ot();ct&&void 0!==ne.el&&ct.removeViewFromDom(ne.el.parentElement,ne.el)}}},st=()=>{let ne;const D=()=>{ne&&(ne(),ne=void 0)};return{addClickListener:(Re,ot)=>{D();const bt=void 0!==ot?document.getElementById(ot):null;bt?ne=((ct,Ot)=>{const dn=()=>{Ot.present()};return ct.addEventListener("click",dn),()=>{ct.removeEventListener("click",dn)}})(bt,Re):(0,$e.p)(`A trigger element with the ID "${ot}" was not found in the DOM. The trigger element must be in the DOM when the "trigger" property is set on an overlay component.`,Re)},removeClickListener:D}}},7089:(Cn,vt,le)=>{"use strict";function L(t){return"function"==typeof t}function Ye(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const Qe=Ye(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function tt(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class Pe{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(L(r))try{r()}catch(s){e=s instanceof Qe?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{Ee(s)}catch(o){e=null!=e?e:[],o instanceof Qe?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Qe(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Ee(e);else{if(e instanceof Pe){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&tt(n,e)}remove(e){const{_finalizers:n}=this;n&&tt(n,e),e instanceof Pe&&e._removeParent(this)}}Pe.EMPTY=(()=>{const t=new Pe;return t.closed=!0,t})();const $e=Pe.EMPTY;function B(t){return t instanceof Pe||t&&"closed"in t&&L(t.remove)&&L(t.add)&&L(t.unsubscribe)}function Ee(t){L(t)?t():t.unsubscribe()}const pe={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},Xe={setTimeout(t,e,...n){const{delegate:r}=Xe;return null!=r&&r.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=Xe;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function ge(t){Xe.setTimeout(()=>{const{onUnhandledError:e}=pe;if(!e)throw t;e(t)})}function ce(){}const P=he("C",void 0,void 0);function he(t,e,n){return{kind:t,value:e,error:n}}let $=null;function x(t){if(pe.useDeprecatedSynchronousErrorHandling){const e=!$;if(e&&($={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=$;if($=null,n)throw r}}else t()}class de extends Pe{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,B(e)&&e.add(this)):this.destination=M}static create(e,n,r){return new Me(e,n,r)}next(e){this.isStopped?ue(function se(t){return he("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?ue(function X(t){return he("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?ue(P,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const xe=Function.prototype.bind;function Te(t,e){return xe.call(t,e)}class Ve{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){F(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){F(r)}else F(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){F(n)}}}class Me extends de{constructor(e,n,r){let i;if(super(),L(e)||!e)i={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0};else{let s;this&&pe.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Te(e.next,s),error:e.error&&Te(e.error,s),complete:e.complete&&Te(e.complete,s)}):i=e}this.destination=new Ve(i)}}function F(t){pe.useDeprecatedSynchronousErrorHandling?function Z(t){pe.useDeprecatedSynchronousErrorHandling&&$&&($.errorThrown=!0,$.error=t)}(t):ge(t)}function ue(t,e){const{onStoppedNotification:n}=pe;n&&Xe.setTimeout(()=>n(t,e))}const M={closed:!0,next:ce,error:function ee(t){throw t},complete:ce},K="function"==typeof Symbol&&Symbol.observable||"@@observable";function G(t){return t}function et(t){return 0===t.length?G:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let ze=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function k(t){return t&&t instanceof de||function H(t){return t&&L(t.next)&&L(t.error)&&L(t.complete)}(t)&&B(t)}(n)?n:new Me(n,r,i);return x(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=gt(r))((i,s)=>{const o=new Me({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[K](){return this}pipe(...n){return et(n)(this)}toPromise(n){return new(n=gt(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function gt(t){var e;return null!==(e=null!=t?t:pe.Promise)&&void 0!==e?e:Promise}const j=Ye(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Q=(()=>{class t extends ze{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new Be(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new j}next(n){x(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){x(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){x(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?$e:(this.currentObservers=null,s.push(n),new Pe(()=>{this.currentObservers=null,tt(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new ze;return n.source=this,n}}return t.create=(e,n)=>new Be(e,n),t})();class Be extends Q{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:$e}}function rt(t){return L(null==t?void 0:t.lift)}function Le(t){return e=>{if(rt(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function st(t,e,n,r,i){return new ne(t,e,n,r,i)}class ne extends de{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function D(t,e){return Le((n,r)=>{let i=0;n.subscribe(st(r,s=>{r.next(t.call(e,s,i++))}))})}function bt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function V(t,e,n,r){var o,i=arguments.length,s=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Or(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{c(r.next(u))}catch(d){o(d)}}function l(u){try{c(r.throw(u))}catch(d){o(d)}}function c(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,l)}c((r=r.apply(t,e||[])).next())})}function nr(t){return this instanceof nr?(this.v=t,this):new nr(t)}function fl(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function fa(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){!function i(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}const gl=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function $c(t){return L(null==t?void 0:t.then)}function Vc(t){return L(t[K])}function ml(t){return Symbol.asyncIterator&&L(null==t?void 0:t[Symbol.asyncIterator])}function Ni(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const es=function Vs(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function Us(t){return L(null==t?void 0:t[es])}function Fr(t){return function Fc(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(g,v){s.push([h,f,g,v])>1||a(h,f)})})}function a(h,f){try{!function l(h){h.value instanceof nr?Promise.resolve(h.value.v).then(c,u):d(s[0][2],h)}(r[h](f))}catch(g){d(s[0][3],g)}}function c(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield nr(n.read());if(i)return yield nr(void 0);yield yield nr(r)}}finally{n.releaseLock()}})}function hi(t){return L(null==t?void 0:t.getReader)}function Tn(t){if(t instanceof ze)return t;if(null!=t){if(Vc(t))return function Uc(t){return new ze(e=>{const n=t[K]();if(L(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(gl(t))return function hh(t){return new ze(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if($c(t))return function fh(t){return new ze(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,ge)})}(t);if(ml(t))return Bc(t);if(Us(t))return function ph(t){return new ze(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(hi(t))return function jc(t){return Bc(Fr(t))}(t)}throw Ni(t)}function Bc(t){return new ze(e=>{(function gh(t,e){var n,r,i,s;return Or(this,void 0,void 0,function*(){try{for(n=fl(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function Pi(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function Dn(t,e,n=1/0){return L(e)?Dn((r,i)=>D((s,o)=>e(r,s,i,o))(Tn(t(r,i))),n):("number"==typeof e&&(n=e),Le((r,i)=>function mh(t,e,n,r,i,s,o,a){const l=[];let c=0,u=0,d=!1;const h=()=>{d&&!l.length&&!c&&e.complete()},f=v=>c<r?g(v):l.push(v),g=v=>{s&&e.next(v),c++;let E=!1;Tn(n(v,u++)).subscribe(st(e,A=>{null==i||i(A),s?f(A):e.next(A)},()=>{E=!0},void 0,()=>{if(E)try{for(c--;l.length&&c<r;){const A=l.shift();o?Pi(e,o,()=>g(A)):g(A)}h()}catch(A){e.error(A)}}))};return t.subscribe(st(e,f,()=>{d=!0,h()})),()=>{null==a||a()}}(r,i,t,n)))}function ts(t=1/0){return Dn(G,t)}const Sn=new ze(t=>t.complete());function fi(t){return t[t.length-1]}function _l(t){return L(fi(t))?t.pop():void 0}function Bs(t){return function ys(t){return t&&L(t.schedule)}(fi(t))?t.pop():void 0}function js(t,e=0){return Le((n,r)=>{n.subscribe(st(r,i=>Pi(r,t,()=>r.next(i),e),()=>Pi(r,t,()=>r.complete(),e),i=>Pi(r,t,()=>r.error(i),e)))})}function pi(t,e=0){return Le((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function pa(t,e){if(!t)throw new Error("Iterable cannot be null");return new ze(n=>{Pi(n,e,()=>{const r=t[Symbol.asyncIterator]();Pi(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function nn(t,e){return e?function yl(t,e){if(null!=t){if(Vc(t))return function Bt(t,e){return Tn(t).pipe(pi(e),js(e))}(t,e);if(gl(t))return function yh(t,e){return new ze(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if($c(t))return function Ft(t,e){return Tn(t).pipe(pi(e),js(e))}(t,e);if(ml(t))return pa(t,e);if(Us(t))return function vh(t,e){return new ze(n=>{let r;return Pi(n,e,()=>{r=t[es](),Pi(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>L(null==r?void 0:r.return)&&r.return()})}(t,e);if(hi(t))return function Ih(t,e){return pa(Fr(t),e)}(t,e)}throw Ni(t)}(t,e):Tn(t)}function wo(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new Me({next:()=>{r.unsubscribe(),t()}});return e(...n).subscribe(r)}function jt(t){for(let e in t)if(t[e]===jt)return e;throw Error("Could not find renamed property on target object.")}function ga(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Gt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Gt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function _(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const y=jt({__forward_ref__:jt});function w(t){return t.__forward_ref__=w,t.toString=function(){return Gt(this())},t}function m(t){return b(t)?t():t}function b(t){return"function"==typeof t&&t.hasOwnProperty(y)&&t.__forward_ref__===w}function C(t){return t&&!!t.\u0275providers}class T extends Error{constructor(e,n){super(Y(e,n)),this.code=e}}function Y(t,e){return`NG0${Math.abs(t)}${e?": "+e.trim():""}`}function J(t){return"string"==typeof t?t:null==t?"":String(t)}function Er(t,e){throw new T(-201,!1)}function is(t,e){null==t&&function qt(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function He(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Wg(t){return E1(t,qg)||E1(t,b1)}function E1(t,e){return t.hasOwnProperty(e)?t[e]:null}function w1(t){return t&&(t.hasOwnProperty(iE)||t.hasOwnProperty(Y8))?t[iE]:null}const qg=jt({\u0275prov:jt}),iE=jt({\u0275inj:jt}),b1=jt({ngInjectableDef:jt}),Y8=jt({ngInjectorDef:jt});var it=(()=>((it=it||{})[it.Default=0]="Default",it[it.Host=1]="Host",it[it.Self=2]="Self",it[it.SkipSelf=4]="SkipSelf",it[it.Optional=8]="Optional",it))();let sE;function ss(t){const e=sE;return sE=t,e}function C1(t,e,n){const r=Wg(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&it.Optional?null:void 0!==e?e:void Er(Gt(t))}const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Eh={},oE="__NG_DI_FLAG__",Kg="ngTempTokenPath",X8="ngTokenPath",J8=/\n/gm,e5="\u0275",T1="__source";let wh;function Wc(t){const e=wh;return wh=t,e}function t5(t,e=it.Default){if(void 0===wh)throw new T(-203,!1);return null===wh?C1(t,void 0,e):wh.get(t,e&it.Optional?null:void 0,e)}function Ne(t,e=it.Default){return(function Q8(){return sE}()||t5)(m(t),e)}function at(t,e=it.Default){return Ne(t,Zg(e))}function Zg(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function aE(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new T(900,!1);let i,s=it.Default;for(let o=0;o<r.length;o++){const a=r[o],l=n5(a);"number"==typeof l?-1===l?i=a.token:s|=l:i=a}e.push(Ne(i,s))}else e.push(Ne(r))}return e}function bh(t,e){return t[oE]=e,t.prototype[oE]=e,t}function n5(t){return t[oE]}function bo(t){return{toString:t}.toString()}var zs=(()=>((zs=zs||{})[zs.OnPush=0]="OnPush",zs[zs.Default=1]="Default",zs))(),Hs=(()=>{return(t=Hs||(Hs={}))[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",Hs;var t})();const Co={},Wt=[],Yg=jt({\u0275cmp:jt}),lE=jt({\u0275dir:jt}),cE=jt({\u0275pipe:jt}),S1=jt({\u0275mod:jt}),To=jt({\u0275fac:jt}),Ch=jt({__NG_ELEMENT_ID__:jt});let s5=0;function fe(t){return bo(()=>{const e=x1(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===zs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,data:t.data||{},encapsulation:t.encapsulation||Hs.Emulated,id:"c"+s5++,styles:t.styles||Wt,_:null,schemas:t.schemas||null,tView:null};M1(n);const r=t.dependencies;return n.directiveDefs=Qg(r,!1),n.pipeDefs=Qg(r,!0),n})}function a5(t){return Kt(t)||Lr(t)}function l5(t){return null!==t}function Fn(t){return bo(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function A1(t,e){if(null==t)return Co;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function Ke(t){return bo(()=>{const e=x1(t);return M1(e),e})}function Kt(t){return t[Yg]||null}function Lr(t){return t[lE]||null}function mi(t){return t[cE]||null}function Fi(t,e){const n=t[S1]||null;if(!n&&!0===e)throw new Error(`Type ${Gt(t)} does not have '\u0275mod' property.`);return n}function x1(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,exportAs:t.exportAs||null,standalone:!0===t.standalone,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:A1(t.inputs,e),outputs:A1(t.outputs)}}function M1(t){var e;null===(e=t.features)||void 0===e||e.forEach(n=>n(t))}function Qg(t,e){if(!t)return null;const n=e?mi:a5;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(l5)}const Do=0,Oe=1,It=2,Mn=3,Is=4,vl=5,$r=6,Kc=7,Ln=8,Xg=9,Jg=10,wt=11,uE=12,Th=13,R1=14,Zc=15,Vr=16,Dh=17,Yc=18,Gs=19,Sh=20,k1=21,fn=22,dE=1,N1=2,em=7,tm=8,Qc=9,Yr=10;function Li(t){return Array.isArray(t)&&"object"==typeof t[dE]}function Es(t){return Array.isArray(t)&&!0===t[dE]}function hE(t){return 0!=(4&t.flags)}function Ah(t){return t.componentOffset>-1}function nm(t){return 1==(1&t.flags)}function ws(t){return!!t.template}function u5(t){return 0!=(256&t[It])}function Il(t,e){return t.hasOwnProperty(To)?t[To]:null}class f5{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function _i(){return F1}function F1(t){return t.type.prototype.ngOnChanges&&(t.setInput=g5),p5}function p5(){const t=$1(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===Co)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function g5(t,e,n,r){const i=this.declaredInputs[n],s=$1(t)||function m5(t,e){return t[L1]=e}(t,{previous:Co,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[i];o[i]=new f5(l&&l.currentValue,e,a===Co),t[r]=e}_i.ngInherit=!0;const L1="__ngSimpleChanges__";function $1(t){return t[L1]||null}const os=function(t,e,n){};function wr(t){for(;Array.isArray(t);)t=t[Do];return t}function rm(t,e){return wr(e[t])}function $i(t,e){return wr(e[t.index])}function B1(t,e){return t.data[e]}function Vi(t,e){const n=e[t];return Li(n)?n:n[Do]}function im(t){return 64==(64&t[It])}function ma(t,e){return null==e?null:t[e]}function j1(t){t[Yc]=0}function pE(t,e){t[vl]+=e;let n=t,r=t[Mn];for(;null!==r&&(1===e&&1===n[vl]||-1===e&&0===n[vl]);)r[vl]+=e,n=r,r=r[Mn]}const ht={lFrame:X1(null),bindingsEnabled:!0};function H1(){return ht.bindingsEnabled}function te(){return ht.lFrame.lView}function Lt(){return ht.lFrame.tView}function sm(t){return ht.lFrame.contextLView=t,t[Ln]}function om(t){return ht.lFrame.contextLView=null,t}function br(){let t=G1();for(;null!==t&&64===t.type;)t=t.parent;return t}function G1(){return ht.lFrame.currentTNode}function Ws(t,e){const n=ht.lFrame;n.currentTNode=t,n.isParent=e}function gE(){return ht.lFrame.isParent}function mE(){ht.lFrame.isParent=!1}function Jc(){return ht.lFrame.bindingIndex++}function x5(t,e){const n=ht.lFrame;n.bindingIndex=n.bindingRootIndex=t,_E(e)}function _E(t){ht.lFrame.currentDirectiveIndex=t}function Z1(){return ht.lFrame.currentQueryIndex}function vE(t){ht.lFrame.currentQueryIndex=t}function R5(t){const e=t[Oe];return 2===e.type?e.declTNode:1===e.type?t[$r]:null}function Y1(t,e,n){if(n&it.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&it.Host||(i=R5(s),null===i||(s=s[Zc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=ht.lFrame=Q1();return r.currentTNode=e,r.lView=t,!0}function IE(t){const e=Q1(),n=t[Oe];ht.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Q1(){const t=ht.lFrame,e=null===t?null:t.child;return null===e?X1(t):e}function X1(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function J1(){const t=ht.lFrame;return ht.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const eN=J1;function EE(){const t=J1();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Xr(){return ht.lFrame.selectedIndex}function El(t){ht.lFrame.selectedIndex=t}function am(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:c,ngOnDestroy:u}=s;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),a&&((t.contentHooks||(t.contentHooks=[])).push(n,a),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,a)),l&&(t.viewHooks||(t.viewHooks=[])).push(-n,l),c&&((t.viewHooks||(t.viewHooks=[])).push(n,c),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,c)),null!=u&&(t.destroyHooks||(t.destroyHooks=[])).push(n,u)}}function lm(t,e,n){tN(t,e,3,n)}function cm(t,e,n,r){(3&t[It])===n&&tN(t,e,n,r)}function wE(t,e){let n=t[It];(3&n)===e&&(n&=2047,n+=1,t[It]=n)}function tN(t,e,n,r){const s=null!=r?r:-1,o=e.length-1;let a=0;for(let l=void 0!==r?65535&t[Yc]:0;l<o;l++)if("number"==typeof e[l+1]){if(a=e[l],null!=r&&a>=r)break}else e[l]<0&&(t[Yc]+=65536),(a<s||-1==s)&&(U5(t,n,e,l),t[Yc]=(4294901760&t[Yc])+l+2),l++}function U5(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];if(i){if(t[It]>>11<t[Yc]>>16&&(3&t[It])===e){t[It]+=2048,os(4,a,s);try{s.call(a)}finally{os(5,a,s)}}}else{os(4,a,s);try{s.call(a)}finally{os(5,a,s)}}}const eu=-1;class Mh{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function CE(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];rN(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function nN(t){return 3===t||4===t||6===t}function rN(t){return 64===t.charCodeAt(0)}function Rh(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||iN(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function iN(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function sN(t){return t!==eu}function um(t){return 32767&t}function dm(t,e){let n=function H5(t){return t>>16}(t),r=e;for(;n>0;)r=r[Zc],n--;return r}let TE=!0;function hm(t){const e=TE;return TE=t,e}const oN=255,aN=5;let G5=0;const qs={};function fm(t,e){const n=lN(t,e);if(-1!==n)return n;const r=e[Oe];r.firstCreatePass&&(t.injectorIndex=e.length,DE(r.data,t),DE(e,null),DE(r.blueprint,null));const i=SE(t,e),s=t.injectorIndex;if(sN(i)){const o=um(i),a=dm(i,e),l=a[Oe].data;for(let c=0;c<8;c++)e[s+c]=a[o+c]|l[o+c]}return e[s+8]=i,s}function DE(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lN(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function SE(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=gN(i),null===r)return eu;if(n++,i=i[Zc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return eu}function AE(t,e,n){!function W5(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ch)&&(r=n[Ch]),null==r&&(r=n[Ch]=G5++);const i=r&oN;e.data[t+(i>>aN)]|=1<<i}(t,e,n)}function cN(t,e,n){if(n&it.Optional||void 0!==t)return t;Er()}function uN(t,e,n,r){if(n&it.Optional&&void 0===r&&(r=null),!(n&(it.Self|it.Host))){const i=t[Xg],s=ss(void 0);try{return i?i.get(e,r,n&it.Optional):C1(e,r,n&it.Optional)}finally{ss(s)}}return cN(r,0,n)}function dN(t,e,n,r=it.Default,i){if(null!==t){if(1024&e[It]){const o=function Q5(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&1024&o[It]&&!(256&o[It]);){const a=hN(s,o,n,r|it.Self,qs);if(a!==qs)return a;let l=s.parent;if(!l){const c=o[k1];if(c){const u=c.get(n,qs,r);if(u!==qs)return u}l=gN(o),o=o[Zc]}s=l}return i}(t,e,n,r,qs);if(o!==qs)return o}const s=hN(t,e,n,r,qs);if(s!==qs)return s}return uN(e,n,r,i)}function hN(t,e,n,r,i){const s=function Z5(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Ch)?t[Ch]:void 0;return"number"==typeof e?e>=0?e&oN:Y5:e}(n);if("function"==typeof s){if(!Y1(e,t,r))return r&it.Host?cN(i,0,r):uN(e,n,r,i);try{const o=s(r);if(null!=o||r&it.Optional)return o;Er()}finally{eN()}}else if("number"==typeof s){let o=null,a=lN(t,e),l=eu,c=r&it.Host?e[Vr][$r]:null;for((-1===a||r&it.SkipSelf)&&(l=-1===a?SE(t,e):e[a+8],l!==eu&&pN(r,!1)?(o=e[Oe],a=um(l),e=dm(l,e)):a=-1);-1!==a;){const u=e[Oe];if(fN(s,a,u.data)){const d=K5(a,e,n,o,r,c);if(d!==qs)return d}l=e[a+8],l!==eu&&pN(r,e[Oe].data[a+8]===c)&&fN(s,a,e)?(o=u,a=um(l),e=dm(l,e)):a=-1}}return i}function K5(t,e,n,r,i,s){const o=e[Oe],a=o.data[t+8],u=pm(a,o,n,null==r?Ah(a)&&TE:r!=o&&0!=(3&a.type),i&it.Host&&s===a);return null!==u?wl(e,o,u,a):qs}function pm(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,l=t.directiveStart,u=s>>20,h=i?a+u:t.directiveEnd;for(let f=r?a:a+u;f<h;f++){const g=o[f];if(f<l&&n===g||f>=l&&g.type===n)return f}if(i){const f=o[l];if(f&&ws(f)&&f.type===n)return l}return null}function wl(t,e,n,r){let i=t[n];const s=e.data;if(function B5(t){return t instanceof Mh}(i)){const o=i;o.resolving&&function mt(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new T(-200,`Circular dependency in DI detected for ${t}${n}`)}(function we(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():J(t)}(s[n]));const a=hm(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?ss(o.injectImpl):null;Y1(t,r,it.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function V5(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=F1(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==l&&ss(l),hm(a),o.resolving=!1,eN()}}return i}function fN(t,e,n){return!!(n[e+(t>>aN)]&1<<t)}function pN(t,e){return!(t&it.Self||t&it.Host&&e)}class tu{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dN(this._tNode,this._lView,e,Zg(r),n)}}function Y5(){return new tu(br(),te())}function Cr(t){return bo(()=>{const e=t.prototype.constructor,n=e[To]||xE(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[To]||xE(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function xE(t){return b(t)?()=>{const e=xE(m(t));return e&&e()}:Il(t)}function gN(t){const e=t[Oe],n=e.type;return 2===n?e.declTNode:1===n?t[$r]:null}function nu(t){return function q5(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(nN(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(br(),t)}const iu="__parameters__";function ou(t,e,n){return bo(()=>{const r=function ME(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(l,c,u){const d=l.hasOwnProperty(iu)?l[iu]:Object.defineProperty(l,iu,{value:[]})[iu];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class Fe{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=He({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function bl(t,e){t.forEach(n=>Array.isArray(n)?bl(n,e):e(n))}function _N(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gm(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Ph(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Ui(t,e,n){let r=au(t,e);return r>=0?t[1|r]=n:(r=~r,function tK(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function kE(t,e){const n=au(t,e);if(n>=0)return t[1|n]}function au(t,e){return function yN(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Mt=bh(ou("Optional"),8),Oh=bh(ou("SkipSelf"),4);var yi=(()=>((yi=yi||{})[yi.Important=1]="Important",yi[yi.DashCase=2]="DashCase",yi))();const $E=new Map;let bK=0;const UE="__ngContext__";function Ur(t,e){Li(e)?(t[UE]=e[Sh],function TK(t){$E.set(t[Sh],t)}(e)):t[UE]=e}let BE;function jE(t,e){return BE(t,e)}function Vh(t){const e=t[Mn];return Es(e)?e[Mn]:e}function zE(t){return $N(t[Th])}function HE(t){return $N(t[Is])}function $N(t){for(;null!==t&&!Es(t);)t=t[Is];return t}function cu(t,e,n,r,i){if(null!=r){let s,o=!1;Es(r)?s=r:Li(r)&&(o=!0,r=r[Do]);const a=wr(r);0===t&&null!==n?null==i?HN(e,n,a):Cl(e,n,a,i||null,!0):1===t&&null!==n?Cl(e,n,a,i||null,!0):2===t?function QE(t,e,n){const r=vm(t,e);r&&function GK(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function KK(t,e,n,r,i){const s=n[em];s!==wr(n)&&cu(e,t,r,s,i);for(let a=Yr;a<n.length;a++){const l=n[a];Uh(l[Oe],l,t,e,r,s)}}(e,t,s,n,i)}}function WE(t,e,n){return t.createElement(e,n)}function UN(t,e){const n=t[Qc],r=n.indexOf(e),i=e[Mn];512&e[It]&&(e[It]&=-513,pE(i,-1)),n.splice(r,1)}function qE(t,e){if(t.length<=Yr)return;const n=Yr+e,r=t[n];if(r){const i=r[Dh];null!==i&&i!==t&&UN(i,r),e>0&&(t[n-1][Is]=r[Is]);const s=gm(t,Yr+e);!function LK(t,e){Uh(t,e,e[wt],2,null,null),e[Do]=null,e[$r]=null}(r[Oe],r);const o=s[Gs];null!==o&&o.detachView(s[Oe]),r[Mn]=null,r[Is]=null,r[It]&=-65}return r}function BN(t,e){if(!(128&e[It])){const n=e[wt];n.destroyNode&&Uh(t,e,n,3,null,null),function UK(t){let e=t[Th];if(!e)return KE(t[Oe],t);for(;e;){let n=null;if(Li(e))n=e[Th];else{const r=e[Yr];r&&(n=r)}if(!n){for(;e&&!e[Is]&&e!==t;)Li(e)&&KE(e[Oe],e),e=e[Mn];null===e&&(e=t),Li(e)&&KE(e[Oe],e),n=e&&e[Is]}e=n}}(e)}}function KE(t,e){if(!(128&e[It])){e[It]&=-65,e[It]|=128,function HK(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Mh)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],l=s[o+1];os(4,a,l);try{l.call(a)}finally{os(5,a,l)}}else{os(4,i,s);try{s.call(i)}finally{os(5,i,s)}}}}}(t,e),function zK(t,e){const n=t.cleanup,r=e[Kc];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[i=o]():r[i=-o].unsubscribe(),s+=2}else{const o=r[i=n[s+1]];n[s].call(o)}if(null!==r){for(let s=i+1;s<r.length;s++)(0,r[s])();e[Kc]=null}}(t,e),1===e[Oe].type&&e[wt].destroy();const n=e[Dh];if(null!==n&&Es(e[Mn])){n!==e[Mn]&&UN(n,e);const r=e[Gs];null!==r&&r.detachView(t)}!function DK(t){$E.delete(t[Sh])}(e)}}function jN(t,e,n){return function zN(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[Do];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===Hs.None||s===Hs.Emulated)return null}return $i(r,n)}}(t,e.parent,n)}function Cl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function HN(t,e,n){t.appendChild(e,n)}function GN(t,e,n,r,i){null!==r?Cl(t,e,n,r,i):HN(t,e,n)}function vm(t,e){return t.parentNode(e)}function WN(t,e,n){return KN(t,e,n)}let ZE,ew,KN=function qN(t,e,n){return 40&t.type?$i(t,n):null};function Im(t,e,n,r){const i=jN(t,r,e),s=e[wt],a=WN(r.parent||e[$r],r,e);if(null!=i)if(Array.isArray(n))for(let l=0;l<n.length;l++)GN(s,i,n[l],a,!1);else GN(s,i,n,a,!1);void 0!==ZE&&ZE(s,r,e,n,i)}function Em(t,e){if(null!==e){const n=e.type;if(3&n)return $i(e,t);if(4&n)return YE(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Em(t,r);{const i=t[e.index];return Es(i)?YE(-1,i):wr(i)}}if(32&n)return jE(e,t)()||wr(t[e.index]);{const r=YN(t,e);return null!==r?Array.isArray(r)?r[0]:Em(Vh(t[Vr]),r):Em(t,e.next)}}return null}function YN(t,e){return null!==e?t[Vr][$r].projection[e.projection]:null}function YE(t,e){const n=Yr+t+1;if(n<e.length){const r=e[n],i=r[Oe].firstChild;if(null!==i)return Em(r,i)}return e[em]}function XE(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],l=n.type;if(o&&0===e&&(a&&Ur(wr(a),r),n.flags|=2),32!=(32&n.flags))if(8&l)XE(t,e,n.child,r,i,s,!1),cu(e,t,i,a,s);else if(32&l){const c=jE(n,r);let u;for(;u=c();)cu(e,t,i,u,s);cu(e,t,i,a,s)}else 16&l?QN(t,e,r,n,i,s):cu(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Uh(t,e,n,r,i,s){XE(n,r,t.firstChild,e,i,s,!1)}function QN(t,e,n,r,i,s){const o=n[Vr],l=o[$r].projection[r.projection];if(Array.isArray(l))for(let c=0;c<l.length;c++)cu(e,t,i,l[c],s);else XE(t,e,l,o[Mn],i,s,!0)}function XN(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function JN(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&CE(t,e,r),null!==i&&XN(t,e,i),null!==s&&function YK(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}class iP{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}const Tm=new Fe("ENVIRONMENT_INITIALIZER"),pP=new Fe("INJECTOR",-1),gP=new Fe("INJECTOR_DEF_TYPES");class mP{get(e,n=Eh){if(n===Eh){const r=new Error(`NullInjectorError: No provider for ${Gt(e)}!`);throw r.name="NullInjectorError",r}return n}}function b7(...t){return{\u0275providers:_P(0,t),\u0275fromNgModule:!0}}function _P(t,...e){const n=[],r=new Set;let i;return bl(e,s=>{const o=s;ow(o,n,[],r)&&(i||(i=[]),i.push(o))}),void 0!==i&&yP(i,n),n}function yP(t,e){for(let n=0;n<t.length;n++){const{providers:i}=t[n];aw(i,s=>{e.push(s)})}}function ow(t,e,n,r){if(!(t=m(t)))return!1;let i=null,s=w1(t);const o=!s&&Kt(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const l=t.ngModule;if(s=w1(l),!s)return!1;i=l}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const c of l)ow(c,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let c;r.add(i);try{bl(s.imports,u=>{ow(u,e,n,r)&&(c||(c=[]),c.push(u))})}finally{}void 0!==c&&yP(c,e)}if(!a){const c=Il(i)||(()=>new i);e.push({provide:i,useFactory:c,deps:Wt},{provide:gP,useValue:i,multi:!0},{provide:Tm,useValue:()=>Ne(i),multi:!0})}const l=s.providers;null==l||a||aw(l,u=>{e.push(u)})}}return i!==t&&void 0!==t.providers}function aw(t,e){for(let n of t)C(n)&&(n=n.\u0275providers),Array.isArray(n)?aw(n,e):e(n)}const C7=jt({provide:String,useValue:jt});function lw(t){return null!==t&&"object"==typeof t&&C7 in t}function Tl(t){return"function"==typeof t}const cw=new Fe("Set Injector scope."),Dm={},D7={};let uw;function Sm(){return void 0===uw&&(uw=new mP),uw}class Bi{}class EP extends Bi{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hw(e,o=>this.processProvider(o)),this.records.set(pP,du(void 0,this)),i.has("environment")&&this.records.set(Bi,du(void 0,this));const s=this.records.get(cw);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(gP.multi,Wt,it.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();for(const e of this._onDestroyHooks)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(e){this._onDestroyHooks.push(e)}runInContext(e){this.assertNotDestroyed();const n=Wc(this),r=ss(void 0);try{return e()}finally{Wc(n),ss(r)}}get(e,n=Eh,r=it.Default){this.assertNotDestroyed(),r=Zg(r);const i=Wc(this),s=ss(void 0);try{if(!(r&it.SkipSelf)){let a=this.records.get(e);if(void 0===a){const l=function R7(t){return"function"==typeof t||"object"==typeof t&&t instanceof Fe}(e)&&Wg(e);a=l&&this.injectableDefInScope(l)?du(dw(e),Dm):null,this.records.set(e,a)}if(null!=a)return this.hydrate(e,a)}return(r&it.Self?Sm():this.parent).get(e,n=r&it.Optional&&n===Eh?null:n)}catch(o){if("NullInjectorError"===o.name){if((o[Kg]=o[Kg]||[]).unshift(Gt(e)),i)throw o;return function r5(t,e,n,r){const i=t[Kg];throw e[T1]&&i.unshift(e[T1]),t.message=function i5(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&t.charAt(1)==e5?t.slice(2):t;let i=Gt(e);if(Array.isArray(e))i=e.map(Gt).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Gt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(J8,"\n  ")}`}("\n"+t.message,i,n,r),t[X8]=i,t[Kg]=null,t}(o,e,"R3InjectorError",this.source)}throw o}finally{ss(s),Wc(i)}}resolveInjectorInitializers(){const e=Wc(this),n=ss(void 0);try{const r=this.get(Tm.multi,Wt,it.Self);for(const i of r)i()}finally{Wc(e),ss(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(Gt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new T(205,!1)}processProvider(e){let n=Tl(e=m(e))?e:m(e&&e.provide);const r=function A7(t){return lw(t)?du(void 0,t.useValue):du(wP(t),Dm)}(e);if(Tl(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=du(void 0,Dm,!0),i.factory=()=>aE(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===Dm&&(n.value=D7,n.value=n.factory()),"object"==typeof n.value&&n.value&&function M7(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=m(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function dw(t){const e=Wg(t),n=null!==e?e.factory:Il(t);if(null!==n)return n;if(t instanceof Fe)throw new T(204,!1);if(t instanceof Function)return function S7(t){const e=t.length;if(e>0)throw Ph(e,"?"),new T(204,!1);const n=function K8(t){const e=t&&(t[qg]||t[b1]);return e?(function Z8(t){if(t.hasOwnProperty("name"))return t.name;(""+t).match(/^function\s*([^\s(]+)/)}(t),e):null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new T(204,!1)}function wP(t,e,n){let r;if(Tl(t)){const i=m(t);return Il(i)||dw(i)}if(lw(t))r=()=>m(t.useValue);else if(function IP(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...aE(t.deps||[]));else if(function vP(t){return!(!t||!t.useExisting)}(t))r=()=>Ne(m(t.useExisting));else{const i=m(t&&(t.useClass||t.provide));if(!function x7(t){return!!t.deps}(t))return Il(i)||dw(i);r=()=>new i(...aE(t.deps))}return r}function du(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function hw(t,e){for(const n of t)Array.isArray(n)?hw(n,e):n&&C(n)?hw(n.\u0275providers,e):e(n)}class k7{}class bP{}class P7{resolveComponentFactory(e){throw function N7(t){const e=Error(`No component factory found for ${Gt(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(e)}}let hu=(()=>{class t{}return t.NULL=new P7,t})();function O7(){return fu(br(),te())}function fu(t,e){return new re($i(t,e))}let re=(()=>{class t{constructor(n){this.nativeElement=n}}return t.__NG_ELEMENT_ID__=O7,t})();function F7(t){return t instanceof re?t.nativeElement:t}class TP{}let Mo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>function L7(){const t=te(),n=Vi(br().index,t);return(Li(n)?n:t)[wt]}(),t})(),$7=(()=>{class t{}return t.\u0275prov=He({token:t,providedIn:"root",factory:()=>null}),t})();class pu{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const DP=new pu("15.2.5"),fw={},pw="ngOriginalError";function gw(t){return t[pw]}class gu{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&gw(e);for(;n&&gw(n);)n=gw(n);return n||null}}function Ro(t){return t instanceof Function?t():t}function AP(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}const xP="ng-template";function Z7(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==AP(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function MP(t){return 4===t.type&&t.value!==xP}function Y7(t,e,n){return e===(4!==t.type||n?t.value:xP)}function Q7(t,e,n){let r=4;const i=t.attrs||[],s=function e9(t){for(let e=0;e<t.length;e++)if(nN(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const l=e[a];if("number"!=typeof l){if(!o)if(4&r){if(r=2|1&r,""!==l&&!Y7(t,l,n)||""===l&&1===e.length){if(bs(r))return!1;o=!0}}else{const c=8&r?l:e[++a];if(8&r&&null!==t.attrs){if(!Z7(t.attrs,c,n)){if(bs(r))return!1;o=!0}continue}const d=X7(8&r?"class":l,i,MP(t),n);if(-1===d){if(bs(r))return!1;o=!0;continue}if(""!==c){let h;h=d>s?"":i[d+1].toLowerCase();const f=8&r?h:null;if(f&&-1!==AP(f,c,0)||2&r&&c!==h){if(bs(r))return!1;o=!0}}}}else{if(!o&&!bs(r)&&!bs(l))return!1;if(o&&bs(l))continue;o=!1,r=l|1&r}}return bs(r)||o}function bs(t){return 0==(1&t)}function X7(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function t9(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function RP(t,e,n=!1){for(let r=0;r<e.length;r++)if(Q7(t,e[r],n))return!0;return!1}function n9(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function kP(t,e){return t?":not("+e.trim()+")":e}function r9(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!bs(o)&&(e+=kP(s,i),i=""),r=o,s=s||!bs(r);n++}return""!==i&&(e+=kP(s,i)),e}const ft={};function Ii(t){NP(Lt(),te(),Xr()+t,!1)}function NP(t,e,n,r){if(!r)if(3==(3&e[It])){const s=t.preOrderCheckHooks;null!==s&&lm(e,s,n)}else{const s=t.preOrderHooks;null!==s&&cm(e,s,0,n)}El(n)}function LP(t,e=null,n=null,r){const i=$P(t,e,n,r);return i.resolveInjectorInitializers(),i}function $P(t,e=null,n=null,r,i=new Set){const s=[n||Wt,b7(t)];return r=r||("object"==typeof t?void 0:Gt(t)),new EP(s,e||Sm(),r||null,i)}let zt=(()=>{class t{static create(n,r){if(Array.isArray(n))return LP({name:""},r,n,"");{var i;const s=null!==(i=n.name)&&void 0!==i?i:"";return LP({name:s},n.parent,n.providers,s)}}}return t.THROW_IF_NOT_FOUND=Eh,t.NULL=new mP,t.\u0275prov=He({token:t,providedIn:"any",factory:()=>Ne(pP)}),t.__NG_ELEMENT_ID__=-1,t})();function p(t,e=it.Default){const n=te();return null===n?Ne(t,e):dN(br(),n,m(t),e)}function WP(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];vE(n[r]),o.contentQueries(2,e[s],s)}}}function xm(t,e,n,r,i,s,o,a,l,c,u){const d=e.blueprint.slice();return d[Do]=i,d[It]=76|r,(null!==u||t&&1024&t[It])&&(d[It]|=1024),j1(d),d[Mn]=d[Zc]=t,d[Ln]=n,d[Jg]=o||t&&t[Jg],d[wt]=a||t&&t[wt],d[uE]=l||t&&t[uE]||null,d[Xg]=c||t&&t[Xg]||null,d[$r]=s,d[Sh]=function CK(){return bK++}(),d[k1]=u,d[Vr]=2==e.type?t[Vr]:d,d}function yu(t,e,n,r,i){let s=t.data[e];if(null===s)s=function Iw(t,e,n,r,i){const s=G1(),o=gE(),l=t.data[e]=function x9(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,e,n,r,i),function A5(){return ht.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function xh(){const t=ht.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ws(s,!0),s}function Hh(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ew(t,e,n){IE(e);try{const r=t.viewQuery;null!==r&&Rw(1,r,n);const i=t.template;null!==i&&qP(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&WP(t,e),t.staticViewQueries&&Rw(2,t.viewQuery,n);const s=t.components;null!==s&&function D9(t,e){for(let n=0;n<e.length;n++)K9(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[It]&=-5,EE()}}function Mm(t,e,n,r){const i=e[It];if(128!=(128&i)){IE(e);try{j1(e),function q1(t){return ht.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&qP(t,e,n,2,r);const o=3==(3&i);if(o){const c=t.preOrderCheckHooks;null!==c&&lm(e,c,null)}else{const c=t.preOrderHooks;null!==c&&cm(e,c,0,null),wE(e,0)}if(function W9(t){for(let e=zE(t);null!==e;e=HE(e)){if(!e[N1])continue;const n=e[Qc];for(let r=0;r<n.length;r++){const i=n[r];512&i[It]||pE(i[Mn],1),i[It]|=512}}}(e),function G9(t){for(let e=zE(t);null!==e;e=HE(e))for(let n=Yr;n<e.length;n++){const r=e[n],i=r[Oe];im(r)&&Mm(i,r,i.template,r[Ln])}}(e),null!==t.contentQueries&&WP(t,e),o){const c=t.contentCheckHooks;null!==c&&lm(e,c)}else{const c=t.contentHooks;null!==c&&cm(e,c,1),wE(e,1)}!function C9(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)El(~i);else{const s=i,o=n[++r],a=n[++r];x5(o,s),a(2,e[s])}}}finally{El(-1)}}(t,e);const a=t.components;null!==a&&function T9(t,e){for(let n=0;n<e.length;n++)q9(t,e[n])}(e,a);const l=t.viewQuery;if(null!==l&&Rw(2,l,r),o){const c=t.viewCheckHooks;null!==c&&lm(e,c)}else{const c=t.viewHooks;null!==c&&cm(e,c,2),wE(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[It]&=-41,512&e[It]&&(e[It]&=-513,pE(e[Mn],-1))}finally{EE()}}}function qP(t,e,n,r,i){const s=Xr(),o=2&r;try{El(-1),o&&e.length>fn&&NP(t,e,fn,!1),os(o?2:0,i),n(r,i)}finally{El(s),os(o?3:1,i)}}function ww(t,e,n){if(hE(e)){const i=e.directiveEnd;for(let s=e.directiveStart;s<i;s++){const o=t.data[s];o.contentQueries&&o.contentQueries(1,n[s],s)}}}function bw(t,e,n){H1()&&(function O9(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;Ah(n)&&function j9(t,e,n){const r=$i(e,t),i=KP(n),s=t[Jg],o=Rm(t,xm(t,i,null,n.onPush?32:16,r,e,s,s.createRenderer(r,n),null,null,null));t[e.index]=o}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||fm(n,e),Ur(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const l=t.data[a],c=wl(e,t,a,n);Ur(c,e),null!==o&&z9(0,a-i,c,l,0,o),ws(l)&&(Vi(n.index,e)[Ln]=wl(e,t,a,n))}}(t,e,n,$i(n,e)),64==(64&n.flags)&&eO(t,e,n))}function Cw(t,e,n=$i){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function KP(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Tw(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Tw(t,e,n,r,i,s,o,a,l,c){const u=fn+r,d=u+i,h=function S9(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:ft);return n}(u,d),f="function"==typeof c?c():c;return h[Oe]={type:t,blueprint:h,template:n,queries:null,viewQuery:a,declTNode:e,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:f,incompleteFirstPass:!1}}function ZP(t,e,n,r){const i=nO(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&rO(t).push(r,i.length-1))}function YP(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?QP(n,e,i,s):r.hasOwnProperty(i)&&QP(n,e,r[i],s)}return n}function QP(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function XP(t,e){const n=Vi(e,t);16&n[It]||(n[It]|=32)}function Dw(t,e,n,r){if(H1()){const i=null===r?null:{"":-1},s=function L9(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const a=n[o];if(RP(e,a.selectors,!1))if(r||(r=[]),ws(a))if(null!==a.findHostDirectiveDefs){const l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a),Sw(t,e,l.length)}else r.unshift(a),Sw(t,e,0);else{var s;i=i||new Map,null===(s=a.findHostDirectiveDefs)||void 0===s||s.call(a,a,r,i),r.push(a)}}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&JP(t,e,n,o,i,a),i&&function $9(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new T(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Rh(n.mergedAttrs,n.attrs)}function JP(t,e,n,r,i,s){for(let c=0;c<r.length;c++)AE(fm(n,e),t,r[c].type);!function U9(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let c=0;c<r.length;c++){const u=r[c];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,l=Hh(t,e,r.length,null);for(let c=0;c<r.length;c++){const u=r[c];n.mergedAttrs=Rh(n.mergedAttrs,u.hostAttrs),B9(t,n,e,l,u),V9(l,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),l++}!function M9(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let l=null,c=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],h=n?n.get(d):null,g=h?h.outputs:null;l=YP(d.inputs,u,l,h?h.inputs:null),c=YP(d.outputs,u,c,g);const v=null===l||null===o||MP(e)?null:H9(l,u,o);a.push(v)}null!==l&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=c}(t,n,s)}function eO(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function M5(){return ht.lFrame.currentDirectiveIndex}();try{El(s);for(let a=r;a<i;a++){const l=t.data[a],c=e[a];_E(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&F9(l,c)}}finally{El(-1),_E(o)}}function F9(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Sw(t,e,n){e.componentOffset=n,(t.components||(t.components=[])).push(e.index)}function V9(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ws(e)&&(n[""]=t)}}function B9(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Il(i.type)),o=new Mh(s,ws(i),p);t.blueprint[r]=o,n[r]=o,function N9(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function P9(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,Hh(t,n,i.hostVars,ft),i)}function z9(t,e,n,r,i,s){const o=s[e];if(null!==o){const a=r.setInput;for(let l=0;l<o.length;){const c=o[l++],u=o[l++],d=o[l++];null!==a?r.setInput(n,d,c,u):n[u]=d}}}function H9(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function tO(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null]}function q9(t,e){const n=Vi(e,t);if(im(n)){const r=n[Oe];48&n[It]?Mm(r,n,r.template,n[Ln]):n[vl]>0&&xw(n)}}function xw(t){for(let r=zE(t);null!==r;r=HE(r))for(let i=Yr;i<r.length;i++){const s=r[i];if(im(s))if(512&s[It]){const o=s[Oe];Mm(o,s,o.template,s[Ln])}else s[vl]>0&&xw(s)}const n=t[Oe].components;if(null!==n)for(let r=0;r<n.length;r++){const i=Vi(n[r],t);im(i)&&i[vl]>0&&xw(i)}}function K9(t,e){const n=Vi(e,t),r=n[Oe];(function Z9(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Ew(r,n,n[Ln])}function Rm(t,e){return t[Th]?t[R1][Is]=e:t[Th]=e,t[R1]=e,e}function Mw(t){for(;t;){t[It]|=32;const e=Vh(t);if(u5(t)&&!e)return t;t=e}return null}function km(t,e,n,r=!0){const i=e[Jg];i.begin&&i.begin();try{Mm(t,e,t.template,n)}catch(o){throw r&&sO(e,o),o}finally{i.end&&i.end()}}function Rw(t,e,n){vE(0),e(t,n)}function nO(t){return t[Kc]||(t[Kc]=[])}function rO(t){return t.cleanup||(t.cleanup=[])}function sO(t,e){const n=t[Xg],r=n?n.get(gu,null):null;r&&r.handleError(e)}function kw(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],l=e[o],c=t.data[o];null!==c.setInput?c.setInput(l,i,r,a):l[a]=i}}function Nm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=_(i,a):2==s&&(r=_(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function Pm(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(wr(s)),Es(s))for(let a=Yr;a<s.length;a++){const l=s[a],c=l[Oe].firstChild;null!==c&&Pm(l[Oe],l,c,r)}const o=n.type;if(8&o)Pm(t,e,n.child,r);else if(32&o){const a=jE(n,e);let l;for(;l=a();)r.push(l)}else if(16&o){const a=YN(e,n);if(Array.isArray(a))r.push(...a);else{const l=Vh(e[Vr]);Pm(l[Oe],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class Gh{get rootNodes(){const e=this._lView,n=e[Oe];return Pm(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Ln]}set context(e){this._lView[Ln]=e}get destroyed(){return 128==(128&this._lView[It])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[Mn];if(Es(e)){const n=e[tm],r=n?n.indexOf(this):-1;r>-1&&(qE(e,r),gm(n,r))}this._attachedToViewContainer=!1}BN(this._lView[Oe],this._lView)}onDestroy(e){ZP(this._lView[Oe],this._lView,null,e)}markForCheck(){Mw(this._cdRefInjectingView||this._lView)}detach(){this._lView[It]&=-65}reattach(){this._lView[It]|=64}detectChanges(){km(this._lView[Oe],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new T(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function VK(t,e){Uh(t,e,e[wt],2,null,null)}(this._lView[Oe],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new T(902,!1);this._appRef=e}}class Y9 extends Gh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;km(e[Oe],e,e[Ln],!1)}checkNoChanges(){}get context(){return null}}class oO extends hu{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=Kt(e);return new Wh(n,this.ngModule)}}function aO(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class X9{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Zg(r);const i=this.injector.get(e,fw,r);return i!==fw||n===fw?i:this.parentInjector.get(e,n,r)}}class Wh extends bP{get inputs(){return aO(this.componentDef.inputs)}get outputs(){return aO(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function i9(t){return t.map(r9).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){var s;let o=(i=i||this.ngModule)instanceof Bi?i:null===(s=i)||void 0===s?void 0:s.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const a=o?new X9(e,o):e,l=a.get(TP,null);if(null===l)throw new T(407,!1);const c=a.get($7,null),u=l.createRenderer(null,this.componentDef),d=this.componentDef.selectors[0][0]||"div",h=r?function A9(t,e,n){return t.selectRootElement(e,n===Hs.ShadowDom)}(u,r,this.componentDef.encapsulation):WE(u,d,function Q9(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(d)),f=this.componentDef.onPush?288:272,g=Tw(0,null,null,1,0,null,null,null,null,null),v=xm(null,g,null,f,null,null,l,u,c,a,null);let E,A;IE(v);try{const U=this.componentDef;let S,oe=null;U.findHostDirectiveDefs?(S=[],oe=new Map,U.findHostDirectiveDefs(U,S,oe),S.push(U)):S=[U];const je=function eZ(t,e){const n=t[Oe],r=fn;return t[r]=e,yu(n,r,2,"#host",null)}(v,h),qe=function tZ(t,e,n,r,i,s,o,a){const l=i[Oe];!function nZ(t,e,n,r){for(const i of t)e.mergedAttrs=Rh(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Nm(e,e.mergedAttrs,!0),null!==n&&JN(r,n,e))}(r,t,e,o);const c=s.createRenderer(e,n),u=xm(i,KP(n),null,n.onPush?32:16,i[t.index],t,s,c,a||null,null,null);return l.firstCreatePass&&Sw(l,t,r.length-1),Rm(i,u),i[t.index]=u}(je,h,U,S,v,l,u);A=B1(g,fn),h&&function iZ(t,e,n,r){if(r)CE(t,n,["ng-version",DP.full]);else{const{attrs:i,classes:s}=function s9(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!bs(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&CE(t,n,i),s&&s.length>0&&XN(t,n,s.join(" "))}}(u,U,h,r),void 0!==n&&function sZ(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(A,this.ngContentSelectors,n),E=function rZ(t,e,n,r,i,s){const o=br(),a=i[Oe],l=$i(o,i);JP(a,i,o,n,null,r);for(let u=0;u<n.length;u++)Ur(wl(i,a,o.directiveStart+u,o),i);eO(a,i,o),l&&Ur(l,i);const c=wl(i,a,o.directiveStart+o.componentOffset,o);if(t[Ln]=i[Ln]=c,null!==s)for(const u of s)u(c,e);return ww(a,o,t),c}(qe,U,S,oe,v,[oZ]),Ew(g,v,null)}finally{EE()}return new J9(this.componentType,E,fu(A,v),v,A)}}class J9 extends k7{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.instance=n,this.hostView=this.changeDetectorRef=new Y9(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){const s=this._rootLView;kw(s[Oe],s,i,e,n),XP(s,this._tNode.index)}}get injector(){return new tu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function oZ(){const t=br();am(te()[Oe],t)}function $t(t){let e=function lO(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(ws(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new T(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=Nw(t.inputs),o.declaredInputs=Nw(t.declaredInputs),o.outputs=Nw(t.outputs);const a=i.hostBindings;a&&uZ(t,a);const l=i.viewQuery,c=i.contentQueries;if(l&&lZ(t,l),c&&cZ(t,c),ga(t.inputs,i.inputs),ga(t.declaredInputs,i.declaredInputs),ga(t.outputs,i.outputs),ws(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===$t&&(n=!1)}}e=Object.getPrototypeOf(e)}!function aZ(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rh(i.hostAttrs,n=Rh(n,i.hostAttrs))}}(r)}function Nw(t){return t===Co?{}:t===Wt?[]:t}function lZ(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function cZ(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function uZ(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Om(t){return!!function Pw(t){return null!==t&&("function"==typeof t||"object"==typeof t)}(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Br(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function No(t,e,n,r,i,s,o,a){const l=te(),c=Lt(),u=t+fn,d=c.firstCreatePass?function IZ(t,e,n,r,i,s,o,a,l){const c=e.consts,u=yu(e,t,4,o||null,ma(c,a));Dw(e,n,u,ma(c,l)),am(e,u);const d=u.tView=Tw(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,c,l,e,n,r,i,s,o):c.data[u];Ws(d,!1);const h=l[wt].createComment("");Im(c,l,h,d),Ur(h,l),Rm(l,l[u]=tO(h,l,h,d)),nm(d)&&bw(c,l,d),null!=o&&Cw(l,d,a)}function Jr(t,e,n){const r=te();return Br(r,Jc(),e)&&function ji(t,e,n,r,i,s,o,a){const l=$i(e,n);let u,c=e.inputs;!a&&null!=c&&(u=c[r])?(kw(t,n,u,r,i),Ah(e)&&XP(n,e.index)):3&e.type&&(r=function R9(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(l,r,i))}(Lt(),function vn(){const t=ht.lFrame;return B1(t.tView,t.selectedIndex)}(),r,t,e,r[wt],n,!1),Jr}function Ow(t,e,n,r,i){const o=i?"class":"style";kw(t,n,e.inputs[o],o,r)}function on(t,e,n,r){const i=te(),s=Lt(),o=fn+t,a=i[wt],l=s.firstCreatePass?function wZ(t,e,n,r,i,s){const o=e.consts,l=yu(e,t,2,r,ma(o,i));return Dw(e,n,l,ma(o,s)),null!==l.attrs&&Nm(l,l.attrs,!1),null!==l.mergedAttrs&&Nm(l,l.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,l),l}(o,s,i,e,n,r):s.data[o],c=i[o]=WE(a,e,function $5(){return ht.lFrame.currentNamespace}()),u=nm(l);return Ws(l,!0),JN(a,c,l),32!=(32&l.flags)&&Im(s,i,c,l),0===function w5(){return ht.lFrame.elementDepthCount}()&&Ur(c,i),function b5(){ht.lFrame.elementDepthCount++}(),u&&(bw(s,i,l),ww(s,l,i)),null!==r&&Cw(i,l),on}function Jt(){let t=br();gE()?mE():(t=t.parent,Ws(t,!1));const e=t;!function C5(){ht.lFrame.elementDepthCount--}();const n=Lt();return n.firstCreatePass&&(am(n,t),hE(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function j5(t){return 0!=(8&t.flags)}(e)&&Ow(n,e,te(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function z5(t){return 0!=(16&t.flags)}(e)&&Ow(n,e,te(),e.stylesWithoutHost,!1),Jt}function cs(t,e,n,r){return on(t,e,n,r),Jt(),cs}function Lm(t,e,n){const r=te(),i=Lt(),s=t+fn,o=i.firstCreatePass?function bZ(t,e,n,r,i){const s=e.consts,o=ma(s,r),a=yu(e,t,8,"ng-container",o);return null!==o&&Nm(a,o,!0),Dw(e,n,a,ma(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Ws(o,!0);const a=r[s]=r[wt].createComment("");return Im(i,r,a,o),Ur(a,r),nm(o)&&(bw(i,r,o),ww(i,o,r)),null!=n&&Cw(r,o),Lm}function $m(){let t=br();const e=Lt();return gE()?mE():(t=t.parent,Ws(t,!1)),e.firstCreatePass&&(am(e,t),hE(t)&&e.queries.elementEnd(t)),$m}function Vm(t,e,n){return Lm(t,e,n),$m(),Vm}function Kh(t){return!!t&&"function"==typeof t.then}const Fw=function bO(t){return!!t&&"function"==typeof t.subscribe};function Yt(t,e,n,r){const i=te(),s=Lt(),o=br();return function TO(t,e,n,r,i,s,o){const a=nm(r),c=t.firstCreatePass&&rO(t),u=e[Ln],d=nO(e);let h=!0;if(3&r.type||o){const v=$i(r,e),E=o?o(v):v,A=d.length,U=o?oe=>o(wr(oe[r.index])):r.index;let S=null;if(!o&&a&&(S=function CZ(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Kc],l=i[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==S)(S.__ngLastListenerFn__||S).__ngNextListenerFn__=s,S.__ngLastListenerFn__=s,h=!1;else{s=SO(r,e,u,s,!1);const oe=n.listen(E,i,s);d.push(s,oe),c&&c.push(i,U,A,A+1)}}else s=SO(r,e,u,s,!1);const f=r.outputs;let g;if(h&&null!==f&&(g=f[i])){const v=g.length;if(v)for(let E=0;E<v;E+=2){const je=e[g[E]][g[E+1]].subscribe(s),qe=d.length;d.push(s,je),c&&c.push(i,r.index,qe,-(qe+1))}}}(s,i,i[wt],o,t,e,r),Yt}function DO(t,e,n,r){try{return os(6,e,n),!1!==n(r)}catch(i){return sO(t,i),!1}finally{os(7,e,n)}}function SO(t,e,n,r,i){return function s(o){if(o===Function)return r;Mw(t.componentOffset>-1?Vi(t.index,e):e);let l=DO(e,n,r,o),c=s.__ngNextListenerFn__;for(;c;)l=DO(e,n,c,o)&&l,c=c.__ngNextListenerFn__;return i&&!1===l&&(o.preventDefault(),o.returnValue=!1),l}}function Sl(t=1){return function k5(t){return(ht.lFrame.contextLView=function N5(t,e){for(;t>0;)e=e[Zc],t--;return e}(t,ht.lFrame.contextLView))[Ln]}(t)}function TZ(t,e){let n=null;const r=function J7(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?RP(t,s,!0):n9(r,s))return i}else n=i}return n}function be(t){const e=te()[Vr][$r];if(!e.projection){const r=e.projection=Ph(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?TZ(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function ye(t,e=0,n){const r=te(),i=Lt(),s=yu(i,fn+t,16,null,n||null);null===s.projection&&(s.projection=e),mE(),32!=(32&s.flags)&&function qK(t,e,n){QN(e[wt],0,e,n,jN(t,n,e),WN(n.parent||e[$r],n,e))}(i,r,s)}function Um(t,e){return t<<17|e<<2}function ya(t){return t>>17&32767}function $w(t){return 2|t}function Al(t){return(131068&t)>>2}function Vw(t,e){return-131069&t|e<<2}function Uw(t){return 1|t}function LO(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?ya(s):Al(s),l=!1;for(;0!==a&&(!1===l||o);){const u=t[a+1];RZ(t[a],e)&&(l=!0,t[a+1]=r?Uw(u):$w(u)),a=r?ya(u):Al(u)}l&&(t[n+1]=r?$w(s):Uw(s))}function RZ(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&au(t,e)>=0}function Bm(t,e){return function Cs(t,e,n,r){const i=te(),s=Lt(),o=function Ao(t){const e=ht.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function WO(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[Xr()],o=function GO(t,e){return e>=t.expandoStartIndex}(t,n);(function YO(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function UZ(t,e,n,r){const i=function yE(t){const e=ht.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Zh(n=Bw(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=Bw(i,t,e,n,r),null===s){let l=function BZ(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Al(r))return t[ya(r)]}(t,e,r);void 0!==l&&Array.isArray(l)&&(l=Bw(null,t,e,l[1],r),l=Zh(l,e.attrs,r),function jZ(t,e,n,r){t[ya(n?e.classBindings:e.styleBindings)]=r}(t,e,r,l))}else s=function zZ(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Zh(r,t[s].hostAttrs,n);return Zh(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function xZ(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=ya(o),l=Al(o);t[r]=n;let u,c=!1;if(Array.isArray(n)?(u=n[1],(null===u||au(n,u)>0)&&(c=!0)):u=n,i)if(0!==l){const h=ya(t[a+1]);t[r+1]=Um(h,a),0!==h&&(t[h+1]=Vw(t[h+1],r)),t[a+1]=function SZ(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Um(a,0),0!==a&&(t[a+1]=Vw(t[a+1],r)),a=r;else t[r+1]=Um(l,0),0===a?a=r:t[l+1]=Vw(t[l+1],r),l=r;c&&(t[r+1]=$w(t[r+1])),LO(t,u,r,!0),LO(t,u,r,!1),function MZ(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&au(s,e)>=0&&(n[r+1]=Uw(n[r+1]))}(e,u,t,r,s),o=Um(a,l),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==ft&&Br(i,o,e)&&function KO(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const l=t.data,c=l[a+1],u=function AZ(t){return 1==(1&t)}(c)?ZO(l,e,n,i,Al(c),o):void 0;jm(u)||(jm(s)||function DZ(t){return 2==(2&t)}(c)&&(s=ZO(l,null,n,i,a,o)),function ZK(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:yi.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=yi.Important),t.setStyle(n,r,i,s))}}(r,o,rm(Xr(),n),i,s))}(s,s.data[Xr()],i,i[wt],t,i[o+1]=function WZ(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=Gt(function _a(t){return t instanceof iP?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),r,o)}(t,e,null,!0),Bm}function Bw(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Zh(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Zh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Ui(t,o,!!n||e[++s]))}return void 0===t?null:t}function ZO(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const l=t[i],c=Array.isArray(l),u=c?l[1]:l,d=null===u;let h=n[i+1];h===ft&&(h=d?Wt:void 0);let f=d?kE(h,r):u===r?h:void 0;if(c&&!jm(f)&&(f=kE(l,r)),jm(f)&&(a=f,o))return a;const g=t[i+1];i=o?ya(g):Al(g)}if(null!==e){let l=s?e.residualClasses:e.residualStyles;null!=l&&(a=kE(l,r))}return a}function jm(t){return void 0!==t}function Ds(t,e=""){const n=te(),r=Lt(),i=t+fn,s=r.firstCreatePass?yu(r,i,1,e,null):r.data[i],o=n[i]=function GE(t,e){return t.createText(e)}(n[wt],e);Im(r,n,o,s),Ws(s,!1)}function Yh(t){return zm("",t,""),Yh}function zm(t,e,n){const r=te(),i=function Iu(t,e,n,r){return Br(t,Jc(),n)?e+J(n)+r:ft}(r,t,e,n);return i!==ft&&function ko(t,e,n){const r=rm(e,t);!function VN(t,e,n){t.setValue(e,n)}(t[wt],r,n)}(r,Xr(),i),zm}const Mu="en-US";let yF=Mu;function Hw(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)Hw(t[s],e,n,r,i);else{const s=Lt(),o=te();let a=Tl(t)?t:m(t.provide),l=wP(t);const c=br(),u=1048575&c.providerIndexes,d=c.directiveStart,h=c.providerIndexes>>20;if(Tl(t)||!t.multi){const f=new Mh(l,i,p),g=Ww(a,e,i?u:u+h,d);-1===g?(AE(fm(c,o),s,a),Gw(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(f),o.push(f)):(n[g]=f,o[g]=f)}else{const f=Ww(a,e,u+h,d),g=Ww(a,e,u,u+h),E=g>=0&&n[g];if(i&&!E||!i&&!(f>=0&&n[f])){AE(fm(c,o),s,a);const A=function uQ(t,e,n,r,i){const s=new Mh(t,n,p);return s.multi=[],s.index=e,s.componentProviders=0,zF(s,i,r&&!n),s}(i?cQ:lQ,n.length,i,r,l);!i&&E&&(n[g].providerFactory=A),Gw(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(A),o.push(A)}else Gw(s,t,f>-1?f:g,zF(n[i?g:f],l,!i&&r));!i&&r&&E&&n[g].componentProviders++}}}function Gw(t,e,n,r){const i=Tl(e),s=function T7(t){return!!t.useClass}(e);if(i||s){const l=(s?m(e.useClass):e).prototype.ngOnDestroy;if(l){const c=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=c.indexOf(n);-1===u?c.push(n,[r,l]):c[u+1].push(r,l)}else c.push(n,l)}}}function zF(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ww(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function lQ(t,e,n,r){return qw(this.multi,[])}function cQ(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=wl(n,n[Oe],this.providerFactory.index,r);s=a.slice(0,o),qw(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],qw(i,s);return s}function qw(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Qt(t,e=[]){return n=>{n.providersResolver=(r,i)=>function aQ(t,e,n){const r=Lt();if(r.firstCreatePass){const i=ws(t);Hw(n,r.data,r.blueprint,i,!0),Hw(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ru{}class HF{}class GF extends Ru{constructor(e,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new oO(this);const r=Fi(e);this._bootstrapComponents=Ro(r.bootstrap),this._r3Injector=$P(e,n,[{provide:Ru,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],Gt(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Kw extends HF{constructor(e){super(),this.moduleType=e}create(e){return new GF(this.moduleType,e)}}class hQ extends Ru{constructor(e,n,r){super(),this.componentFactoryResolver=new oO(this),this.instance=null;const i=new EP([...e,{provide:Ru,useValue:this},{provide:hu,useValue:this.componentFactoryResolver}],n||Sm(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Km(t,e,n=null){return new hQ(t,e,n).injector}let fQ=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=_P(0,n.type),i=r.length>0?Km([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return t.\u0275prov=He({token:t,providedIn:"environment",factory:()=>new t(Ne(Bi))}),t})();function WF(t){t.getStandaloneInjector=e=>e.get(fQ).getOrCreateStandaloneInjector(t)}function Yw(t){return e=>{setTimeout(t,void 0,e)}}const rn=class VQ extends Q{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){var a,l,c;const d=e;i=null===(a=d.next)||void 0===a?void 0:a.bind(d),s=null===(l=d.error)||void 0===l?void 0:l.bind(d),o=null===(c=d.complete)||void 0===c?void 0:c.bind(d)}this.__isAsync&&(s=Yw(s),i&&(i=Yw(i)),o&&(o=Yw(o)));const u=super.subscribe({next:i,error:s,complete:o});return e instanceof Pe&&e.add(u),u}};function UQ(){return this._results[Symbol.iterator]()}class Qw{get changes(){return this._changes||(this._changes=new rn)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=Qw.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=UQ)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function as(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function J5(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Ss=(()=>{class t{}return t.__NG_ELEMENT_ID__=zQ,t})();const BQ=Ss,jQ=class extends BQ{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(e,n){const r=this._declarationTContainer.tView,i=xm(this._declarationLView,r,e,16,null,r.declTNode,null,null,null,null,n||null);i[Dh]=this._declarationLView[this._declarationTContainer.index];const o=this._declarationLView[Gs];return null!==o&&(i[Gs]=o.createEmbeddedView(r)),Ew(r,i,e),new Gh(i)}};function zQ(){return Zm(br(),te())}function Zm(t,e){return 4&t.type?new jQ(e,t,fu(t,e)):null}let us=(()=>{class t{}return t.__NG_ELEMENT_ID__=HQ,t})();function HQ(){return oL(br(),te())}const GQ=us,iL=class extends GQ{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return fu(this._hostTNode,this._hostLView)}get injector(){return new tu(this._hostTNode,this._hostLView)}get parentInjector(){const e=SE(this._hostTNode,this._hostLView);if(sN(e)){const n=dm(e,this._hostLView),r=um(e);return new tu(n[Oe].data[r+8],n)}return new tu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=sL(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Yr}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const o=e.createEmbeddedView(n||{},s);return this.insert(o,i),o}createComponent(e,n,r,i,s){const o=e&&!function Nh(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const d=n||{};a=d.index,r=d.injector,i=d.projectableNodes,s=d.environmentInjector||d.ngModuleRef}const l=o?e:new Wh(Kt(e)),c=r||this.parentInjector;if(!s&&null==l.ngModule){const h=(o?c:this.parentInjector).get(Bi,null);h&&(s=h)}const u=l.create(c,i,void 0,s);return this.insert(u.hostView,a),u}insert(e,n){const r=e._lView,i=r[Oe];if(function E5(t){return Es(t[Mn])}(r)){const u=this.indexOf(e);if(-1!==u)this.detach(u);else{const d=r[Mn],h=new iL(d,d[$r],d[Mn]);h.detach(h.indexOf(e))}}const s=this._adjustIndex(n),o=this._lContainer;!function BK(t,e,n,r){const i=Yr+r,s=n.length;r>0&&(n[i-1][Is]=e),r<s-Yr?(e[Is]=n[i],_N(n,Yr+r,e)):(n.push(e),e[Is]=null),e[Mn]=n;const o=e[Dh];null!==o&&n!==o&&function jK(t,e){const n=t[Qc];e[Vr]!==e[Mn][Mn][Vr]&&(t[N1]=!0),null===n?t[Qc]=[e]:n.push(e)}(o,e);const a=e[Gs];null!==a&&a.insertView(t),e[It]|=64}(i,r,o,s);const a=YE(s,o),l=r[wt],c=vm(l,o[em]);return null!==c&&function $K(t,e,n,r,i,s){r[Do]=i,r[$r]=e,Uh(t,r,n,1,i,s)}(i,o[$r],l,r,c,a),e.attachToViewContainerRef(),_N(Xw(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=sL(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=qE(this._lContainer,n);r&&(gm(Xw(this._lContainer),n),BN(r[Oe],r))}detach(e){const n=this._adjustIndex(e,-1),r=qE(this._lContainer,n);return r&&null!=gm(Xw(this._lContainer),n)?new Gh(r):null}_adjustIndex(e,n=0){return null==e?this.length+n:e}};function sL(t){return t[tm]}function Xw(t){return t[tm]||(t[tm]=[])}function oL(t,e){let n;const r=e[t.index];if(Es(r))n=r;else{let i;if(8&t.type)i=wr(r);else{const s=e[wt];i=s.createComment("");const o=$i(t,e);Cl(s,vm(s,o),i,function WK(t,e){return t.nextSibling(e)}(s,o),!1)}e[t.index]=n=tO(r,e,i,t),Rm(e,n)}return new iL(n,t,e)}class Jw{constructor(e){this.queryList=e,this.matches=null}clone(){return new Jw(this.queryList)}setDirty(){this.queryList.setDirty()}}class eb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new eb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==hL(e,n).matches&&this.queries[n].setDirty()}}class aL{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class tb{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new tb(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class nb{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new nb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,WQ(n,s)),this.matchTNodeWithReadOption(e,n,pm(n,e,s,!1,!1))}else r===Ss?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,pm(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===re||i===us||i===Ss&&4&n.type)this.addMatch(n.index,-2);else{const s=pm(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function WQ(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function KQ(t,e,n,r){return-1===n?function qQ(t,e){return 11&t.type?fu(t,e):4&t.type?Zm(t,e):null}(e,t):-2===n?function ZQ(t,e,n){return n===re?fu(e,t):n===Ss?Zm(e,t):n===us?oL(e,t):void 0}(t,e,r):wl(t,t[Oe],n,e)}function lL(t,e,n,r){const i=e[Gs].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let l=0;l<o.length;l+=2){const c=o[l];a.push(c<0?null:KQ(e,s[c],o[l+1],n.metadata.read))}i.matches=a}return i.matches}function rb(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=lL(t,e,i,n);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)r.push(o[a/2]);else{const c=s[a+1],u=e[-l];for(let d=Yr;d<u.length;d++){const h=u[d];h[Dh]===h[Mn]&&rb(h[Oe],h,c,r)}if(null!==u[Qc]){const d=u[Qc];for(let h=0;h<d.length;h++){const f=d[h];rb(f[Oe],f,c,r)}}}}}return r}function ku(t){const e=te(),n=Lt(),r=Z1();vE(r+1);const i=hL(n,r);if(t.dirty&&function I5(t){return 4==(4&t[It])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?rb(n,e,r,[]):lL(n,e,i,r);t.reset(s,F7),t.notifyOnChanges()}return!0}return!1}function sf(t,e,n,r){const i=Lt();if(i.firstCreatePass){const s=br();(function dL(t,e,n){null===t.queries&&(t.queries=new tb),t.queries.track(new nb(e,n))})(i,new aL(e,n,r),s.index),function QQ(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}!function uL(t,e,n){const r=new Qw(4==(4&n));ZP(t,e,r,r.destroy),null===e[Gs]&&(e[Gs]=new eb),e[Gs].queries.push(new Jw(r))}(i,te(),n)}function hL(t,e){return t.queries.getByIndex(e)}function Qm(...t){}const va=new Fe("Application Initializer");let Xm=(()=>{class t{constructor(n){this.appInits=n,this.resolve=Qm,this.reject=Qm,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const s=this.appInits[i]();if(Kh(s))n.push(s);else if(Fw(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return t.\u0275fac=function(n){return new(n||t)(Ne(va,8))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lf=new Fe("AppId",{providedIn:"root",factory:function ML(){return`${cb()}${cb()}${cb()}`}});function cb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const RL=new Fe("Platform Initializer"),Fu=new Fe("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let yX=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Po=new Fe("LocaleId",{providedIn:"root",factory:()=>at(Po,it.Optional|it.SkipSelf)||function vX(){return typeof $localize<"u"&&$localize.locale||Mu}()});class EX{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let kL=(()=>{class t{compileModuleSync(n){return new Kw(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),s=Ro(Fi(n).declarations).reduce((o,a)=>{const l=Kt(a);return l&&o.push(new Wh(l)),o},[]);return new EX(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const CX=(()=>Promise.resolve(0))();function ub(t){typeof Zone>"u"?CX.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class q{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new rn(!1),this.onMicrotaskEmpty=new rn(!1),this.onStable=new rn(!1),this.onError=new rn(!1),typeof Zone>"u")throw new T(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function TX(){let t=hn.requestAnimationFrame,e=hn.cancelAnimationFrame;if(typeof Zone<"u"&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function AX(t){const e=()=>{!function SX(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(hn,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,hb(t),t.isCheckStableRunning=!0,db(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),hb(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return OL(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),FL(t)}},onInvoke:(n,r,i,s,o,a,l)=>{try{return OL(t),n.invoke(i,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&e(),FL(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,hb(t),db(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!q.isInAngularZone())throw new T(909,!1)}static assertNotInAngularZone(){if(q.isInAngularZone())throw new T(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,DX,Qm,Qm);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const DX={};function db(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function hb(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function OL(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function FL(t){t._nesting--,db(t)}class xX{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new rn,this.onMicrotaskEmpty=new rn,this.onStable=new rn,this.onError=new rn}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const LL=new Fe(""),Jm=new Fe("");let gb,fb=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gb||(function MX(t){gb=t}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{q.assertNotInAngularZone(),ub(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ub(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:s,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return t.\u0275fac=function(n){return new(n||t)(Ne(q),Ne(pb),Ne(Jm))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})(),pb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){var i,s;return null!==(i=null===(s=gb)||void 0===s?void 0:s.findTestabilityInTree(this,n,r))&&void 0!==i?i:null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();const Oo=!1;let Ia=null;const $L=new Fe("AllowMultipleToken"),mb=new Fe("PlatformDestroyListeners"),VL=new Fe("appBootstrapListener");class UL{constructor(e,n){this.name=e,this.token=n}}function jL(t,e,n=[]){const r=`Platform: ${e}`,i=new Fe(r);return(s=[])=>{let o=_b();if(!o||o.injector.get($L,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function NX(t){if(Ia&&!Ia.get($L,!1))throw new T(400,!1);Ia=t;const e=t.get(HL);(function BL(t){const e=t.get(RL,null);e&&e.forEach(n=>n())})(t)}(function zL(t=[],e){return zt.create({name:e,providers:[{provide:cw,useValue:"platform"},{provide:mb,useValue:new Set([()=>Ia=null])},...t]})}(a,r))}return function OX(t){const e=_b();if(!e)throw new T(401,!1);return e}()}}function _b(){var t,e;return null!==(t=null===(e=Ia)||void 0===e?void 0:e.get(HL))&&void 0!==t?t:null}let HL=(()=>{class t{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function WL(t,e){let n;return n="noop"===t?new xX:("zone.js"===t?void 0:t)||new q(e),n}(null==r?void 0:r.ngZone,function GL(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!t||!t.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!t||!t.ngZoneRunCoalescing)||!1}}(r)),s=[{provide:q,useValue:i}];return i.run(()=>{const o=zt.create({providers:s,parent:this.injector,name:n.moduleType.name}),a=n.create(o),l=a.injector.get(gu,null);if(!l)throw new T(402,!1);return i.runOutsideAngular(()=>{const c=i.onError.subscribe({next:u=>{l.handleError(u)}});a.onDestroy(()=>{e_(this._modules,a),c.unsubscribe()})}),function qL(t,e,n){try{const r=n();return Kh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(l,i,()=>{const c=a.injector.get(Xm);return c.runInitializers(),c.donePromise.then(()=>(function vF(t){is(t,"Expected localeId to be defined"),"string"==typeof t&&(yF=t.toLowerCase().replace(/_/g,"-"))}(a.injector.get(Po,Mu)||Mu),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=KL({},r);return function RX(t,e,n){const r=new Kw(n);return Promise.resolve(r)}(0,0,n).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(n){const r=n.injector.get(cf);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new T(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new T(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(mb,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(n){return new(n||t)(Ne(zt))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"platform"}),t})();function KL(t,e){return Array.isArray(e)?e.reduce(KL,t):{...t,...e}}let cf=(()=>{class t{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new ze(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),o=new ze(a=>{let l;this._zone.runOutsideAngular(()=>{l=this._zone.onStable.subscribe(()=>{q.assertNotInAngularZone(),ub(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const c=this._zone.onUnstable.subscribe(()=>{q.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{l.unsubscribe(),c.unsubscribe()}});this.isStable=function zc(...t){const e=Bs(t),n=function ns(t,e){return"number"==typeof fi(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?Tn(r[0]):ts(n)(nn(r,e)):Sn}(s,o.pipe(function Hc(t={}){const{connector:e=(()=>new Q),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,l,c=0,u=!1,d=!1;const h=()=>{null==a||a.unsubscribe(),a=void 0},f=()=>{h(),o=l=void 0,u=d=!1},g=()=>{const v=o;f(),null==v||v.unsubscribe()};return Le((v,E)=>{c++,!d&&!u&&h();const A=l=null!=l?l:e();E.add(()=>{c--,0===c&&!d&&!u&&(a=wo(g,i))}),A.subscribe(E),!o&&c>0&&(o=new Me({next:U=>A.next(U),error:U=>{d=!0,h(),a=wo(f,n,U),A.error(U)},complete:()=>{u=!0,h(),a=wo(f,r),A.complete()}}),Tn(v).subscribe(o))})(s)}}()))}bootstrap(n,r){const i=n instanceof bP;if(!this._injector.get(Xm).done){!i&&function qc(t){const e=Kt(t)||Lr(t)||mi(t);return null!==e&&e.standalone}(n);throw new T(405,Oo)}let o;o=i?n:this._injector.get(hu).resolveComponentFactory(n),this.componentTypes.push(o.componentType);const a=function kX(t){return t.isBoundToModule}(o)?void 0:this._injector.get(Ru),c=o.create(zt.NULL,[],r||o.selector,a),u=c.location.nativeElement,d=c.injector.get(LL,null);return null==d||d.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),e_(this.components,c),null==d||d.unregisterApplication(u)}),this._loadComponent(c),c}tick(){if(this._runningTick)throw new T(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;e_(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(VL,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>e_(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new T(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return t.\u0275fac=function(n){return new(n||t)(Ne(q),Ne(Bi),Ne(gu))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function e_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}let me=(()=>{class t{}return t.__NG_ELEMENT_ID__=LX,t})();function LX(t){return function $X(t,e,n){if(Ah(t)&&!n){const r=Vi(t.index,e);return new Gh(r,r)}return 47&t.type?new Gh(e[Vr],e):null}(br(),te(),16==(16&t))}class JL{constructor(){}supports(e){return Om(e)}create(e){return new HX(e)}}const zX=(t,e)=>e;class HX{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||zX}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<t$(r,i,s)?n:r,a=t$(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const c=a-i,u=l-i;if(c!=u){for(let h=0;h<c;h++){const f=h<s.length?s[h]:s[h]=0,g=f+h;u<=g&&g<c&&(s[h]=f+1)}s[o.previousIndex]=u-c}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Om(e))throw new T(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function _Z(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new GX(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new e$),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new e$),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class GX{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class WX{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class e${constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new WX,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function t$(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function r$(){return new r_([new JL])}let r_=(()=>{class t{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||r$()),deps:[[t,new Oh,new Mt]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new T(901,!1)}}return t.\u0275prov=He({token:t,providedIn:"root",factory:r$}),t})();const QX=jL(null,"core",[]);let XX=(()=>{class t{constructor(n){}}return t.\u0275fac=function(n){return new(n||t)(Ne(cf))},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({}),t})();let wb=null;function Fo(){return wb}class nJ{}const jr=new Fe("DocumentToken");let bb=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:function(){return function rJ(){return Ne(s$)}()},providedIn:"platform"}),t})();const iJ=new Fe("Location Initialized");let s$=(()=>{class t extends bb{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fo().getBaseHref(this._doc)}onPopState(n){const r=Fo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Fo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){o$()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){o$()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return t.\u0275fac=function(n){return new(n||t)(Ne(jr))},t.\u0275prov=He({token:t,factory:function(){return function sJ(){return new s$(Ne(jr))}()},providedIn:"platform"}),t})();function o$(){return!!window.history.pushState}function Cb(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function a$(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Lo(t){return t&&"?"!==t[0]?"?"+t:t}let $o=(()=>{class t{historyGo(n){throw new Error("Not implemented")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:function(){return at(c$)},providedIn:"root"}),t})();const l$=new Fe("appBaseHref");let c$=(()=>{class t extends $o{constructor(n,r){var i,s,o;super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=null!==(i=null!==(s=null!=r?r:this._platformLocation.getBaseHrefFromDOM())&&void 0!==s?s:null===(o=at(jr).location)||void 0===o?void 0:o.origin)&&void 0!==i?i:""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Cb(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Lo(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){const o=this.prepareExternalUrl(i+Lo(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){const o=this.prepareExternalUrl(i+Lo(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){var r,i;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,n)}}return t.\u0275fac=function(n){return new(n||t)(Ne(bb),Ne(l$,8))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),oJ=(()=>{class t extends $o{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Cb(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Lo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Lo(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){var r,i;null===(r=(i=this._platformLocation).historyGo)||void 0===r||r.call(i,n)}}return t.\u0275fac=function(n){return new(n||t)(Ne(bb),Ne(l$,8))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})(),df=(()=>{class t{constructor(n){this._subject=new rn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function cJ(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(a$(u$(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){var n;null===(n=this._urlChangeSubscription)||void 0===n||n.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Lo(r))}normalize(n){return t.stripTrailingSlash(function lJ(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,u$(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lo(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Lo(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){var r,i;null===(r=(i=this._locationStrategy).historyGo)||void 0===r||r.call(i,n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);var i;this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(null===(i=this._urlChangeSubscription)||void 0===i||i.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return t.normalizeQueryParams=Lo,t.joinWithSlash=Cb,t.stripTrailingSlash=a$,t.\u0275fac=function(n){return new(n||t)(Ne($o))},t.\u0275prov=He({token:t,factory:function(){return function aJ(){return new df(Ne($o))}()},providedIn:"root"}),t})();function u$(t){return t.replace(/\/index.html$/,"")}class ZJ{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let w$=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new ZJ(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),b$(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{b$(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(p(us),p(Ss),p(r_))},t.\u0275dir=Ke({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),t})();function b$(t,e){t.context.$implicit=e.item}let f_=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new QJ,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){C$("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){C$("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return t.\u0275fac=function(n){return new(n||t)(p(us),p(Ss))},t.\u0275dir=Ke({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),t})();class QJ{constructor(){this.$implicit=null,this.ngIf=null}}function C$(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Gt(e)}'.`)}let Lb=(()=>{class t{constructor(n){this._viewContainerRef=n,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(n){if(n.ngTemplateOutlet||n.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:s,ngTemplateOutletInjector:o}=this;this._viewRef=r.createEmbeddedView(i,s,o?{injector:o}:void 0)}else this._viewRef=null}else this._viewRef&&n.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return t.\u0275fac=function(n){return new(n||t)(p(us))},t.\u0275dir=Ke({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[_i]}),t})(),S$=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({}),t})();const A$="browser";function x$(t){return t===A$}let See=(()=>{class t{}return t.\u0275prov=He({token:t,providedIn:"root",factory:()=>new Aee(Ne(jr),window)}),t})();class Aee{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function xee(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=e)}}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=M$(this.window.history)||M$(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function M$(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class rte extends nJ{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class jb extends rte{static makeCurrent(){!function tJ(t){wb||(wb=t)}(new jb)}onAndCancel(e,n,r){return e.addEventListener(n,r,!1),()=>{e.removeEventListener(n,r,!1)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function ite(){return gf=gf||document.querySelector("base"),gf?gf.getAttribute("href"):null}();return null==n?null:function ste(t){m_=m_||document.createElement("a"),m_.setAttribute("href",t);const e=m_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){gf=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function WJ(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let m_,gf=null;const O$=new Fe("TRANSITION_ID"),ate=[{provide:va,useFactory:function ote(t,e,n){return()=>{n.get(Xm).donePromise.then(()=>{const r=Fo(),i=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let s=0;s<i.length;s++)r.remove(i[s])})}},deps:[O$,jr,zt],multi:!0}];let cte=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();const __=new Fe("EventManagerPlugins");let y_=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let s=0;s<i.length;s++){const o=i[s];if(o.supports(n))return this._eventNameToPlugin.set(n,o),o}throw new Error(`No event manager plugin found for event ${n}`)}}return t.\u0275fac=function(n){return new(n||t)(Ne(__),Ne(q))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();class F${constructor(e){this._doc=e}addGlobalEventListener(e,n,r){const i=Fo().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let L$=(()=>{class t{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){var i;const s=this.usageCount;let o=null!==(i=s.get(n))&&void 0!==i?i:0;return o+=r,o>0?s.set(n,o):s.delete(n),o}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})(),mf=(()=>{class t extends L${constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef,i=r.get(n);null==i||i.forEach(s=>s.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const s=this.styleRef.get(r);s?s.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return t.\u0275fac=function(n){return new(n||t)(Ne(jr))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();const zb={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Hb=/%COMP%/g,U$=new Fe("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function B$(t,e){return e.flat(100).map(n=>n.replace(Hb,t))}function j$(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let Gb=(()=>{class t{constructor(n,r,i,s){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=s,this.rendererByCompId=new Map,this.defaultRenderer=new Wb(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof G$?i.applyToHost(n):i instanceof qb&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.eventManager,a=this.sharedStylesHost,l=this.removeStylesOnCompDestory;switch(r.encapsulation){case Hs.Emulated:s=new G$(o,a,r,this.appId,l);break;case Hs.ShadowDom:return new mte(o,a,n,r);default:s=new qb(o,a,r,l)}s.onDestroy=()=>i.delete(r.id),i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return t.\u0275fac=function(n){return new(n||t)(Ne(y_),Ne(mf),Ne(lf),Ne(U$))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();class Wb{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?document.createElementNS(zb[n]||n,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,n){(H$(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(H$(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=zb[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=zb[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(yi.DashCase|yi.Important)?e.style.setProperty(n,r,i&yi.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&yi.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,n,j$(r)):this.eventManager.addEventListener(e,n,j$(r))}}function H$(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class mte extends Wb{constructor(e,n,r,i){super(e),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=B$(i.id,i.styles);for(const o of s){const a=document.createElement("style");a.textContent=o,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qb extends Wb{constructor(e,n,r,i,s=r.id){super(e),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=B$(s,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){var e;this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount)&&(null===(e=this.onDestroy)||void 0===e||e.call(this))}}class G$ extends qb{constructor(e,n,r,i,s){const o=i+"-"+r.id;super(e,n,r,s,o),this.contentAttr=function fte(t){return"_ngcontent-%COMP%".replace(Hb,t)}(o),this.hostAttr=function pte(t){return"_nghost-%COMP%".replace(Hb,t)}(o)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let _te=(()=>{class t extends F${constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return t.\u0275fac=function(n){return new(n||t)(Ne(jr))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();const W$=["alt","control","meta","shift"],yte={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vte={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let Ite=(()=>{class t extends F${constructor(n){super(n)}supports(n){return null!=t.parseEventName(n)}addEventListener(n,r,i){const s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fo().onAndCancel(n,s.domEventName,o))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=t._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),W$.forEach(c=>{const u=r.indexOf(c);u>-1&&(r.splice(u,1),o+=c+".")}),o+=s,0!=r.length||0===s.length)return null;const l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=yte[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),W$.forEach(o=>{o!==i&&(0,vte[o])(n)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return t.\u0275fac=function(n){return new(n||t)(Ne(jr))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();const K$=[{provide:Fu,useValue:A$},{provide:RL,useValue:function Ete(){jb.makeCurrent()},multi:!0},{provide:jr,useFactory:function bte(){return function e7(t){ew=t}(document),document},deps:[]}],Cte=jL(QX,"browser",K$),Z$=new Fe(""),Y$=[{provide:Jm,useClass:class lte{addToWindow(e){hn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new Error("Could not find testability for element.");return s},hn.getAllAngularTestabilities=()=>e.getAllTestabilities(),hn.getAllAngularRootElements=()=>e.getAllRootElements(),hn.frameworkStabilizers||(hn.frameworkStabilizers=[]),hn.frameworkStabilizers.push(r=>{const i=hn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(l){o=o||l,s--,0==s&&r(o)};i.forEach(function(l){l.whenStable(a)})})}findTestabilityInTree(e,n,r){if(null==n)return null;const i=e.getTestability(n);return null!=i?i:r?Fo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null}},deps:[]},{provide:LL,useClass:fb,deps:[q,pb,Jm]},{provide:fb,useClass:fb,deps:[q,pb,Jm]}],Q$=[{provide:cw,useValue:"root"},{provide:gu,useFactory:function wte(){return new gu},deps:[]},{provide:__,useClass:_te,multi:!0,deps:[jr,q,Fu]},{provide:__,useClass:Ite,multi:!0,deps:[jr]},{provide:Gb,useClass:Gb,deps:[y_,mf,lf,U$]},{provide:TP,useExisting:Gb},{provide:L$,useExisting:mf},{provide:mf,useClass:mf,deps:[jr]},{provide:y_,useClass:y_,deps:[__,q]},{provide:class Mee{},useClass:cte,deps:[]},[]];let Tte=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:lf,useValue:n.appId},{provide:O$,useExisting:lf},ate]}}}return t.\u0275fac=function(n){return new(n||t)(Ne(Z$,12))},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[...Q$,...Y$],imports:[S$,XX]}),t})(),Zb=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return t.\u0275fac=function(n){return new(n||t)(Ne(jr))},t.\u0275prov=He({token:t,factory:function(n){let r=null;return r=n?new n:function Ste(){return new Zb(Ne(jr))}(),r},providedIn:"root"}),t})();typeof window<"u"&&window;var I=le(5861);const Qb={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},Se=function(t,e){if(!t)throw $u(e)},$u=function(t){return new Error("Firebase Database ("+Qb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},eV=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},v_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0;let h=(15&a)<<2|c>>6,f=63&c;l||(f=64,o||(h=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(eV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const l=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(1023&l))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==c||null==d)throw new Pte;r.push(s<<2|a>>4),64!==c&&(r.push(a<<4&240|c>>2),64!==d&&r.push(c<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Pte extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tV=function(t){const e=eV(t);return v_.encodeByteArray(e,!0)},I_=function(t){return tV(t).replace(/\./g,"")},E_=function(t){try{return v_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Ote(t){return nV(void 0,t)}function nV(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Fte(n)||(t[n]=nV(t[n],e[n]));return t}function Fte(t){return"__proto__"!==t}const w_=()=>{try{return function Lte(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&E_(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},rV=t=>{var e,n;return null===(n=null===(e=w_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},b_=t=>{const e=rV(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Bte=()=>{var t;return null===(t=w_())||void 0===t?void 0:t.config},iV=t=>{var e;return null===(e=w_())||void 0===e?void 0:e[`_${t}`]};class Vu{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Xb(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[I_(JSON.stringify({alg:"none",type:"JWT"})),I_(JSON.stringify(o)),""].join(".")}function ur(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Jb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ur())}function e0(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function sV(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Uo(){return!0===Qb.NODE_CLIENT||!0===Qb.NODE_ADMIN}function wa(){try{return"object"==typeof indexedDB}catch{return!1}}function Uu(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function C_(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class zi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Rs.prototype.create)}}class Rs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Gte(t,e){return t.replace(Wte,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new zi(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Wte=/\{\$([^}]+)}/g;function _f(t){return JSON.parse(t)}function Tr(t){return JSON.stringify(t)}const T_=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=_f(E_(s[0])||""),n=_f(E_(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Bo(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Bu(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function t0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function D_(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function yf(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(oV(s)&&oV(o)){if(!yf(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function oV(t){return null!==t&&"object"==typeof t}function vf(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class Zte{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const h=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(h<<1|h>>>31)}let c,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(c=a^s&(o^a),u=1518500249):(c=s^o^a,u=1859775393):d<60?(c=s&o|a&(s|o),u=2400959708):(c=s^o^a,u=3395469782);const h=(i<<5|i>>>27)+c+l+u+r[d]&4294967295;l=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=h}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}class Qte{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function Xte(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=n0),void 0===i.error&&(i.error=n0),void 0===i.complete&&(i.complete=n0);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function n0(){}const A_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},ene=1e3,tne=2,nne=144e5,rne=.5;function r0(t,e=ene,n=tne){const r=e*Math.pow(n,t),i=Math.round(rne*r*(Math.random()-.5)*2);return Math.min(nne,r+i)}function en(t){return t&&t._delegate?t._delegate:t}class Xn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Rl="[DEFAULT]";class sne{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vu;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),i=null!==(n=null==e?void 0:e.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function ane(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Rl})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Rl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,I.Z)(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Rl){return this.instances.has(e)}getOptions(e=Rl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Rl?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Rl){return this.component?this.component.multipleInstances?e:Rl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class lne{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sne(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const s0=[];var Rt=(()=>{return(t=Rt||(Rt={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",Rt;var t})();const aV={debug:Rt.DEBUG,verbose:Rt.VERBOSE,info:Rt.INFO,warn:Rt.WARN,error:Rt.ERROR,silent:Rt.SILENT},cne=Rt.INFO,une={[Rt.DEBUG]:"log",[Rt.VERBOSE]:"log",[Rt.INFO]:"info",[Rt.WARN]:"warn",[Rt.ERROR]:"error"},dne=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=une[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ba{constructor(e){this.name=e,this._logLevel=cne,this._logHandler=dne,this._userLogHandler=null,s0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?aV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Rt.DEBUG,...e),this._logHandler(this,Rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Rt.VERBOSE,...e),this._logHandler(this,Rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Rt.INFO,...e),this._logHandler(this,Rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Rt.WARN,...e),this._logHandler(this,Rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Rt.ERROR,...e),this._logHandler(this,Rt.ERROR,...e)}}const hne=(t,e)=>e.some(n=>t instanceof n);let lV,cV;const uV=new WeakMap,o0=new WeakMap,dV=new WeakMap,a0=new WeakMap,l0=new WeakMap;let c0={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return o0.get(t);if("objectStoreNames"===e)return t.objectStoreNames||dV.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function vne(t){return"function"==typeof t?function yne(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pne(){return cV||(cV=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(u0(this),e),jo(uV.get(this))}:function(...e){return jo(t.apply(u0(this),e))}:function(e,...n){const r=t.call(u0(this),e,...n);return dV.set(r,e.sort?e.sort():[e]),jo(r)}}(t):(t instanceof IDBTransaction&&function mne(t){if(o0.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});o0.set(t,e)}(t),hne(t,function fne(){return lV||(lV=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,c0):t)}function jo(t){if(t instanceof IDBRequest)return function gne(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&uV.set(n,t)}).catch(()=>{}),l0.set(e,t),e}(t);if(a0.has(t))return a0.get(t);const e=vne(t);return e!==t&&(a0.set(t,e),l0.set(e,t)),e}const u0=t=>l0.get(t);function x_(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=jo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(jo(o.result),l.oldVersion,l.newVersion,jo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function d0(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),jo(n).then(()=>{})}const Ine=["get","getKey","getAll","getAllKeys","count"],Ene=["put","add","delete","clear"],h0=new Map;function hV(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(h0.get(e))return h0.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Ene.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ine.includes(n))return;const s=function(){var o=(0,I.Z)(function*(a,...l){const c=this.transaction(a,i?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(yield Promise.all([u[n](...l),i&&c.done]))[0]});return function(l){return o.apply(this,arguments)}}();return h0.set(e,s),s}!function _ne(t){c0=t(c0)}(t=>({...t,get:(e,n,r)=>hV(e,n)||t.get(e,n,r),has:(e,n)=>!!hV(e,n)||t.has(e,n)}));class wne{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function bne(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const f0="@firebase/app",kl=new ba("@firebase/app"),M_="[DEFAULT]",Zne={[f0]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Nl=new Map,R_=new Map;function Yne(t,e){try{t.container.addComponent(e)}catch(n){kl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function or(t){const e=t.name;if(R_.has(e))return kl.debug(`There were multiple attempts to register component ${e}.`),!1;R_.set(e,t);for(const n of Nl.values())Yne(n,t);return!0}function wi(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const zo=new Rs("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Xne{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Xn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zo.create("app-deleted",{appName:this._name})}}const Ca="9.19.1";function pV(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:M_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw zo.create("bad-app-name",{appName:String(i)});if(n||(n=Bte()),!n)throw zo.create("no-options");const s=Nl.get(i);if(s){if(yf(n,s.options)&&yf(r,s.config))return s;throw zo.create("duplicate-app",{appName:i})}const o=new lne(i);for(const l of R_.values())o.addComponent(l);const a=new Xne(n,r,o);return Nl.set(i,a),a}function Js(t=M_){const e=Nl.get(t);if(!e&&t===M_)return pV();if(!e)throw zo.create("no-app",{appName:t});return e}function gV(){return Array.from(Nl.values())}function Ct(t,e,n){var r;let i=null!==(r=Zne[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void kl.warn(a.join(" "))}or(new Xn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const Jne="firebase-heartbeat-database",ere=1,If="firebase-heartbeat-store";let g0=null;function mV(){return g0||(g0=x_(Jne,ere,{upgrade:(t,e)=>{0===e&&t.createObjectStore(If)}}).catch(t=>{throw zo.create("idb-open",{originalErrorMessage:t.message})})),g0}function m0(){return(m0=(0,I.Z)(function*(t){try{return(yield mV()).transaction(If).objectStore(If).get(yV(t))}catch(e){if(e instanceof zi)kl.warn(e.message);else{const n=zo.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});kl.warn(n.message)}}})).apply(this,arguments)}function _V(t,e){return _0.apply(this,arguments)}function _0(){return(_0=(0,I.Z)(function*(t,e){try{const r=(yield mV()).transaction(If,"readwrite");return yield r.objectStore(If).put(e,yV(t)),r.done}catch(n){if(n instanceof zi)kl.warn(n.message);else{const r=zo.create("idb-set",{originalErrorMessage:null==n?void 0:n.message});kl.warn(r.message)}}})).apply(this,arguments)}function yV(t){return`${t.name}!${t.options.appId}`}class ire{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ore(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return(0,I.Z)(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=vV();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,I.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=vV(),{heartbeatsToSend:r,unsentEntries:i}=function sre(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),IV(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),IV(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=I_(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function vV(){return(new Date).toISOString().substring(0,10)}class ore{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,I.Z)(function*(){return!!wa()&&Uu().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,I.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function tre(t){return m0.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return(0,I.Z)(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return _V(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return(0,I.Z)(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return _V(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function IV(t){return I_(JSON.stringify({version:2,heartbeats:t})).length}!function are(t){or(new Xn("platform-logger",e=>new wne(e),"PRIVATE")),or(new Xn("heartbeat",e=>new ire(e),"PRIVATE")),Ct(f0,"0.9.7",t),Ct(f0,"0.9.7","esm2017"),Ct("fire-js","")}(""),Ct("firebase","9.19.1","app");const EV="@firebase/installations",y0="0.6.4",wV=1e4,bV=`w:${y0}`,CV="FIS_v2",ure="https://firebaseinstallations.googleapis.com/v1",dre=36e5,Ho=new Rs("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function TV(t){return t instanceof zi&&t.code.includes("request-failed")}function v0({projectId:t}){return`${ure}/projects/${t}/installations`}function DV(t){return{token:t.token,requestStatus:2,expiresIn:gre(t.expiresIn),creationTime:Date.now()}}function I0(t,e){return E0.apply(this,arguments)}function E0(){return(E0=(0,I.Z)(function*(t,e){const r=(yield e.json()).error;return Ho.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function SV({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function w0(t){return b0.apply(this,arguments)}function b0(){return(b0=(0,I.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function gre(t){return Number(t.replace("s","000"))}function C0(){return(C0=(0,I.Z)(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=v0(t),i=SV(t),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:CV,appId:t.appId,sdkVersion:bV})},l=yield w0(()=>fetch(r,a));if(l.ok){const c=yield l.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:DV(c.authToken)}}throw yield I0("Create Installation",l)})).apply(this,arguments)}function xV(t){return new Promise(e=>{setTimeout(e,t)})}const vre=/^[cdef][\w-]{21}$/,T0="";function Ire(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function Ere(t){return function yre(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return vre.test(n)?n:T0}catch{return T0}}function ju(t){return`${t.appName}!${t.appId}`}const zu=new Map;function MV(t,e){const n=ju(t);RV(n,e),function Cre(t,e){const n=function kV(){return!Pl&&"BroadcastChannel"in self&&(Pl=new BroadcastChannel("[Firebase] FID Change"),Pl.onmessage=t=>{RV(t.data.key,t.data.fid)}),Pl}();n&&n.postMessage({key:t,fid:e}),function NV(){0===zu.size&&Pl&&(Pl.close(),Pl=null)}()}(n,e)}function RV(t,e){const n=zu.get(t);if(n)for(const r of n)r(e)}let Pl=null;const Tre="firebase-installations-database",Dre=1,Ol="firebase-installations-store";let D0=null;function S0(){return D0||(D0=x_(Tre,Dre,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ol)}})),D0}function k_(t,e){return A0.apply(this,arguments)}function A0(){return(A0=(0,I.Z)(function*(t,e){const n=ju(t),i=(yield S0()).transaction(Ol,"readwrite"),s=i.objectStore(Ol),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&MV(t,e.fid),e})).apply(this,arguments)}function x0(t){return M0.apply(this,arguments)}function M0(){return(M0=(0,I.Z)(function*(t){const e=ju(t),r=(yield S0()).transaction(Ol,"readwrite");yield r.objectStore(Ol).delete(e),yield r.done})).apply(this,arguments)}function Ef(t,e){return R0.apply(this,arguments)}function R0(){return(R0=(0,I.Z)(function*(t,e){const n=ju(t),i=(yield S0()).transaction(Ol,"readwrite"),s=i.objectStore(Ol),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&MV(t,a.fid),a})).apply(this,arguments)}function k0(t){return N0.apply(this,arguments)}function N0(){return N0=(0,I.Z)(function*(t){let e;const n=yield Ef(t.appConfig,r=>{const i=function Sre(t){return OV(t||{fid:Ire(),registrationStatus:0})}(r),s=function Are(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Ho.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function xre(t,e){return P0.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Mre(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===T0?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),N0.apply(this,arguments)}function P0(){return P0=(0,I.Z)(function*(t,e){try{const n=yield function _re(t,e){return C0.apply(this,arguments)}(t,e);return k_(t.appConfig,n)}catch(n){throw TV(n)&&409===n.customData.serverCode?yield x0(t.appConfig):yield k_(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),P0.apply(this,arguments)}function Mre(t){return O0.apply(this,arguments)}function O0(){return(O0=(0,I.Z)(function*(t){let e=yield PV(t.appConfig);for(;1===e.registrationStatus;)yield xV(100),e=yield PV(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield k0(t);return r||n}return e})).apply(this,arguments)}function PV(t){return Ef(t,e=>{if(!e)throw Ho.create("installation-not-found");return OV(e)})}function OV(t){return function Rre(t){return 1===t.registrationStatus&&t.registrationTime+wV<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function F0(){return(F0=(0,I.Z)(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Nre(t,{fid:e}){return`${v0(t)}/${e}/authTokens:generate`}(t,n),i=function AV(t,{refreshToken:e}){const n=SV(t);return n.append("Authorization",function mre(t){return`${CV} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const c=yield s.getHeartbeatsHeader();c&&i.append("x-firebase-client",c)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:bV,appId:t.appId}})},l=yield w0(()=>fetch(r,a));if(l.ok)return DV(yield l.json());throw yield I0("Generate Auth Token",l)})).apply(this,arguments)}function L0(t){return $0.apply(this,arguments)}function $0(){return $0=(0,I.Z)(function*(t,e=!1){let n;const r=yield Ef(t.appConfig,s=>{if(!LV(s))throw Ho.create("not-registered");const o=s.authToken;if(!e&&function Fre(t){return 2===t.requestStatus&&!function Lre(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+dre}(t)}(o))return s;if(1===o.requestStatus)return n=function Pre(t,e){return V0.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Ho.create("app-offline");const a=function $re(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function Ore(t,e){return U0.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),$0.apply(this,arguments)}function V0(){return(V0=(0,I.Z)(function*(t,e){let n=yield FV(t.appConfig);for(;1===n.authToken.requestStatus;)yield xV(100),n=yield FV(t.appConfig);const r=n.authToken;return 0===r.requestStatus?L0(t,e):r})).apply(this,arguments)}function FV(t){return Ef(t,e=>{if(!LV(e))throw Ho.create("not-registered");return function Vre(t){return 1===t.requestStatus&&t.requestTime+wV<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function U0(){return U0=(0,I.Z)(function*(t,e){try{const n=yield function kre(t,e){return F0.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield k_(t.appConfig,r),n}catch(n){if(!TV(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield k_(t.appConfig,r)}else yield x0(t.appConfig);throw n}}),U0.apply(this,arguments)}function LV(t){return void 0!==t&&2===t.registrationStatus}function B0(){return(B0=(0,I.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield k0(e);return r?r.catch(console.error):L0(e).catch(console.error),n.fid})).apply(this,arguments)}function j0(){return j0=(0,I.Z)(function*(t,e=!1){const n=t;return yield function jre(t){return z0.apply(this,arguments)}(n),(yield L0(n,e)).token}),j0.apply(this,arguments)}function z0(){return(z0=(0,I.Z)(function*(t){const{registrationPromise:e}=yield k0(t);e&&(yield e)})).apply(this,arguments)}function W0(t){return Ho.create("missing-app-config-values",{valueName:t})}const $V="installations",qre=t=>{const e=t.getProvider("app").getImmediate(),n=function Gre(t){if(!t||!t.options)throw W0("App Configuration");if(!t.name)throw W0("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw W0(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:wi(e,"heartbeat"),_delete:()=>Promise.resolve()}},Kre=t=>{const n=wi(t.getProvider("app").getImmediate(),$V).getImmediate();return{getId:()=>function Ure(t){return B0.apply(this,arguments)}(n),getToken:i=>function Bre(t){return j0.apply(this,arguments)}(n,i)}};(function Zre(){or(new Xn($V,qre,"PUBLIC")),or(new Xn("installations-internal",Kre,"PRIVATE"))})(),Ct(EV,y0),Ct(EV,y0,"esm2017");const q0="@firebase/remote-config",UV="remote-config",bi=new Rs("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});function nie(t=Js()){return wi(t=en(t),UV).getImmediate()}class aie{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return(0,I.Z)(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function lie(t=navigator){return t.languages&&t.languages[0]||t.language}class cie{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return(0,I.Z)(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:lie()},c={method:"POST",headers:a,body:JSON.stringify(l)},u=fetch(o,c),d=new Promise((A,U)=>{e.signal.addEventListener(()=>{const S=new Error("The operation was aborted.");S.name="AbortError",U(S)})});let h;try{yield Promise.race([u,d]),h=yield u}catch(A){let U="fetch-client-network";throw"AbortError"===(null==A?void 0:A.name)&&(U="fetch-timeout"),bi.create(U,{originalErrorMessage:null==A?void 0:A.message})}let f=h.status;const g=h.headers.get("ETag")||void 0;let v,E;if(200===h.status){let A;try{A=yield h.json()}catch(U){throw bi.create("fetch-client-parse",{originalErrorMessage:null==U?void 0:U.message})}v=A.entries,E=A.state}if("INSTANCE_STATE_UNSPECIFIED"===E?f=500:"NO_CHANGE"===E?f=304:("NO_TEMPLATE"===E||"EMPTY_CONFIG"===E)&&(v={}),304!==f&&200!==f)throw bi.create("fetch-status",{httpStatus:f});return{status:f,eTag:g,config:v}})()}}class hie{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return(0,I.Z)(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return(0,I.Z)(function*(){yield function uie(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bi.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function die(t){if(!(t instanceof zi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+r0(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class gie{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function P_(t,e){const n=t.target.error||void 0;return bi.create(e,{originalErrorMessage:n&&(null==n?void 0:n.message)})}const Fl="app_namespace_store";class vie{constructor(e,n,r,i=function yie(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(P_(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fl,{keyPath:"compositeKey"})}}catch(n){e(bi.create("storage-open",{originalErrorMessage:null==n?void 0:n.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return(0,I.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Fl],"readonly").objectStore(Fl),l=n.createCompositeKey(e);try{const c=a.get(l);c.onerror=u=>{s(P_(u,"storage-get"))},c.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(c){s(bi.create("storage-get",{originalErrorMessage:null==c?void 0:c.message}))}})})()}set(e,n){var r=this;return(0,I.Z)(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const l=i.transaction([Fl],"readwrite").objectStore(Fl),c=r.createCompositeKey(e);try{const u=l.put({compositeKey:c,value:n});u.onerror=d=>{o(P_(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(bi.create("storage-set",{originalErrorMessage:null==u?void 0:u.message}))}})})()}delete(e){var n=this;return(0,I.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([Fl],"readwrite").objectStore(Fl),l=n.createCompositeKey(e);try{const c=a.delete(l);c.onerror=u=>{s(P_(u,"storage-delete"))},c.onsuccess=()=>{i()}}catch(c){s(bi.create("storage-delete",{originalErrorMessage:null==c?void 0:c.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Iie{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,I.Z)(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function wie(){return X0.apply(this,arguments)}function X0(){return(X0=(0,I.Z)(function*(){if(!wa())return!1;try{return yield Uu()}catch{return!1}})).apply(this,arguments)}!function Eie(){or(new Xn(UV,function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw bi.create("registration-window");if(!wa())throw bi.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw bi.create("registration-project-id");if(!o)throw bi.create("registration-api-key");if(!a)throw bi.create("registration-app-id");const l=new vie(a,r.name,n=n||"firebase"),c=new Iie(l),u=new ba(q0);u.logLevel=Rt.ERROR;const d=new cie(i,Ca,n,s,o,a),h=new hie(d,l),f=new aie(h,l,c,u),g=new gie(r,f,c,l,u);return function iie(t){const e=en(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(g),g},"PUBLIC").setMultipleInstances(!0)),Ct(q0,"0.4.4"),Ct(q0,"0.4.4","esm2017")}();const bie="/firebase-messaging-sw.js",Cie="/firebase-cloud-messaging-push-scope",jV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Tie="https://fcmregistrations.googleapis.com/v1",zV="google.c.a.c_id",Die="google.c.a.c_l",Sie="google.c.a.ts",Aie="google.c.a.e";var Hu=(()=>{return(t=Hu||(Hu={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Hu;var t})();function Go(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function xie(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const J0="fcm_token_details_db",Mie=5,HV="fcm_token_object_Store";function eC(){return eC=(0,I.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(J0))return null;let e=null;return(yield x_(J0,Mie,{upgrade:(r=(0,I.Z)(function*(i,s,o,a){var l;if(s<2||!i.objectStoreNames.contains(HV))return;const c=a.objectStore(HV),u=yield c.index("fcmSenderId").get(t);if(yield c.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(l=d.createTime)&&void 0!==l?l:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:Go(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Go(d.auth),p256dh:Go(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Go(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:Go(d.auth),p256dh:Go(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:Go(d.vapidKey)}}}}),function(s,o,a,l){return r.apply(this,arguments)})})).close(),yield d0(J0),yield d0("fcm_vapid_details_db"),yield d0("undefined"),function kie(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),eC.apply(this,arguments)}const Nie="firebase-messaging-database",Pie=1,Ll="firebase-messaging-store";let tC=null;function nC(){return tC||(tC=x_(Nie,Pie,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Ll)}})),tC}function GV(t){return rC.apply(this,arguments)}function rC(){return rC=(0,I.Z)(function*(t){const e=aC(t),r=yield(yield nC()).transaction(Ll).objectStore(Ll).get(e);if(r)return r;{const i=yield function Rie(t){return eC.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield iC(t,i),i}}),rC.apply(this,arguments)}function iC(t,e){return sC.apply(this,arguments)}function sC(){return(sC=(0,I.Z)(function*(t,e){const n=aC(t),i=(yield nC()).transaction(Ll,"readwrite");return yield i.objectStore(Ll).put(e,n),yield i.done,e})).apply(this,arguments)}function oC(){return(oC=(0,I.Z)(function*(t){const e=aC(t),r=(yield nC()).transaction(Ll,"readwrite");yield r.objectStore(Ll).delete(e),yield r.done})).apply(this,arguments)}function aC({appConfig:t}){return t.appId}const Dr=new Rs("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Lie(t,e){return lC.apply(this,arguments)}function lC(){return(lC=(0,I.Z)(function*(t,e){const n=yield hC(t),r=qV(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(dC(t.appConfig),i)).json()}catch(o){throw Dr.create("token-subscribe-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw Dr.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Dr.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function cC(){return(cC=(0,I.Z)(function*(t,e){const n=yield hC(t),r=qV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${dC(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Dr.create("token-update-failed",{errorInfo:null==o?void 0:o.toString()})}if(s.error)throw Dr.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Dr.create("token-update-no-token");return s.token})).apply(this,arguments)}function WV(t,e){return uC.apply(this,arguments)}function uC(){return(uC=(0,I.Z)(function*(t,e){const r={method:"DELETE",headers:yield hC(t)};try{const s=yield(yield fetch(`${dC(t.appConfig)}/${e}`,r)).json();if(s.error)throw Dr.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Dr.create("token-unsubscribe-failed",{errorInfo:null==i?void 0:i.toString()})}})).apply(this,arguments)}function dC({projectId:t}){return`${Tie}/projects/${t}/registrations`}function hC(t){return fC.apply(this,arguments)}function fC(){return(fC=(0,I.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function qV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==jV&&(i.web.applicationPubKey=r),i}const Vie=6048e5;function pC(){return pC=(0,I.Z)(function*(t){const e=yield function jie(t,e){return yC.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:Go(e.getKey("auth")),p256dh:Go(e.getKey("p256dh"))},r=yield GV(t.firebaseDependencies);if(r){if(function zie(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+Vie?function Bie(t,e){return mC.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield WV(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ZV(t.firebaseDependencies,n)}return ZV(t.firebaseDependencies,n)}),pC.apply(this,arguments)}function gC(){return gC=(0,I.Z)(function*(t){const e=yield GV(t.firebaseDependencies);e&&(yield WV(t.firebaseDependencies,e.token),yield function Oie(t){return oC.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),gC.apply(this,arguments)}function mC(){return mC=(0,I.Z)(function*(t,e){try{const n=yield function $ie(t,e){return cC.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield iC(t.firebaseDependencies,r),n}catch(n){throw yield function KV(t){return gC.apply(this,arguments)}(t),n}}),mC.apply(this,arguments)}function ZV(t,e){return _C.apply(this,arguments)}function _C(){return(_C=(0,I.Z)(function*(t,e){const r={token:yield Lie(t,e),createTime:Date.now(),subscriptionOptions:e};return yield iC(t,r),r.token})).apply(this,arguments)}function yC(){return(yC=(0,I.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:xie(e)})})).apply(this,arguments)}function YV(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function Hie(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function Gie(t,e){e.data&&(t.data=e.data)}(e,t),function Wie(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const l=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}(e,t),e}function QV(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function vC(t){return Dr.create("missing-app-config-values",{valueName:t})}QV("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),QV("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zie{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function Kie(t){if(!t||!t.options)throw vC("App Configuration Object");if(!t.name)throw vC("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw vC(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function XV(t){return IC.apply(this,arguments)}function IC(){return(IC=(0,I.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(bie,{scope:Cie}),t.swRegistration.update().catch(()=>{})}catch(e){throw Dr.create("failed-service-worker-registration",{browserErrorMessage:null==e?void 0:e.message})}})).apply(this,arguments)}function EC(){return(EC=(0,I.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield XV(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Dr.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function wC(){return(wC=(0,I.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=jV)})).apply(this,arguments)}function bC(){return bC=(0,I.Z)(function*(t,e){if(!navigator)throw Dr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Dr.create("permission-blocked");return yield function Qie(t,e){return wC.apply(this,arguments)}(t,null==e?void 0:e.vapidKey),yield function Yie(t,e){return EC.apply(this,arguments)}(t,null==e?void 0:e.serviceWorkerRegistration),function Uie(t){return pC.apply(this,arguments)}(t)}),bC.apply(this,arguments)}function CC(){return(CC=(0,I.Z)(function*(t,e,n){const r=function Jie(t){switch(t){case Hu.NOTIFICATION_CLICKED:return"notification_open";case Hu.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[zV],message_name:n[Die],message_time:n[Sie],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function TC(){return TC=(0,I.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Hu.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(YV(n)):t.onMessageHandler.next(YV(n)));const r=n.data;(function qie(t){return"object"==typeof t&&!!t&&zV in t})(r)&&"1"===r[Aie]&&(yield function Xie(t,e,n){return CC.apply(this,arguments)}(t,n.messageType,r))}),TC.apply(this,arguments)}const e2="@firebase/messaging",tse=t=>{const e=new Zie(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function ese(t,e){return TC.apply(this,arguments)}(e,n)),e},nse=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function JV(t,e){return bC.apply(this,arguments)}(e,r)}};function n2(){return DC.apply(this,arguments)}function DC(){return(DC=(0,I.Z)(function*(){try{yield Uu()}catch{return!1}return typeof window<"u"&&wa()&&C_()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function ose(t=Js()){return n2().then(e=>{if(!e)throw Dr.create("unsupported-browser")},e=>{throw Dr.create("indexed-db-unsupported")}),wi(en(t),"messaging").getImmediate()}!function rse(){or(new Xn("messaging",tse,"PUBLIC")),or(new Xn("messaging-internal",nse,"PRIVATE")),Ct(e2,"0.12.4"),Ct(e2,"0.12.4","esm2017")}();const O_="analytics",ase="firebase_id",lse="origin",cse=6e4,use="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",xC="https://www.googletagmanager.com/gtag/js",dr=new ba("@firebase/analytics"),Ci=new Rs("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function hse(t){if(!t.startsWith(xC)){const e=Ci.create("invalid-gtag-resource",{gtagURL:t});return dr.warn(e.message),""}return t}function r2(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function MC(){return(MC=(0,I.Z)(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const l=(yield r2(n)).find(c=>c.measurementId===i);l&&(yield e[l.appId])}}catch(a){dr.error(a)}t("config",i,s)})).apply(this,arguments)}function RC(){return(RC=(0,I.Z)(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield r2(n);for(const l of o){const c=a.find(d=>d.measurementId===l),u=c&&e[c.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){dr.error(s)}})).apply(this,arguments)}const Ese=30,i2=new class bse{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function Cse(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function kC(){return(kC=(0,I.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Cse(r)},s=use.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const l=yield o.json();null!==(e=l.error)&&void 0!==e&&e.message&&(a=l.error.message)}catch{}throw Ci.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function NC(){return(NC=(0,I.Z)(function*(t,e=i2,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw Ci.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Ci.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new xse;return setTimeout((0,I.Z)(function*(){a.abort()}),void 0!==n?n:cse),s2({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function s2(t,e,n){return PC.apply(this,arguments)}function PC(){return PC=(0,I.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=i2){var s;const{appId:o,measurementId:a}=t;try{yield function Sse(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Ci.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(l){if(a)return dr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==l?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=yield function Tse(t){return kC.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),l}catch(l){const c=l;if(!function Ase(t){if(!(t instanceof zi&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(c)){if(i.deleteThrottleMetadata(o),a)return dr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${null==c?void 0:c.message}]`),{appId:o,measurementId:a};throw l}const u=503===Number(null===(s=null==c?void 0:c.customData)||void 0===s?void 0:s.httpStatus)?r0(n,i.intervalMillis,Ese):r0(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),dr.debug(`Calling attemptFetch again in ${u} millis`),s2(t,d,r,i)}}),PC.apply(this,arguments)}class xse{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let OC,BC;function FC(){return(FC=(0,I.Z)(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function $C(){return($C=(0,I.Z)(function*(t,e,n,r){if(r&&r.global)return t("set",{user_id:n}),Promise.resolve();t("config",yield e,{update:!0,user_id:n})})).apply(this,arguments)}function jC(){return(jC=(0,I.Z)(function*(){if(!wa())return dr.warn(Ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Uu()}catch(t){return dr.warn(Ci.create("indexeddb-unavailable",{errorInfo:null==t?void 0:t.toString()}).message),!1}return!0})).apply(this,arguments)}function zC(){return zC=(0,I.Z)(function*(t,e,n,r,i,s,o){var a;const l=function Dse(t){return NC.apply(this,arguments)}(t);l.then(f=>{n[f.measurementId]=f.appId,t.options.measurementId&&f.measurementId!==t.options.measurementId&&dr.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${f.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(f=>dr.error(f)),e.push(l);const c=function Ose(){return jC.apply(this,arguments)}().then(f=>{if(f)return r.getId()}),[u,d]=yield Promise.all([l,c]);(function Ise(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(xC)&&n.src.includes(t))return n;return null})(s)||function pse(t,e){const n=function fse(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:hse}),r=document.createElement("script"),i=`${xC}?l=${t}&id=${e}`;r.src=n?null==n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),BC&&(i("consent","default",BC),function o2(t){BC=t}(void 0)),i("js",new Date);const h=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return h[lse]="firebase",h.update=!0,null!=d&&(h[ase]=d),i("config",u.measurementId,h),OC&&(i("set",OC),function a2(t){OC=t}(void 0)),u.measurementId}),zC.apply(this,arguments)}class Lse{constructor(e){this.app=e}_delete(){return delete Wo[this.app.options.appId],Promise.resolve()}}let Wo={},l2=[];const c2={};let d2,qo,F_="dataLayer",u2="gtag",HC=!1;function Vse(t,e,n){!function $se(){const t=[];if(e0()&&t.push("This is a browser extension environment."),C_()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Ci.create("invalid-analytics-context",{errorInfo:e});dr.warn(n.message)}}();const r=t.options.appId;if(!r)throw Ci.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw Ci.create("no-api-key");dr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Wo[r])throw Ci.create("already-exists",{id:r});if(!HC){!function gse(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(F_);const{wrappedGtag:s,gtagCore:o}=function vse(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function yse(t,e,n,r){function s(){return s=(0,I.Z)(function*(o,a,l){try{"event"===o?yield function _se(t,e,n,r,i){return RC.apply(this,arguments)}(t,e,n,a,l):"config"===o?yield function mse(t,e,n,r,i,s){return MC.apply(this,arguments)}(t,e,n,r,a,l):"consent"===o?t("consent","update",l):t("set",a)}catch(c){dr.error(c)}}),s.apply(this,arguments)}return function i(o,a,l){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Wo,l2,c2,F_,u2);qo=s,d2=o,HC=!0}return Wo[r]=function Fse(t,e,n,r,i,s,o){return zC.apply(this,arguments)}(t,l2,c2,e,d2,F_,n),new Lse(t)}function Use(t=Js()){const e=wi(t=en(t),O_);return e.isInitialized()?e.getImmediate():function Bse(t,e={}){const n=wi(t,O_);if(n.isInitialized()){const i=n.getImmediate();if(yf(e,n.getOptions()))return i;throw Ci.create("already-initialized")}return n.initialize({options:e})}(t)}function jse(){return GC.apply(this,arguments)}function GC(){return(GC=(0,I.Z)(function*(){if(e0()||!C_()||!wa())return!1;try{return yield Uu()}catch{return!1}})).apply(this,arguments)}function zse(t,e,n){t=en(t),function kse(t,e,n,r){return $C.apply(this,arguments)}(qo,Wo[t.app.options.appId],e,n).catch(r=>dr.error(r))}function h2(t,e,n,r){t=en(t),function Mse(t,e,n,r,i){return FC.apply(this,arguments)}(qo,Wo[t.app.options.appId],e,n,r).catch(i=>dr.error(i))}const f2="@firebase/analytics";!function Hse(){or(new Xn(O_,(e,{options:n})=>Vse(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),or(new Xn("analytics-internal",function t(e){try{const n=e.getProvider(O_).getImmediate();return{logEvent:(r,i,s)=>h2(n,r,i,s)}}catch(n){throw Ci.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),Ct(f2,"0.9.5"),Ct(f2,"0.9.5","esm2017")}();class Gse extends Pe{constructor(e,n){super()}schedule(e,n=0){return this}}const L_={setInterval(t,e,...n){const{delegate:r}=L_;return null!=r&&r.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=L_;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0};class g2 extends Gse{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return L_.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&L_.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,tt(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const m2={now:()=>(m2.delegate||Date).now(),delegate:void 0};class wf{constructor(e,n=wf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}wf.now=m2.now;class _2 extends wf{constructor(e,n=wf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const Kse=new class qse extends _2{}(class Wse extends g2{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Zse=new _2(g2);function Sr(t,e,n){const r=L(t)||e||n?{next:t,error:e,complete:n}:t;return r?Le((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(st(s,l=>{var c;null===(c=r.next)||void 0===c||c.call(r,l),s.next(l)},()=>{var l;a=!1,null===(l=r.complete)||void 0===l||l.call(r),s.complete()},l=>{var c;a=!1,null===(c=r.error)||void 0===c||c.call(r,l),s.error(l)},()=>{var l,c;a&&(null===(l=r.unsubscribe)||void 0===l||l.call(r)),null===(c=r.finalize)||void 0===c||c.call(r)}))}):G}const Hi=new pu("7.5.0"),WC="__angularfire_symbol__analyticsIsSupportedValue",qC="__angularfire_symbol__analyticsIsSupported",KC="__angularfire_symbol__remoteConfigIsSupportedValue",ZC="__angularfire_symbol__remoteConfigIsSupported",YC="__angularfire_symbol__messagingIsSupportedValue",QC="__angularfire_symbol__messagingIsSupported";globalThis[qC]||(globalThis[qC]=jse().then(t=>globalThis[WC]=t).catch(()=>globalThis[WC]=!1)),globalThis[QC]||(globalThis[QC]=n2().then(t=>globalThis[YC]=t).catch(()=>globalThis[YC]=!1)),globalThis[ZC]||(globalThis[ZC]=wie().then(t=>globalThis[KC]=t).catch(()=>globalThis[KC]=!1));const XC=t=>`The APP_INITIALIZER that is "making" isSupported() sync for the sake of convenient DI has not resolved in this\ncontext. Rather than injecting ${t} in the constructor, first ensure that ${t} is supported by calling\n\`await isSupported()\`, then retrieve the instance from the injector manually \`injector.get(${t})\`.`,$_={async:()=>globalThis[QC],sync:()=>{const t=globalThis[YC];if(void 0===t)throw new Error(XC("Messaging"));return t}},V_={async:()=>globalThis[ZC],sync:()=>{const t=globalThis[KC];if(void 0===t)throw new Error(XC("RemoteConfig"));return t}},U_={async:()=>globalThis[qC],sync:()=>{const t=globalThis[WC];if(void 0===t)throw new Error(XC("Analytics"));return t}};function eo(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}const to=(t,e)=>{const n=e?[e]:gV(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function Gu(){}class y2{constructor(e,n=Kse){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class Yse{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gu,{},Gu,Gu)),n.pipe(Sr({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let no=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new y2(Zone.current)),this.insideAngular=n.run(()=>new y2(Zone.current,Zse)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(Ne(q))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function $l(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Vl(t){return $l().ngZone.run(()=>t())}function Xse(t){return $l(),function Jse(t){return function(n){return(n=n.lift(new Yse(t.ngZone))).pipe(pi(t.outsideAngular),js(t.insideAngular))}}($l())(t)}const eoe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),Vl(()=>t.apply(void 0,r))},Un=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=Vl(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gu,{},Gu,Gu)))),r[s]=eoe(r[s],n));const i=function Qse(t){return $l().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof ze){const s=$l();return i.pipe(pi(s.outsideAngular),js(s.insideAngular))}return Vl(()=>i)}return i instanceof ze?i.pipe(Xse):i instanceof Promise?Vl(()=>new Promise((s,o)=>i.then(a=>Vl(()=>s(a)),a=>Vl(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:Vl(()=>i)};class Gi{constructor(e){return e}}class ro{constructor(){return gV()}}const JC=new Fe("angularfire2._apps"),noe={provide:Gi,useFactory:function toe(t){return t&&1===t.length?t[0]:new Gi(Js())},deps:[[new Mt,JC]]},roe={provide:ro,deps:[[new Mt,JC]]};function ioe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Gi(r)}}let soe=(()=>{class t{constructor(n){Ct("angularfire",Hi.full,"core"),Ct("angularfire",Hi.full,"app"),Ct("angular",DP.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(Ne(Fu))},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[noe,roe]}),t})();function ooe(t,...e){return{ngModule:soe,providers:[{provide:JC,useFactory:ioe(t),multi:!0,deps:[q,zt,no,...e]}]}}const aoe=Un(pV,!0),eT=new Map,v2={activated:!1,tokenObservers:[]},loe={initialized:!1,enabled:!1};function Ar(t){return eT.get(t)||Object.assign({},v2)}function B_(){return loe}const tT="https://content-firebaseappcheck.googleapis.com/v1",hoe="exchangeDebugToken",I2={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class poe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return(0,I.Z)(function*(){n.stop();try{n.pending=new Vu,yield function goe(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new Vu,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const ni=new Rs("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function rT(t,e){return iT.apply(this,arguments)}function iT(){return(iT=(0,I.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw ni.create("fetch-network-error",{originalErrorMessage:null==d?void 0:d.message})}if(200!==o.status)throw ni.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw ni.create("fetch-parse-error",{originalErrorMessage:null==d?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw ni.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(l[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+c,issuedAtTimeMillis:u}})).apply(this,arguments)}const Ioe="firebase-app-check-database",Eoe=1,bf="firebase-app-check-store";let H_=null;function C2(t,e){return sT.apply(this,arguments)}function sT(){return(sT=(0,I.Z)(function*(t,e){const r=(yield function b2(){return H_||(H_=new Promise((t,e)=>{try{const n=indexedDB.open(Ioe,Eoe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(ni.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(bf,{keyPath:"compositeKey"})}}catch(n){e(ni.create("storage-open",{originalErrorMessage:null==n?void 0:n.message}))}}),H_)}()).transaction(bf,"readwrite"),s=r.objectStore(bf).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var c;a(ni.create("storage-set",{originalErrorMessage:null===(c=l.target.error)||void 0===c?void 0:c.message}))}})})).apply(this,arguments)}const Cf=new ba("@firebase/app-check");function lT(t,e){return wa()?function boe(t,e){return C2(function D2(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Cf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function A2(){return uT.apply(this,arguments)}function uT(){return(uT=(0,I.Z)(function*(){const t=B_();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const xoe={error:"UNKNOWN_ERROR"};function Moe(t){return v_.encodeString(JSON.stringify(t),!1)}function G_(t){return dT.apply(this,arguments)}function dT(){return(dT=(0,I.Z)(function*(t,e=!1){const n=t.app;!function E2(t){if(!Ar(t).activated)throw ni.create("use-before-activation",{appName:t.name})}(n);const r=Ar(n);let s,i=r.token;if(i&&!Wu(i)&&(r.token=void 0,i=void 0),!i){const l=yield r.cachedTokenPromise;l&&(Wu(l)?i=l:yield lT(n,void 0))}if(!e&&i&&Wu(i))return{token:i.token};let a,o=!1;if(function S2(){return B_().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=rT(function voe(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${tT}/projects/${n}/apps/${r}:${hoe}?key=${i}`,body:{debug_token:e}}}(n,yield A2()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=yield r.exchangeTokenPromise;return yield lT(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ar(n).exchangeTokenPromise}catch(l){"appCheck/throttled"===l.code?Cf.warn(l.message):Cf.error(l),s=l}return i?s?a=Wu(i)?{token:i.token,internalError:s}:R2(s):(a={token:i.token},r.token=i,yield lT(n,i)):a=R2(s),o&&function M2(t,e){const n=Ar(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function fT(t,e){const n=Ar(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function x2(t){const{app:e}=t,n=Ar(e);let r=n.tokenRefresher;r||(r=function Roe(t){const{app:e}=t;return new poe((0,I.Z)(function*(){let r;if(r=Ar(e).token?yield G_(t,!0):yield G_(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ar(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},I2.RETRIAL_MIN_WAIT,I2.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function Wu(t){return t.expireTimeMillis-Date.now()>0}function R2(t){return{token:Moe(xoe),error:t}}class koe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ar(this.app);for(const n of e)fT(this.app,n.next);return Promise.resolve()}}const V2="app-check-internal";!function Woe(){or(new Xn("app-check",t=>function Noe(t,e){return new koe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(V2).initialize()})),or(new Xn(V2,t=>function Poe(t){return{getToken:e=>G_(t,e),addTokenListener:e=>function hT(t,e,n,r){const{app:i}=t,s=Ar(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&Wu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),x2(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>x2(t))}(t,"INTERNAL",e),removeTokenListener:e=>fT(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),Ct("@firebase/app-check","0.6.4")}();class qu{constructor(){return to("app-check")}}typeof window<"u"&&window;const Qoe=function B2(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},j2=new Rs("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),z2=new ba("@firebase/auth");function q_(t,...e){z2.logLevel<=Rt.ERROR&&z2.error(`Auth (${Ca}): ${t}`,...e)}function Ti(t,...e){throw yT(t,...e)}function io(t,...e){return yT(t,...e)}function yT(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return j2.create(t,...e)}function ve(t,e,...n){if(!t)throw yT(e,...n)}function so(t){const e="INTERNAL ASSERTION FAILED: "+t;throw q_(e),new Error(e)}function Ta(t,e){t||so(e)}const G2=new Map;function Ko(t){Ta(t instanceof Function,"Expected a class definition");let e=G2.get(t);return e?(Ta(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,G2.set(t,e),e)}function Tf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function W2(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Df{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ta(n>e,"Short delay should be less than long delay!"),this.isMobile=Jb()||sV()}get(){return function eae(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function vT(){return"http:"===W2()||"https:"===W2()}()||e0()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function IT(t,e){Ta(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class q2{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void so("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void so("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void so("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},rae=new Df(3e4,6e4);function Bn(t,e,n,r){return ET.apply(this,arguments)}function ET(){return(ET=(0,I.Z)(function*(t,e,n,r,i={}){return K2(t,i,(0,I.Z)(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=vf(Object.assign({key:t.config.apiKey},o)).slice(1),l=yield t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),q2.fetch()(Z2(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function K2(t,e,n){return wT.apply(this,arguments)}function wT(){return(wT=(0,I.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},nae),e);try{const i=new iae(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Sf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===l)throw Sf(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===l)throw Sf(t,"email-already-in-use",o);if("USER_DISABLED"===l)throw Sf(t,"user-disabled",o);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw function H2(t,e,n){const r=Object.assign(Object.assign({},Qoe()),{[e]:n});return new Rs("auth","Firebase",r).create(e,{appName:t.name})}(t,u,c);Ti(t,u)}}catch(i){if(i instanceof zi)throw i;Ti(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Zo(t,e,n,r){return bT.apply(this,arguments)}function bT(){return(bT=(0,I.Z)(function*(t,e,n,r,i={}){const s=yield Bn(t,e,n,r,i);return"mfaPendingCredential"in s&&Ti(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Z2(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?IT(t.config,i):`${t.config.apiScheme}://${i}`}class iae{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(io(this.auth,"network-request-failed")),rae.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=io(t,e,r);return i.customData._tokenResponse=n,i}function CT(){return(CT=(0,I.Z)(function*(t,e){return Bn(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function DT(){return(DT=(0,I.Z)(function*(t,e){return Bn(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Af(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ST(){return(ST=(0,I.Z)(function*(t,e=!1){const n=en(t),r=yield n.getIdToken(e),i=K_(r);ve(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Af(AT(i.auth_time)),issuedAtTime:Af(AT(i.iat)),expirationTime:Af(AT(i.exp)),signInProvider:o||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function AT(t){return 1e3*Number(t)}function K_(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return q_("JWT malformed, contained fewer than 3 sections"),null;try{const i=E_(n);return i?JSON.parse(i):(q_("Failed to decode base64 JWT payload"),null)}catch(i){return q_("Caught error parsing JWT payload as JSON",null==i?void 0:i.toString()),null}}function Yo(t,e){return xT.apply(this,arguments)}function xT(){return(xT=(0,I.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof zi&&function uae({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class dae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,I.Z)(function*(){yield n.iteration()}),r)}iteration(){var e=this;return(0,I.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===(null==n?void 0:n.code)&&e.schedule(!0))}e.schedule()})()}}class Y2{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Af(this.lastLoginAt),this.creationTime=Af(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xf(t){return MT.apply(this,arguments)}function MT(){return MT=(0,I.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Yo(t,function aae(t,e){return DT.apply(this,arguments)}(n,{idToken:r}));ve(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function pae(t){return t.map(e=>{var{providerId:n}=e,r=bt(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function fae(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||null!=a&&a.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Y2(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),MT.apply(this,arguments)}function RT(){return(RT=(0,I.Z)(function*(t){const e=en(t);yield xf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function kT(){return(kT=(0,I.Z)(function*(t,e){const n=yield K2(t,{},(0,I.Z)(function*(){const r=vf({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Z2(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",q2.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Mf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function cae(t){const e=K_(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return(0,I.Z)(function*(){return ve(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return(0,I.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function gae(t,e){return kT.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Mf;return r&&(ve("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(ve("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(ve("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Mf,this.toJSON())}_performRefresh(){return so("not implemented")}}function Da(t,e){ve("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ul{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=bt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new dae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Y2(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return(0,I.Z)(function*(){const r=yield Yo(n,n.stsTokenManager.getToken(n.auth,e));return ve(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function lae(t){return ST.apply(this,arguments)}(this,e)}reload(){return function hae(t){return RT.apply(this,arguments)}(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ul(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return(0,I.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield xf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,I.Z)(function*(){const n=yield e.getIdToken();return yield Yo(e,function sae(t,e){return CT.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,f=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,g=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(a=n.tenantId)&&void 0!==a?a:void 0,E=null!==(l=n._redirectEventId)&&void 0!==l?l:void 0,A=null!==(c=n.createdAt)&&void 0!==c?c:void 0,U=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:S,emailVerified:oe,isAnonymous:je,providerData:qe,stsTokenManager:Wn}=n;ve(S&&Wn,e,"internal-error");const Kr=Mf.fromJSON(this.name,Wn);ve("string"==typeof S,e,"internal-error"),Da(d,e.name),Da(h,e.name),ve("boolean"==typeof oe,e,"internal-error"),ve("boolean"==typeof je,e,"internal-error"),Da(f,e.name),Da(g,e.name),Da(v,e.name),Da(E,e.name),Da(A,e.name),Da(U,e.name);const Nc=new Ul({uid:S,auth:e,email:h,emailVerified:oe,displayName:d,isAnonymous:je,photoURL:g,phoneNumber:f,tenantId:v,stsTokenManager:Kr,createdAt:A,lastLoginAt:U});return qe&&Array.isArray(qe)&&(Nc.providerData=qe.map(mSe=>Object.assign({},mSe))),E&&(Nc._redirectEventId=E),Nc}static _fromIdTokenResponse(e,n,r=!1){return(0,I.Z)(function*(){const i=new Mf;i.updateFromServerResponse(n);const s=new Ul({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield xf(s),s})()}}const Q2=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,I.Z)(function*(){return!0})()}_set(n,r){var i=this;return(0,I.Z)(function*(){i.storage[n]=r})()}_get(n){var r=this;return(0,I.Z)(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return(0,I.Z)(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function Z_(t,e,n){return`firebase:${t}:${e}:${n}`}class Zu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Z_(this.userKey,i.apiKey,s),this.fullPersistenceKey=Z_("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,I.Z)(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ul._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return(0,I.Z)(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return(0,I.Z)(function*(){if(!n.length)return new Zu(Ko(Q2),e,r);const i=(yield Promise.all(n.map(function(){var c=(0,I.Z)(function*(u){if(yield u._isAvailable())return u});return function(u){return c.apply(this,arguments)}}()))).filter(c=>c);let s=i[0]||Ko(Q2);const o=Z_(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=yield c._get(o);if(u){const d=Ul._fromJSON(e,u);c!==s&&(a=d),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return s._shouldAllowMigration&&l.length?(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var c=(0,I.Z)(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return c.apply(this,arguments)}}())),new Zu(s,e,r)):new Zu(s,e,r)})()}}function X2(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(tU(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(J2(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(rU(e))return"Blackberry";if(iU(e))return"Webos";if(NT(e))return"Safari";if((e.includes("chrome/")||eU(e))&&!e.includes("edge/"))return"Chrome";if(nU(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function J2(t=ur()){return/firefox\//i.test(t)}function NT(t=ur()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function eU(t=ur()){return/crios\//i.test(t)}function tU(t=ur()){return/iemobile/i.test(t)}function nU(t=ur()){return/android/i.test(t)}function rU(t=ur()){return/blackberry/i.test(t)}function iU(t=ur()){return/webos/i.test(t)}function Y_(t=ur()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function sU(t=ur()){return Y_(t)||nU(t)||iU(t)||rU(t)||/windows phone/i.test(t)||tU(t)}function oU(t,e=[]){let n;switch(t){case"Browser":n=X2(ur());break;case"Worker":n=`${X2(ur())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ca}/${r}`}class vae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return(0,I.Z)(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:null==i?void 0:i.message})}})()}}class Iae{constructor(e,n,r){this.app=e,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new aU(this),this.idTokenSubscription=new aU(this),this.beforeStateQueue=new vae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=j2,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ko(n)),this._initializationPromise=this.queue((0,I.Z)(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Zu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,I.Z)(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return(0,I.Z)(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,l=null==s?void 0:s._redirectEventId,c=yield n.tryRedirectSignIn(e);(!a||a===l)&&null!=c&&c.user&&(s=c.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return ve(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return(0,I.Z)(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return(0,I.Z)(function*(){try{yield xf(e)}catch(r){if("auth/network-request-failed"!==(null==r?void 0:r.code))return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function tae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return(0,I.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return(0,I.Z)(function*(){const r=e?en(e):null;return r&&ve(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return(0,I.Z)(function*(){if(!r._deleted)return e&&ve(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,I.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,I.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue((0,I.Z)(function*(){yield n.assertedPersistence.setPersistence(Ko(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Rs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return(0,I.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return(0,I.Z)(function*(){if(!n.redirectPersistenceManager){const r=e&&Ko(e)||n._popupRedirectResolver;ve(r,n,"argument-error"),n.redirectPersistenceManager=yield Zu.create(n,[Ko(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return(0,I.Z)(function*(){var r,i;return n._isInitialized&&(yield n.queue((0,I.Z)(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return(0,I.Z)(function*(){if(e===n.currentUser)return n.queue((0,I.Z)(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return ve(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return(0,I.Z)(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=oU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,I.Z)(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function Di(t){return en(t)}class aU{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Yte(t,e){const n=new Qte(t,e);return n.subscribe.bind(n)}(n=>this.observer=n)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function lU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function cU(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Cae{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return so("not implemented")}_getIdTokenResponse(e){return so("not implemented")}_linkToIdToken(e,n){return so("not implemented")}_getReauthenticationResolver(e){return so("not implemented")}}function Qo(t,e){return WT.apply(this,arguments)}function WT(){return(WT=(0,I.Z)(function*(t,e){return Zo(t,"POST","/v1/accounts:signInWithIdp",function kn(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}(t,e))})).apply(this,arguments)}class Sa{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bae extends Sa{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class fs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return(0,I.Z)(function*(){const s=yield Ul._fromIdTokenResponse(e,r,i),o=pU(r);return new fs({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return(0,I.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=pU(r);return new fs({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function pU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ey extends zi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ey.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ey(e,n,r,i)}}function gU(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?ey._fromErrorAndOperation(t,s,e,r):s})}function tD(t,e){return nD.apply(this,arguments)}function nD(){return(nD=(0,I.Z)(function*(t,e,n=!1){const r=yield Yo(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return fs._forOperation(t,"link",r)})).apply(this,arguments)}function _U(t,e){return iD.apply(this,arguments)}function iD(){return(iD=(0,I.Z)(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Yo(t,gU(r,i,e,t),n);ve(s.idToken,r,"internal-error");const o=K_(s.idToken);ve(o,r,"internal-error");const{sub:a}=o;return ve(t.uid===a,r,"user-mismatch"),fs._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&Ti(r,"user-mismatch"),s}})).apply(this,arguments)}function yU(t,e){return sD.apply(this,arguments)}function sD(){return(sD=(0,I.Z)(function*(t,e,n=!1){const r="signIn",i=yield gU(t,r,e),s=yield fs._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const ry="__sak";class IU{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ry,"1"),this.storage.removeItem(ry),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const dle=(()=>{class t extends IU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function lle(){const t=ur();return NT(t)||Y_(t)}()&&function yae(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=sU(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,l,c)=>{this.notifyListeners(a,c)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function _ae(){return function zte(){const t=ur();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return(0,I.Z)(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return(0,I.Z)(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return(0,I.Z)(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),EU=(()=>{class t extends IU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let fle=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return(0,I.Z)(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,l=r.handlersMap[o];if(null==l||!l.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const c=Array.from(l).map(function(){var d=(0,I.Z)(function*(h){return h(i.origin,a)});return function(h){return d.apply(this,arguments)}}()),u=yield function hle(t){return Promise.all(t.map(function(){var e=(0,I.Z)(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(c);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function OD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class ple{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return(0,I.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((l,c)=>{const u=OD("",20);s.port1.start();const d=setTimeout(()=>{c(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(h){const f=h;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),l(f.data.response);break;default:clearTimeout(d),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function ar(){return window}function FD(){return typeof ar().WorkerGlobalScope<"u"&&"function"==typeof ar().importScripts}function LD(){return(LD=(0,I.Z)(function*(){if(null==navigator||!navigator.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const wU="firebaseLocalStorageDb",vle=1,iy="firebaseLocalStorage",bU="fbase_key";class Pf{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sy(t,e){return t.transaction([iy],e?"readwrite":"readonly").objectStore(iy)}function $D(){const t=indexedDB.open(wU,vle);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(iy,{keyPath:bU})}catch(i){n(i)}}),t.addEventListener("success",(0,I.Z)(function*(){const r=t.result;r.objectStoreNames.contains(iy)?e(r):(r.close(),yield function Ile(){const t=indexedDB.deleteDatabase(wU);return new Pf(t).toPromise()}(),e(yield $D()))}))})}function CU(t,e,n){return VD.apply(this,arguments)}function VD(){return(VD=(0,I.Z)(function*(t,e,n){const r=sy(t,!0).put({[bU]:e,value:n});return new Pf(r).toPromise()})).apply(this,arguments)}function UD(){return(UD=(0,I.Z)(function*(t,e){const n=sy(t,!1).get(e),r=yield new Pf(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function TU(t,e){const n=sy(t,!0).delete(e);return new Pf(n).toPromise()}const Cle=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return(0,I.Z)(function*(){return n.db||(n.db=yield $D()),n.db})()}_withRetries(n){var r=this;return(0,I.Z)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return(0,I.Z)(function*(){return FD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return(0,I.Z)(function*(){n.receiver=fle._getInstance(function yle(){return FD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=(0,I.Z)(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=(0,I.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return(0,I.Z)(function*(){var r,i;if(n.activeServiceWorker=yield function mle(){return LD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new ple(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return(0,I.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function _le(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,I.Z)(function*(){try{if(!indexedDB)return!1;const n=yield $D();return yield CU(n,ry,"1"),yield TU(n,ry),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return(0,I.Z)(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return(0,I.Z)(function*(){return i._withPendingWrite((0,I.Z)(function*(){return yield i._withRetries(s=>CU(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return(0,I.Z)(function*(){const i=yield r._withRetries(s=>function Ele(t,e){return UD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return(0,I.Z)(function*(){return r._withPendingWrite((0,I.Z)(function*(){return yield r._withRetries(i=>TU(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return(0,I.Z)(function*(){const r=yield n._withRetries(o=>{const a=sy(o,!1).getAll();return new Pf(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval((0,I.Z)(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function SU(t){return`__${t}${Math.floor(1e6*Math.random())}`}SU("rcb"),new Df(3e4,6e4);class YD extends Cae{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qo(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Qo(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Qo(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function jle(t){return yU(t.auth,new YD(t),t.bypassAuthState)}function zle(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),_U(n,new YD(t),t.bypassAuthState)}function Hle(t){return QD.apply(this,arguments)}function QD(){return(QD=(0,I.Z)(function*(t){const{auth:e,user:n}=t;return ve(n,e,"internal-error"),tD(n,new YD(t),t.bypassAuthState)})).apply(this,arguments)}class Gle{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=(0,I.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return(0,I.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:l}=e;if(a)return void n.reject(a);const c={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(l)(c))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jle;case"linkViaPopup":case"linkViaRedirect":return Hle;case"reauthViaPopup":case"reauthViaRedirect":return zle;default:Ti(this.auth,"internal-error")}}resolve(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ta(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Df(2e3,1e4);const Wle="pendingRedirect",Of=new Map;class qle extends Gle{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return(0,I.Z)(function*(){let r=Of.get(n.auth._key());if(!r){try{const s=(yield function Kle(t,e){return nS.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Of.set(n.auth._key(),r)}return n.bypassAuthState||Of.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return(0,I.Z)(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,I.Z)(function*(){})()}cleanUp(){}}function nS(){return(nS=(0,I.Z)(function*(t,e){const n=function MU(t){return Z_(Wle,t.config.apiKey,t.name)}(e),r=function xU(t){return Ko(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Zle(t,e){Of.set(t._key(),e)}function RU(t,e){return cS.apply(this,arguments)}function cS(){return(cS=(0,I.Z)(function*(t,e,n=!1){const r=Di(t),i=function jl(t,e){return e?Ko(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new qle(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class ece{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function tce(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PU(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!PU(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(io(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(NU(e))}saveEventToCache(e){this.cachedEventUids.add(NU(e)),this.lastProcessedEventTime=Date.now()}}function NU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function PU({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function dS(){return(dS=(0,I.Z)(function*(t,e={}){return Bn(t,"GET","/v1/projects",e)})).apply(this,arguments)}const rce=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ice=/^https?/;function hS(){return hS=(0,I.Z)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function nce(t){return dS.apply(this,arguments)}(t);for(const n of e)try{if(oce(n))return}catch{}Ti(t,"unauthorized-domain")}),hS.apply(this,arguments)}function oce(t){const e=Tf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!ice.test(n))return!1;if(rce.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ace=new Df(3e4,6e4);function OU(){const t=ar().___jsl;if(null!=t&&t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let ay=null;function cce(t){return ay=ay||function lce(t){return new Promise((e,n)=>{var r,i,s;function o(){OU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OU(),n(io(t,"network-request-failed"))},timeout:ace.get()})}if(null!==(i=null===(r=ar().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=ar().gapi)||void 0===s||!s.load){const a=SU("iframefcb");return ar()[a]=()=>{gapi.load?o():n(io(t,"network-request-failed"))},function DU(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=io("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function xle(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}o()}}).catch(e=>{throw ay=null,e})}(t),ay}const uce=new Df(5e3,15e3),dce="__/auth/iframe",hce="emulator/auth/iframe",fce={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pce=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gce(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?IT(e,hce):`https://${t.config.authDomain}/${dce}`,r={apiKey:e.apiKey,appName:t.name,v:Ca},i=pce.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${vf(r).slice(1)}`}function fS(){return fS=(0,I.Z)(function*(t){const e=yield cce(t),n=ar().gapi;return ve(n,t,"internal-error"),e.open({where:document.body,url:gce(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:fce,dontclear:!0},r=>new Promise(function(){var i=(0,I.Z)(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=io(t,"network-request-failed"),l=ar().setTimeout(()=>{o(a)},uce.get());function c(){ar().clearTimeout(l),s(r)}r.ping(c).then(c,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),fS.apply(this,arguments)}const _ce={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yce=500,vce=600,Ice="_blank",Ece="http://localhost";class FU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Cce="__/auth/handler",Tce="emulator/auth/handler";function LU(t,e,n,r,i,s){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ca,eventId:i};if(e instanceof Sa){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",t0(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[l,c]of Object.entries(s||{}))o[l]=c}if(e instanceof Bae){const l=e.getScopes().filter(c=>""!==c);l.length>0&&(o.scopes=l.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const l of Object.keys(a))void 0===a[l]&&delete a[l];return`${function Dce({config:t}){return t.emulator?IT(t,Tce):`https://${t.authDomain}/${Cce}`}(t)}?${vf(a).slice(1)}`}const pS="webStorageSupport",Ace=class Sce{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=EU,this._completeRedirectFn=RU,this._overrideRedirectResult=Zle}_openPopup(e,n,r,i){var s=this;return(0,I.Z)(function*(){var o;Ta(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=LU(e,n,r,Tf(),i);return function wce(t,e,n,r=yce,i=vce){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},_ce),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ur().toLowerCase();n&&(a=eU(c)?Ice:n),J2(c)&&(e=e||Ece,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,g])=>`${h}${f}=${g},`,"");if(function mae(t=ur()){var e;return Y_(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(c)&&"_self"!==a)return function bce(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new FU(null);const d=window.open(e||"",a,u);ve(d,t,"popup-blocked");try{d.focus()}catch{}return new FU(d)}(e,a,OD())})()}_openRedirect(e,n,r,i){var s=this;return(0,I.Z)(function*(){return yield s._originValidation(e),function gle(t){ar().location.href=t}(LU(e,n,r,Tf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ta(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return(0,I.Z)(function*(){const r=yield function mce(t){return fS.apply(this,arguments)}(e),i=new ece(e);return r.register("authEvent",s=>(ve(null==s?void 0:s.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(pS,{type:pS},i=>{var s;const o=null===(s=null==i?void 0:i[0])||void 0===s?void 0:s[pS];void 0!==o&&n(!!o),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function sce(t){return hS.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return sU()||NT()||Y_()}};var UU="@firebase/auth";class xce{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return(0,I.Z)(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((null==r?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Nce=iV("authIdTokenMaxAge")||300;let jU=null;const Pce=t=>function(){var e=(0,I.Z)(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>Nce)return;const s=null==r?void 0:r.token;jU!==s&&(jU=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function Oce(t=Js()){const e=wi(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Xoe(t,e){const n=wi(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(yf(n.getOptions(),null!=e?e:{}))return i;Ti(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:Ace,persistence:[Cle,dle,EU]}),r=iV("authTokenSyncURL");if(r){const s=Pce(r);(function nle(t,e,n){en(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function tle(t,e,n,r){en(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=rV("auth");return i&&function Eae(t,e,n){const r=Di(t);ve(r._canInitEmulator,r,"emulator-config-failed"),ve(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!(null==n||!n.disableWarnings),s=lU(e),{host:o,port:a}=function wae(t){const e=lU(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:cU(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:cU(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function bae(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function Fce(t){return new ze(function(e){var n=function rle(t,e,n,r){return en(t).onAuthStateChanged(e,n,r)}(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}!function Rce(t){or(new Xn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,l)=>{ve(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),ve(!(null!=o&&o.includes(":")),"argument-error",{appName:a.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:oU(t)},u=new Iae(a,l,c);return function Joe(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ko);null!=e&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(u,n),u})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),or(new Xn("auth-internal",e=>{const n=Di(e.getProvider("auth").getImmediate());return new xce(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ct(UU,"0.22.0",function Mce(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),Ct(UU,"0.22.0","esm2017")}("Browser");class cy{constructor(e){return e}}class Ff{constructor(){return to("auth")}}const mS=new Fe("angularfire2.auth-instances");function Vce(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new cy(r)}}const Uce={provide:Ff,deps:[[new Mt,mS]]},Bce={provide:cy,useFactory:function $ce(t,e){const n=eo("auth",t,e);return n&&new cy(n)},deps:[[new Mt,mS],Gi]};let jce=(()=>{class t{constructor(){Ct("angularfire",Hi.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[Bce,Uce]}),t})();function zce(t,...e){return{ngModule:jce,providers:[{provide:mS,useFactory:Vce(t),multi:!0,deps:[q,zt,no,ro,[new Mt,qu],...e]}]}}const Hce=Un(Fce,!0),Gce=Un(Oce,!0);var Ge,Wce=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Xo={},_S=_S||{},ut=Wce||self;function uy(){}function dy(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Lf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var yS="closure_uid_"+(1e9*Math.random()>>>0),Kce=0;function Zce(t,e,n){return t.call.apply(t.bind,arguments)}function Yce(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function zr(t,e,n){return(zr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Zce:Yce).apply(null,arguments)}function hy(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function xr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function Aa(){this.s=this.s,this.o=this.o}Aa.prototype.s=!1,Aa.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function qce(t){Object.prototype.hasOwnProperty.call(t,yS)&&t[yS]||(t[yS]=++Kce)}(this)},Aa.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const HU=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function vS(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function GU(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(dy(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function Hr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Hr.prototype.h=function(){this.defaultPrevented=!0};var Xce=function(){if(!ut.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ut.addEventListener("test",uy,e),ut.removeEventListener("test",uy,e)}catch{}return t}();function fy(t){return/^[\s\xa0]*$/.test(t)}var WU=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function IS(t,e){return t<e?-1:t>e?1:0}function py(){var t=ut.navigator;return t&&(t=t.userAgent)?t:""}function oo(t){return-1!=py().indexOf(t)}function ES(t){return ES[" "](t),t}ES[" "]=uy;var gy,t,eue=oo("Opera"),Yu=oo("Trident")||oo("MSIE"),qU=oo("Edge"),wS=qU||Yu,KU=oo("Gecko")&&!(-1!=py().toLowerCase().indexOf("webkit")&&!oo("Edge"))&&!(oo("Trident")||oo("MSIE"))&&!oo("Edge"),tue=-1!=py().toLowerCase().indexOf("webkit")&&!oo("Edge");function ZU(){var t=ut.document;return t?t.documentMode:void 0}e:{var bS="",CS=(t=py(),KU?/rv:([^\);]+)(\)|;)/.exec(t):qU?/Edge\/([\d\.]+)/.exec(t):Yu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):tue?/WebKit\/(\S+)/.exec(t):eue?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(CS&&(bS=CS?CS[1]:""),Yu){var TS=ZU();if(null!=TS&&TS>parseFloat(bS)){gy=String(TS);break e}}gy=bS}var nue={};var iue=ut.document&&Yu&&(ZU()||parseInt(gy,10))||void 0;function $f(t,e){if(Hr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(KU){e:{try{ES(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:sue[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&$f.X.h.call(this)}}xr($f,Hr);var sue={2:"touch",3:"pen",4:"mouse"};$f.prototype.h=function(){$f.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Vf="closure_listenable_"+(1e6*Math.random()|0),oue=0;function aue(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++oue,this.ba=this.ea=!1}function my(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function SS(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function QU(t){const e={};for(const n in t)e[n]=t[n];return e}const XU="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function JU(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<XU.length;s++)n=XU[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function _y(t){this.src=t,this.g={},this.h=0}function AS(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=HU(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(my(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function xS(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ba&&s.listener==e&&s.capture==!!n&&s.ha==r)return i}return-1}_y.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=xS(t,e,r,i);return-1<o?(e=t[o],n||(e.ea=!1)):((e=new aue(e,this.src,s,!!r,i)).ea=n,t.push(e)),e};var MS="closure_lm_"+(1e6*Math.random()|0),RS={};function eB(t,e,n,r,i){if(r&&r.once)return nB(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)eB(t,e[s],n,r,i);return null}return n=OS(n),t&&t[Vf]?t.N(e,n,Lf(r)?!!r.capture:!!r,i):tB(t,e,n,!1,r,i)}function tB(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Lf(i)?!!i.capture:!!i,a=NS(t);if(a||(t[MS]=a=new _y(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function lue(){const e=cue;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Xce||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(iB(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function nB(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)nB(t,e[s],n,r,i);return null}return n=OS(n),t&&t[Vf]?t.O(e,n,Lf(r)?!!r.capture:!!r,i):tB(t,e,n,!0,r,i)}function rB(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)rB(t,e[s],n,r,i);else r=Lf(r)?!!r.capture:!!r,n=OS(n),t&&t[Vf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=xS(s=t.g[e],n,r,i))&&(my(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=NS(t))&&(e=t.g[e.toString()],t=-1,e&&(t=xS(e,n,r,i)),(n=-1<t?e[t]:null)&&kS(n))}function kS(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[Vf])AS(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(iB(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=NS(e))?(AS(n,t),0==n.h&&(n.src=null,e[MS]=null)):my(t)}}}function iB(t){return t in RS?RS[t]:RS[t]="on"+t}function cue(t,e){if(t.ba)t=!0;else{e=new $f(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&kS(t),t=n.call(r,e)}return t}function NS(t){return(t=t[MS])instanceof _y?t:null}var PS="__closure_events_fn_"+(1e9*Math.random()>>>0);function OS(t){return"function"==typeof t?t:(t[PS]||(t[PS]=function(e){return t.handleEvent(e)}),t[PS])}function hr(){Aa.call(this),this.i=new _y(this),this.P=this,this.I=null}function Mr(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Hr(e,t);else if(e instanceof Hr)e.target=e.target||t;else{var i=e;JU(e=new Hr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=yy(o,r,!0,e)&&i}if(i=yy(o=e.g=t,r,!0,e)&&i,i=yy(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=yy(o=e.g=n[s],r,!1,e)&&i}function yy(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.ea&&AS(t.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}xr(hr,Aa),hr.prototype[Vf]=!0,hr.prototype.removeEventListener=function(t,e,n,r){rB(this,t,e,n,r)},hr.prototype.M=function(){if(hr.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)my(n[r]);delete t.g[e],t.h--}}this.I=null},hr.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},hr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var FS=ut.JSON.stringify;function uue(){var t=aB;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var LS,sB=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new hue,t=>t.reset());class hue{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function fue(t){ut.setTimeout(()=>{throw t},0)}function oB(t,e){LS||function pue(){var t=ut.Promise.resolve(void 0);LS=function(){t.then(gue)}}(),$S||(LS(),$S=!0),aB.add(t,e)}var $S=!1,aB=new class due{constructor(){this.h=this.g=null}add(e,n){const r=sB.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}};function gue(){for(var t;t=uue();){try{t.h.call(t.g)}catch(n){fue(n)}var e=sB;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}$S=!1}function vy(t,e){hr.call(this),this.h=t||1,this.g=e||ut,this.j=zr(this.lb,this),this.l=Date.now()}function VS(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function US(t,e,n){if("function"==typeof t)n&&(t=zr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=zr(t.handleEvent,t)}return 2147483647<Number(e)?-1:ut.setTimeout(t,e||0)}function lB(t){t.g=US(()=>{t.g=null,t.i&&(t.i=!1,lB(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}xr(vy,hr),(Ge=vy.prototype).ca=!1,Ge.R=null,Ge.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Mr(this,"tick"),this.ca&&(VS(this),this.start()))}},Ge.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ge.M=function(){vy.X.M.call(this),VS(this),delete this.g};class mue extends Aa{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:lB(this)}M(){super.M(),this.g&&(ut.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Uf(t){Aa.call(this),this.h=t,this.g={}}xr(Uf,Aa);var cB=[];function uB(t,e,n,r){Array.isArray(n)||(n&&(cB[0]=n.toString()),n=cB);for(var i=0;i<n.length;i++){var s=eB(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function dB(t){SS(t.g,function(e,n){this.g.hasOwnProperty(n)&&kS(e)},t),t.g={}}function Iy(){this.g=!0}function Qu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Iue(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return FS(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Uf.prototype.M=function(){Uf.X.M.call(this),dB(this)},Uf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Iy.prototype.Aa=function(){this.g=!1},Iy.prototype.info=function(){};var zl={},hB=null;function Ey(){return hB=hB||new hr}function fB(t){Hr.call(this,zl.Pa,t)}function Bf(t){const e=Ey();Mr(e,new fB(e))}function pB(t,e){Hr.call(this,zl.STAT_EVENT,t),this.stat=e}function ri(t){const e=Ey();Mr(e,new pB(e,t))}function gB(t,e){Hr.call(this,zl.Qa,t),this.size=e}function jf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return ut.setTimeout(function(){t()},e)}zl.Pa="serverreachability",xr(fB,Hr),zl.STAT_EVENT="statevent",xr(pB,Hr),zl.Qa="timingevent",xr(gB,Hr);var wy={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},mB={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function BS(){}function yB(){}BS.prototype.h=null;var HS,zf={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function jS(){Hr.call(this,"d")}function zS(){Hr.call(this,"c")}function by(){}function Hf(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new Uf(this),this.O=Eue,this.T=new vy(t=wS?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new vB}function vB(){this.i=null,this.g="",this.h=!1}xr(jS,Hr),xr(zS,Hr),xr(by,BS),by.prototype.g=function(){return new XMLHttpRequest},by.prototype.i=function(){return{}},HS=new by;var Eue=45e3,GS={},Cy={};function WS(t,e,n){t.K=1,t.v=Ay(Jo(e)),t.s=n,t.P=!0,IB(t,null)}function IB(t,e){t.F=Date.now(),Gf(t),t.A=Jo(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),MB(n.i,"t",r),t.C=0,n=t.l.H,t.h=new vB,t.g=ej(t.l,n?e:null,!t.s),0<t.N&&(t.L=new mue(zr(t.La,t,t.g),t.N)),uB(t.S,t.g,"readystatechange",t.ib),e=t.H?QU(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),Bf(),function _ue(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.U,t.s)}function EB(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function wB(t,e,n){let i,r=!0;for(;!t.I&&t.C<n.length;){if(i=wue(t,n),i==Cy){4==e&&(t.o=4,ri(14),r=!1),Qu(t.j,t.m,null,"[Incomplete Response]");break}if(i==GS){t.o=4,ri(15),Qu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Qu(t.j,t.m,i,null),qS(t,i)}EB(t)&&i!=Cy&&i!=GS&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,ri(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),tA(e),e.K=!0,ri(11))):(Qu(t.j,t.m,n,"[Invalid Chunked Response]"),Hl(t),Wf(t))}function wue(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Cy:(n=Number(e.substring(n,r)),isNaN(n)?GS:(r+=1)+n>e.length?Cy:(e=e.substr(r,n),t.C=r+n,e))}function Gf(t){t.V=Date.now()+t.O,bB(t,t.O)}function bB(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=jf(zr(t.gb,t),e)}function Ty(t){t.B&&(ut.clearTimeout(t.B),t.B=null)}function Wf(t){0==t.l.G||t.I||YB(t.l,t)}function Hl(t){Ty(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,VS(t.T),dB(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function qS(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||KS(n.h,t)))if(!t.J&&KS(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break e;Py(n),ky(n)}eA(n),ri(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=jf(zr(n.cb,n),6e3));if(1>=NB(n.h)&&n.ja){try{n.ja()}catch{}n.ja=void 0}}else Wl(n,11)}else if((t.J||n.g==t)&&Py(n),!fy(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.I=c[1],n.ka=c[2];const u=c[3];null!=u&&(n.ma=u,n.j.info("VER="+n.ma));const d=c[4];null!=d&&(n.Ca=d,n.j.info("SVER="+n.Ca));const h=c[5];null!=h&&"number"==typeof h&&0<h&&(n.J=r=1.5*h,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const f=t.g;if(f){const g=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(g){var s=r.h;s.g||-1==g.indexOf("spdy")&&-1==g.indexOf("quic")&&-1==g.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(ZS(s,s.h),s.h=null))}if(r.D){const v=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;v&&(r.za=v,mn(r.F,r.D,v))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var o=t;if((r=n).sa=JB(r,r.H?r.ka:null,r.V),o.J){PB(r.h,o);var a=o,l=r.J;l&&a.setTimeout(l),a.B&&(Ty(a),Gf(a)),r.g=o}else KB(r);0<n.i.length&&Ny(n)}else"stop"!=c[0]&&"close"!=c[0]||Wl(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Wl(n,7):JS(n):"noop"!=c[0]&&n.l&&n.l.wa(c),n.A=0)}Bf()}catch{}}function CB(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(dy(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function Cue(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(dy(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function bue(t){if(t.W&&"function"==typeof t.W)return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(dy(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(Ge=Hf.prototype).setTimeout=function(t){this.O=t},Ge.ib=function(t){t=t.target;const e=this.L;e&&3==ea(t)?e.l():this.La(t)},Ge.La=function(t){try{if(t==this.g)e:{const u=ea(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>u)&&(3!=u||wS||this.g&&(this.h.h||this.g.fa()||jB(this.g)))){this.I||4!=u||7==e||Bf(),Ty(this);var n=this.g.aa();this.Y=n;t:if(EB(this)){var r=jB(this.g);t="";var i=r.length,s=4==ea(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Hl(this),Wf(this);var o="";break t}this.h.i=new ut.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=200==n,function yue(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.U,u,n),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!fy(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.o=3,ri(12),Hl(this),Wf(this);break e}Qu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qS(this,n)}this.P?(wB(this,u,o),wS&&this.i&&3==u&&(uB(this.S,this.T,"tick",this.hb),this.T.start())):(Qu(this.j,this.m,o,null),qS(this,o)),4==u&&Hl(this),this.i&&!this.I&&(4==u?YB(this.l,this):(this.i=!1,Gf(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,ri(12)):(this.o=0,ri(13)),Hl(this),Wf(this)}}}catch{}},Ge.hb=function(){if(this.g){var t=ea(this.g),e=this.g.fa();this.C<e.length&&(Ty(this),wB(this,t,e),this.i&&4!=t&&Gf(this))}},Ge.cancel=function(){this.I=!0,Hl(this)},Ge.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function vue(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Bf(),ri(17)),Hl(this),this.o=2,Wf(this)):bB(this,this.V-t)};var TB=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gl(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Gl){this.h=void 0!==e?e:t.h,Dy(this,t.j),this.s=t.s,this.g=t.g,Sy(this,t.m),this.l=t.l,e=t.i;var n=new Zf;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),DB(this,n),this.o=t.o}else t&&(n=String(t).match(TB))?(this.h=!!e,Dy(this,n[1]||"",!0),this.s=qf(n[2]||""),this.g=qf(n[3]||"",!0),Sy(this,n[4]),this.l=qf(n[5]||"",!0),DB(this,n[6]||"",!0),this.o=qf(n[7]||"")):(this.h=!!e,this.i=new Zf(null,this.h))}function Jo(t){return new Gl(t)}function Dy(t,e,n){t.j=n?qf(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Sy(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function DB(t,e,n){e instanceof Zf?(t.i=e,function Rue(t,e){e&&!t.j&&(xa(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(AB(this,r),MB(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=Kf(e,xue)),t.i=new Zf(e,t.h))}function mn(t,e,n){t.i.set(e,n)}function Ay(t){return mn(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function qf(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Kf(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Due),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Due(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Gl.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Kf(e,SB,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(Kf(e,SB,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(Kf(n,"/"==n.charAt(0)?Aue:Sue,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Kf(n,Mue)),t.join("")};var SB=/[#\/\?@]/g,Sue=/[#\?:]/g,Aue=/[#\?]/g,xue=/[#\?@]/g,Mue=/#/g;function Zf(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function xa(t){t.g||(t.g=new Map,t.h=0,t.i&&function Tue(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function AB(t,e){xa(t),e=Xu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function xB(t,e){return xa(t),e=Xu(t,e),t.g.has(e)}function MB(t,e,n){AB(t,e),0<n.length&&(t.i=null,t.g.set(Xu(t,e),vS(n)),t.h+=n.length)}function Xu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function RB(t){this.l=t||Nue,t=ut.PerformanceNavigationTiming?0<(t=ut.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(ut.g&&ut.g.Ga&&ut.g.Ga()&&ut.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ge=Zf.prototype).add=function(t,e){xa(this),this.i=null,t=Xu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Ge.forEach=function(t,e){xa(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},Ge.oa=function(){xa(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},Ge.W=function(t){xa(this);let e=[];if("string"==typeof t)xB(this,t)&&(e=e.concat(this.g.get(Xu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Ge.set=function(t,e){return xa(this),this.i=null,xB(this,t=Xu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Ge.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},Ge.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var Nue=10;function kB(t){return!!t.h||!!t.g&&t.g.size>=t.j}function NB(t){return t.h?1:t.g?t.g.size:0}function KS(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function ZS(t,e){t.g?t.g.add(e):t.h=e}function PB(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function OB(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return vS(t.i)}function YS(){}function Pue(){this.g=new YS}function Oue(t,e,n){const r=n||"";try{CB(t,function(i,s){let o=i;Lf(i)&&(o=FS(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function xy(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Yf(t){this.l=t.ac||null,this.j=t.jb||!1}function My(t,e){hr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=QS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}RB.prototype.cancel=function(){if(this.i=OB(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},YS.prototype.stringify=function(t){return ut.JSON.stringify(t,void 0)},YS.prototype.parse=function(t){return ut.JSON.parse(t,void 0)},xr(Yf,BS),Yf.prototype.g=function(){return new My(this.l,this.j)},Yf.prototype.i=function(t){return function(){return t}}({}),xr(My,hr);var QS=0;function FB(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Qf(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Xf(t)}function Xf(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Ge=My.prototype).open=function(t,e){if(this.readyState!=QS)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Xf(this)},Ge.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||ut).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ge.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qf(this)),this.readyState=QS},Ge.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Xf(this)),this.g&&(this.readyState=3,Xf(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof ut.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;FB(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},Ge.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Qf(this):Xf(this),3==this.readyState&&FB(this)}},Ge.Va=function(t){this.g&&(this.response=this.responseText=t,Qf(this))},Ge.Ua=function(t){this.g&&(this.response=t,Qf(this))},Ge.ga=function(){this.g&&Qf(this)},Ge.setRequestHeader=function(t,e){this.v.append(t,e)},Ge.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Ge.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(My.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Lue=ut.JSON.parse;function Nn(t){hr.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=LB,this.K=this.L=!1}xr(Nn,hr);var LB="",$ue=/^https?$/i,Vue=["POST","PUT"];function $B(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,VB(t),Ry(t)}function VB(t){t.D||(t.D=!0,Mr(t,"complete"),Mr(t,"error"))}function UB(t){if(t.h&&typeof _S<"u"&&(!t.C[1]||4!=ea(t)||2!=t.aa()))if(t.v&&4==ea(t))US(t.Ha,0,t);else if(Mr(t,"readystatechange"),4==ea(t)){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===a){var i=String(t.H).match(TB)[1]||null;if(!i&&ut.self&&ut.self.location){var s=ut.self.location.protocol;i=s.substr(0,s.length-1)}r=!$ue.test(i?i.toLowerCase():"")}n=r}if(n)Mr(t,"complete"),Mr(t,"success");else{t.m=6;try{var o=2<ea(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",VB(t)}}finally{Ry(t)}}}function Ry(t,e){if(t.g){BB(t);const n=t.g,r=t.C[0]?uy:null;t.g=null,t.C=null,e||Mr(t,"ready");try{n.onreadystatechange=r}catch{}}}function BB(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(ut.clearTimeout(t.A),t.A=null)}function ea(t){return t.g?t.g.readyState:0}function jB(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case LB:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function zB(t){let e="";return SS(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function XS(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zB(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):mn(t,e,n))}function Jf(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function HB(t){this.Ca=0,this.i=[],this.j=new Iy,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Jf("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Jf("baseRetryDelayMs",5e3,t),this.bb=Jf("retryDelaySeedMs",1e4,t),this.$a=Jf("forwardChannelMaxRetries",2,t),this.ta=Jf("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new RB(t&&t.concurrentRequestLimit),this.Fa=new Pue,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function JS(t){if(GB(t),3==t.G){var e=t.U++,n=Jo(t.F);mn(n,"SID",t.I),mn(n,"RID",e),mn(n,"TYPE","terminate"),ep(t,n),(e=new Hf(t,t.j,e,void 0)).K=2,e.v=Ay(Jo(n)),n=!1,ut.navigator&&ut.navigator.sendBeacon&&(n=ut.navigator.sendBeacon(e.v.toString(),"")),!n&&ut.Image&&((new Image).src=e.v,n=!0),n||(e.g=ej(e.l,null),e.g.da(e.v)),e.F=Date.now(),Gf(e)}XB(t)}function ky(t){t.g&&(tA(t),t.g.cancel(),t.g=null)}function GB(t){ky(t),t.u&&(ut.clearTimeout(t.u),t.u=null),Py(t),t.h.cancel(),t.m&&("number"==typeof t.m&&ut.clearTimeout(t.m),t.m=null)}function Ny(t){kB(t.h)||t.m||(t.m=!0,oB(t.Ja,t),t.C=0)}function WB(t,e){var n;n=e?e.m:t.U++;const r=Jo(t.F);mn(r,"SID",t.I),mn(r,"RID",n),mn(r,"AID",t.T),ep(t,r),t.o&&t.s&&XS(r,t.o,t.s),n=new Hf(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=qB(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),ZS(t.h,n),WS(n,r,e)}function ep(t,e){t.ia&&SS(t.ia,function(n,r){mn(e,r,n)}),t.l&&CB({},function(n,r){mn(e,r,n)})}function qB(t,e,n){n=Math.min(t.i.length,n);var r=t.l?zr(t.l.Ra,t.l,t):null;e:{var i=t.i;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let c=i[l].h;const u=i[l].g;if(c-=s,0>c)s=Math.max(0,i[l].h-100),a=!1;else try{Oue(u,o,"req"+c+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.i.splice(0,n),e.D=t,r}function KB(t){t.g||t.u||(t.Z=1,oB(t.Ia,t),t.A=0)}function eA(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=jf(zr(t.Ia,t),QB(t,t.A)),t.A++,0))}function tA(t){null!=t.B&&(ut.clearTimeout(t.B),t.B=null)}function ZB(t){t.g=new Hf(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Jo(t.sa);mn(e,"RID","rpc"),mn(e,"SID",t.I),mn(e,"CI",t.L?"0":"1"),mn(e,"AID",t.T),mn(e,"TYPE","xmlhttp"),ep(t,e),t.o&&t.s&&XS(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=Ay(Jo(e)),n.s=null,n.P=!0,IB(n,t)}function Py(t){null!=t.v&&(ut.clearTimeout(t.v),t.v=null)}function YB(t,e){var n=null;if(t.g==e){Py(t),tA(t),t.g=null;var r=2}else{if(!KS(t.h,e))return;n=e.D,PB(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Mr(r=Ey(),new gB(r,n)),Ny(t)}else KB(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function Bue(t,e){return!(NB(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=jf(zr(t.Ja,t,e),QB(t,t.C)),t.C++,0)))}(t,e)||2==r&&eA(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:Wl(t,5);break;case 4:Wl(t,10);break;case 3:Wl(t,6);break;default:Wl(t,2)}}function QB(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function Wl(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=zr(t.kb,t);n||(n=new Gl("//www.google.com/images/cleardot.gif"),ut.location&&"http"==ut.location.protocol||Dy(n,"https"),Ay(n)),function Fue(t,e){const n=new Iy;if(ut.Image){const r=new Image;r.onload=hy(xy,n,r,"TestLoadImage: loaded",!0,e),r.onerror=hy(xy,n,r,"TestLoadImage: error",!1,e),r.onabort=hy(xy,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=hy(xy,n,r,"TestLoadImage: timeout",!1,e),ut.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ri(2);t.G=0,t.l&&t.l.va(e),XB(t),GB(t)}function XB(t){if(t.G=0,t.la=[],t.l){const e=OB(t.h);(0!=e.length||0!=t.i.length)&&(GU(t.la,e),GU(t.la,t.i),t.h.i.length=0,vS(t.i),t.i.length=0),t.l.ua()}}function JB(t,e,n){var r=n instanceof Gl?Jo(n):new Gl(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Sy(r,r.m);else{var i=ut.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Gl(null,void 0);r&&Dy(s,r),e&&(s.g=e),i&&Sy(s,i),n&&(s.l=n),r=s}return e=t.za,(n=t.D)&&e&&mn(r,n,e),mn(r,"VER",t.ma),ep(t,r),r}function ej(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Nn(n&&t.Da&&!t.ra?new Yf({jb:!0}):t.ra)).Ka(t.H),e}function tj(){}function Oy(){if(Yu&&!(10<=Number(iue)))throw Error("Environmental error: no available transport.")}function Wi(t,e){hr.call(this),this.g=new HB(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!fy(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!fy(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Ju(this)}function nj(t){jS.call(this);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function rj(){zS.call(this),this.status=1}function Ju(t){this.g=t}(Ge=Nn.prototype).Ka=function(t){this.L=t},Ge.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():HS.g(),this.C=function _B(t){return t.h||(t.h=t.i())}(this.u?this.u:HS),this.g.onreadystatechange=zr(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void $B(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=ut.FormData&&t instanceof ut.FormData,!(0<=HU(Vue,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{BB(this),0<this.B&&((this.K=function Uue(t){return Yu&&function rue(){return function Jce(t){var e=nue;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}(function(){let t=0;const e=WU(String(gy)).split("."),n=WU("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=IS(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||IS(0==i[2].length,0==s[2].length)||IS(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t})}()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zr(this.qa,this)):this.A=US(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){$B(this,s)}},Ge.qa=function(){typeof _S<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Mr(this,"timeout"),this.abort(8))},Ge.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Mr(this,"complete"),Mr(this,"abort"),Ry(this))},Ge.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ry(this,!0)),Nn.X.M.call(this)},Ge.Ha=function(){this.s||(this.F||this.v||this.l?UB(this):this.fb())},Ge.fb=function(){UB(this)},Ge.aa=function(){try{return 2<ea(this)?this.g.status:-1}catch{return-1}},Ge.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ge.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Lue(e)}},Ge.Ea=function(){return this.m},Ge.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ge=HB.prototype).ma=8,Ge.G=1,Ge.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Hf(this,this.j,t,void 0);let s=this.s;if(this.S&&(s?(s=QU(s),JU(s,this.S)):s=this.S),null!==this.o||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.i.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=qB(this,i,e),mn(n=Jo(this.F),"RID",t),mn(n,"CVER",22),this.D&&mn(n,"X-HTTP-Session-Id",this.D),ep(this,n),s&&(this.N?e="headers="+encodeURIComponent(String(zB(s)))+"&"+e:this.o&&XS(n,this.o,s)),ZS(this.h,i),this.Ya&&mn(n,"TYPE","init"),this.O?(mn(n,"$req",e),mn(n,"SID","null"),i.Z=!0,WS(i,n,null)):WS(i,n,e),this.G=2}}else 3==this.G&&(t?WB(this,t):0==this.i.length||kB(this.h)||WB(this))},Ge.Ia=function(){if(this.u=null,ZB(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=jf(zr(this.eb,this),t)}},Ge.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,ri(10),ky(this),ZB(this))},Ge.cb=function(){null!=this.v&&(this.v=null,ky(this),eA(this),ri(19))},Ge.kb=function(t){t?(this.j.info("Successfully pinged google.com"),ri(2)):(this.j.info("Failed to ping google.com"),ri(1))},(Ge=tj.prototype).xa=function(){},Ge.wa=function(){},Ge.va=function(){},Ge.ua=function(){},Ge.Ra=function(){},Oy.prototype.g=function(t,e){return new Wi(t,e)},xr(Wi,hr),Wi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;ri(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=JB(t,null,t.V),Ny(t)},Wi.prototype.close=function(){JS(this.g)},Wi.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=FS(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Ny(e)},Wi.prototype.M=function(){this.g.l=null,delete this.j,JS(this.g),delete this.g,Wi.X.M.call(this)},xr(nj,jS),xr(rj,zS),xr(Ju,tj),Ju.prototype.xa=function(){Mr(this.g,"a")},Ju.prototype.wa=function(t){Mr(this.g,new nj(t))},Ju.prototype.va=function(t){Mr(this.g,new rj)},Ju.prototype.ua=function(){Mr(this.g,"b")},Oy.prototype.createWebChannel=Oy.prototype.g,Wi.prototype.send=Wi.prototype.u,Wi.prototype.open=Wi.prototype.m,Wi.prototype.close=Wi.prototype.close,wy.NO_ERROR=0,wy.TIMEOUT=8,wy.HTTP_ERROR=6,mB.COMPLETE="complete",yB.EventType=zf,zf.OPEN="a",zf.CLOSE="b",zf.ERROR="c",zf.MESSAGE="d",hr.prototype.listen=hr.prototype.N,Nn.prototype.listenOnce=Nn.prototype.O,Nn.prototype.getLastError=Nn.prototype.Oa,Nn.prototype.getLastErrorCode=Nn.prototype.Ea,Nn.prototype.getStatus=Nn.prototype.aa,Nn.prototype.getResponseJson=Nn.prototype.Sa,Nn.prototype.getResponseText=Nn.prototype.fa,Nn.prototype.send=Nn.prototype.da,Nn.prototype.setWithCredentials=Nn.prototype.Ka;var jue=Xo.createWebChannelTransport=function(){return new Oy},zue=Xo.getStatEventTarget=function(){return Ey()},nA=Xo.ErrorCode=wy,Hue=Xo.EventType=mB,Gue=Xo.Event=zl,ij=Xo.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Wue=Xo.FetchXmlHttpFactory=Yf,Fy=Xo.WebChannel=yB,que=Xo.XhrIo=Nn;const sj="@firebase/firestore";class fr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fr.UNAUTHENTICATED=new fr(null),fr.GOOGLE_CREDENTIALS=new fr("google-credentials-uid"),fr.FIRST_PARTY=new fr("first-party-uid"),fr.MOCK_USER=new fr("mock-user");let ed="9.19.0";const Ma=new ba("@firebase/firestore");function rA(){return Ma.logLevel}function ae(t,...e){if(Ma.logLevel<=Rt.DEBUG){const n=e.map(iA);Ma.debug(`Firestore (${ed}): ${t}`,...n)}}function jn(t,...e){if(Ma.logLevel<=Rt.ERROR){const n=e.map(iA);Ma.error(`Firestore (${ed}): ${t}`,...n)}}function ta(t,...e){if(Ma.logLevel<=Rt.WARN){const n=e.map(iA);Ma.warn(`Firestore (${ed}): ${t}`,...n)}}function iA(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Ue(t="Unexpected state"){const e=`FIRESTORE (${ed}) INTERNAL ASSERTION FAILED: `+t;throw jn(e),new Error(e)}function We(t,e){t||Ue()}function Ae(t,e){return t}const N={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ie extends zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class oj{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Kue{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(fr.UNAUTHENTICATED))}shutdown(){}}class Zue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Yue{constructor(e){this.t=e,this.currentUser=fr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=c=>this.i!==i?(i=this.i,n(c)):Promise.resolve();let o=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new lr,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const c=o;e.enqueueRetryable((0,I.Z)(function*(){yield c.promise,yield s(r.currentUser)}))},l=c=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new lr)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We("string"==typeof r.accessToken),new oj(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(null===e||"string"==typeof e),new fr(e)}}class Que{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=fr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class Xue{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new Que(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(fr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class aj{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jue{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(We("string"==typeof n.token),this.T=n.token,new aj(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ede(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class lj{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=ede(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function dt(t,e){return t<e?-1:t>e?1:0}function td(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}class En{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ie(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ie(N.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new ie(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ie(N.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return En.fromMillis(Date.now())}static fromDate(e){return En.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new En(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ze{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ze(e)}static min(){return new Ze(new En(0,0))}static max(){return new Ze(new En(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class tp{constructor(e,n,r){void 0===n?n=0:n>e.length&&Ue(),void 0===r?r=e.length-n:r>e.length-n&&Ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===tp.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof tp?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Vt extends tp{construct(e,n,r){return new Vt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new ie(N.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Vt(n)}static emptyPath(){return new Vt([])}}const tde=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zn extends tp{construct(e,n,r){return new zn(e,n,r)}static isValidIdentifier(e){return tde.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new zn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ie(N.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ie(N.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if("\\"!==l&&"."!==l&&"`"!==l)throw new ie(N.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ie(N.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zn(n)}static emptyPath(){return new zn([])}}class De{constructor(e){this.path=e}static fromPath(e){return new De(Vt.fromString(e))}static fromName(e){return new De(Vt.fromString(e).popFirst(5))}static empty(){return new De(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Vt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new De(new Vt(e.slice()))}}function dj(t){return new qi(t.readTime,t.key,-1)}class qi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new qi(Ze.min(),De.empty(),-1)}static max(){return new qi(Ze.max(),De.empty(),-1)}}function oA(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=De.comparator(t.documentKey,e.documentKey),0!==n?n:dt(t.largestBatchId,e.largestBatchId))}const hj="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ide{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Ra(t){return aA.apply(this,arguments)}function aA(){return aA=(0,I.Z)(function*(t){if(t.code!==N.FAILED_PRECONDITION||t.message!==hj)throw t;ae("LocalStore","Unexpectedly lost primary lease")}),aA.apply(this,arguments)}class R{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new R((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof R?n:R.resolve(n)}catch(n){return R.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):R.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):R.reject(n)}static resolve(e){return new R((n,r)=>{n(e)})}static reject(e){return new R((n,r)=>{r(e)})}static waitFor(e){return new R((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=R.resolve(!1);for(const r of e)n=n.next(i=>i?R.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new R((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{o[c]=u,++a,a===s&&r(o)},u=>i(u))}})}static doWhile(e,n){return new R((r,i)=>{const s=()=>{!0===e()?n().next(()=>{s()},i):r()};s()})}}function ka(t){return"IndexedDbTransactionError"===t.name}let Ki=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ut&&this.ut(n),n}}return t.ct=-1,t})();function ip(t){return null==t}function sp(t){return 0===t&&1/t==-1/0}function Ej(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Pn{constructor(e,n){this.comparator=e,this.root=n||Rr.EMPTY}insert(e,n){return new Pn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Rr.BLACK,null,null))}remove(e){return new Pn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Rr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new By(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new By(this.root,e,this.comparator,!1)}getReverseIterator(){return new By(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new By(this.root,e,this.comparator,!0)}}class By{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Rr{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:Rr.RED,this.left=null!=i?i:Rr.EMPTY,this.right=null!=s?s:Rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Rr(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Rr.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ue();const e=this.left.check();if(e!==this.right.check())throw Ue();return e+(this.isRed()?0:1)}}Rr.EMPTY=null,Rr.RED=!0,Rr.BLACK=!1,Rr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ue()}get value(){throw Ue()}get color(){throw Ue()}get left(){throw Ue()}get right(){throw Ue()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Rr(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class tn{constructor(e){this.comparator=e,this.data=new Pn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new bj(this.data.getIterator())}getIteratorFrom(e){return new bj(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class bj{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Si{constructor(e){this.fields=e,e.sort(zn.comparator)}static empty(){return new Si([])}unionWith(e){let n=new tn(zn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Si(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return td(this.fields,e.fields,(n,r)=>n.isEqual(r))}}class Sde extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class cr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new Sde("Invalid base64 string: "+i):i}}(e);return new cr(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new cr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}cr.EMPTY_BYTE_STRING=new cr("");const Ade=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Na(t){if(We(!!t),"string"==typeof t){let e=0;const n=Ade.exec(t);if(We(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:On(t.seconds),nanos:On(t.nanos)}}function On(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Yl(t){return"string"==typeof t?cr.fromBase64String(t):cr.fromUint8Array(t)}function uA(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Cj(t){const e=t.mapValue.fields.__previous_value__;return uA(e)?Cj(e):e}function op(t){const e=Na(t.mapValue.fields.__local_write_time__.timestampValue);return new En(e.seconds,e.nanos)}class xde{constructor(e,n,r,i,s,o,a,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class Ql{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ql("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}const Pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Xl(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uA(t)?4:Aj(t)?9007199254740991:10:Ue()}function lo(t,e){if(t===e)return!0;const n=Xl(t);if(n!==Xl(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return op(t).isEqual(op(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Na(r.timestampValue),o=Na(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return i=e,Yl(t.bytesValue).isEqual(Yl(i.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,i){return On(r.geoPointValue.latitude)===On(i.geoPointValue.latitude)&&On(r.geoPointValue.longitude)===On(i.geoPointValue.longitude)}(t,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return On(r.integerValue)===On(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=On(r.doubleValue),o=On(i.doubleValue);return s===o?sp(s)===sp(o):isNaN(s)&&isNaN(o)}return!1}(t,e);case 9:return td(t.arrayValue.values||[],e.arrayValue.values||[],lo);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(Ej(s)!==Ej(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(void 0===o[a]||!lo(s[a],o[a])))return!1;return!0}(t,e);default:return Ue()}var i}function ap(t,e){return void 0!==(t.values||[]).find(n=>lo(n,e))}function Oa(t,e){if(t===e)return 0;const n=Xl(t),r=Xl(e);if(n!==r)return dt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return dt(t.booleanValue,e.booleanValue);case 2:return function(i,s){const o=On(i.integerValue||i.doubleValue),a=On(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Tj(t.timestampValue,e.timestampValue);case 4:return Tj(op(t),op(e));case 5:return dt(t.stringValue,e.stringValue);case 6:return function(i,s){const o=Yl(i),a=Yl(s);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const c=dt(o[l],a[l]);if(0!==c)return c}return dt(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const o=dt(On(i.latitude),On(s.latitude));return 0!==o?o:dt(On(i.longitude),On(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const c=Oa(o[l],a[l]);if(c)return c}return dt(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===Pa.mapValue&&s===Pa.mapValue)return 0;if(i===Pa.mapValue)return 1;if(s===Pa.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},c=Object.keys(l);a.sort(),c.sort();for(let u=0;u<a.length&&u<c.length;++u){const d=dt(a[u],c[u]);if(0!==d)return d;const h=Oa(o[a[u]],l[c[u]]);if(0!==h)return h}return dt(a.length,c.length)}(t.mapValue,e.mapValue);default:throw Ue()}}function Tj(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return dt(t,e);const n=Na(t),r=Na(e),i=dt(n.seconds,r.seconds);return 0!==i?i:dt(n.nanos,r.nanos)}function rd(t){return dA(t)}function dA(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const i=Na(r);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Yl(t.bytesValue).toBase64():"referenceValue"in t?De.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=dA(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${dA(r.fields[a])}`;return s+"}"}(t.mapValue):Ue();var e}function hA(t){return!!t&&"integerValue"in t}function lp(t){return!!t&&"arrayValue"in t}function Dj(t){return!!t&&"nullValue"in t}function Sj(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zy(t){return!!t&&"mapValue"in t}function cp(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Zl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=cp(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=cp(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Aj(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class gr{constructor(e){this.value=e}static empty(){return new gr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zy(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=cp(n)}setAll(e){let n=zn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=cp(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zy(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return lo(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zl(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new gr(cp(this.value))}}function Rj(t){const e=[];return Zl(t.fields,(n,r)=>{const i=new zn([n]);if(zy(r)){const s=Rj(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new Si(e)}class pn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new pn(e,0,Ze.min(),Ze.min(),Ze.min(),gr.empty(),0)}static newFoundDocument(e,n,r,i){return new pn(e,1,n,Ze.min(),r,i,0)}static newNoDocument(e,n){return new pn(e,2,n,Ze.min(),Ze.min(),gr.empty(),0)}static newUnknownDocument(e,n){return new pn(e,3,n,Ze.min(),Ze.min(),gr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Ze.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ze.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fa{constructor(e,n){this.position=e,this.inclusive=n}}function kj(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?De.comparator(De.fromName(o.referenceValue),n.key):Oa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Nj(t,e){if(null===t)return null===e;if(null===e||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!lo(t.position[n],e.position[n]))return!1;return!0}class id{constructor(e,n="asc"){this.field=e,this.dir=n}}function kde(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Pj{}class kt extends Pj{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new Nde(e,n,r):"array-contains"===n?new Fde(e,r):"in"===n?new Uj(e,r):"not-in"===n?new Lde(e,r):"array-contains-any"===n?new $de(e,r):new kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return"in"===n?new Pde(e,r):new Ode(e,r)}matches(e){const n=e.data.field(this.field);return"!="===this.op?null!==n&&this.matchesComparison(Oa(n,this.value)):null!==n&&Xl(this.value)===Xl(n)&&this.matchesComparison(Oa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Xt extends Pj{constructor(e,n){super(),this.filters=e,this.op=n,this.ht=null}static create(e,n){return new Xt(e,n)}matches(e){return sd(this)?void 0===this.filters.find(n=>!n.matches(e)):void 0!==this.filters.find(n=>n.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(n=>n.isInequality());return null!==e?e.field:null}lt(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function sd(t){return"and"===t.op}function pA(t){return function Oj(t){for(const e of t.filters)if(e instanceof Xt)return!1;return!0}(t)&&sd(t)}function gA(t){if(t instanceof kt)return t.field.canonicalString()+t.op.toString()+rd(t.value);if(pA(t))return t.filters.map(e=>gA(e)).join(",");{const e=t.filters.map(n=>gA(n)).join(",");return`${t.op}(${e})`}}function Fj(t,e){return t instanceof kt?(n=t,(r=e)instanceof kt&&n.op===r.op&&n.field.isEqual(r.field)&&lo(n.value,r.value)):t instanceof Xt?function(n,r){return r instanceof Xt&&n.op===r.op&&n.filters.length===r.filters.length&&n.filters.reduce((i,s,o)=>i&&Fj(s,r.filters[o]),!0)}(t,e):void Ue();var n,r}function $j(t){return t instanceof kt?`${(e=t).field.canonicalString()} ${e.op} ${rd(e.value)}`:t instanceof Xt?function(e){return e.op.toString()+" {"+e.getFilters().map($j).join(" ,")+"}"}(t):"Filter";var e}class Nde extends kt{constructor(e,n,r){super(e,n,r),this.key=De.fromName(r.referenceValue)}matches(e){const n=De.comparator(e.key,this.key);return this.matchesComparison(n)}}class Pde extends kt{constructor(e,n){super(e,"in",n),this.keys=Vj(0,n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Ode extends kt{constructor(e,n){super(e,"not-in",n),this.keys=Vj(0,n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Vj(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(r=>De.fromName(r.referenceValue))}class Fde extends kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return lp(n)&&ap(n.arrayValue,this.value)}}class Uj extends kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return null!==n&&ap(this.value.arrayValue,n)}}class Lde extends kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(ap(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return null!==n&&!ap(this.value.arrayValue,n)}}class $de extends kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!lp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ap(this.value.arrayValue,r))}}class Vde{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ft=null}}function mA(t,e=null,n=[],r=[],i=null,s=null,o=null){return new Vde(t,e,n,r,i,s,o)}function ec(t){const e=Ae(t);if(null===e.ft){let n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>gA(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),ip(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rd(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rd(r)).join(",")),e.ft=n}return e.ft}function up(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!kde(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Fj(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Nj(t.startAt,e.startAt)&&Nj(t.endAt,e.endAt)}function Hy(t){return De.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class na{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.dt=null,this.wt=null}}function od(t){return new na(t)}function Hj(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function tc(t){const e=Ae(t);if(null===e.dt){e.dt=[];const n=function Wy(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(null!==n)return n}return null}(e),r=function _A(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}(e);if(null!==n&&null===r)n.isKeyField()||e.dt.push(new id(n)),e.dt.push(new id(zn.keyField(),"asc"));else{let i=!1;for(const s of e.explicitOrderBy)e.dt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new id(zn.keyField(),s))}}}return e.dt}function si(t){const e=Ae(t);if(!e.wt)if("F"===e.limitType)e.wt=mA(e.path,e.collectionGroup,tc(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const s of tc(e))n.push(new id(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Fa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Fa(e.startAt.position,e.startAt.inclusive):null;e.wt=mA(e.path,e.collectionGroup,n,e.filters,e.limit,r,i)}return e.wt}function qy(t,e,n){return new na(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function dp(t,e){return up(si(t),si(e))&&t.limitType===e.limitType}function Gj(t){return`${ec(si(t))}|lt:${t.limitType}`}function IA(t){return`Query(target=${function(e){let n=e.path.canonicalString();return null!==e.collectionGroup&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>$j(r)).join(", ")}]`),ip(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>rd(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>rd(r)).join(",")),`Target(${n})`}(si(t))}; limitType=${t.limitType})`}function hp(t,e){return e.isFoundDocument()&&function(n,r){const i=r.key.path;return null!==n.collectionGroup?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):De.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,r){for(const i of tc(n))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(t,e)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!function(i,s,o){const a=kj(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,tc(n),r)||n.endAt&&!function(i,s,o){const a=kj(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,tc(n),r)));var n,r}function qj(t){return(e,n)=>{let r=!1;for(const i of tc(t)){const s=Ude(i,e,n);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function Ude(t,e,n){const r=t.field.isKeyField()?De.comparator(e.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return null!==a&&null!==l?Oa(a,l):Ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ue()}}class La{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zl(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wj(this.inner)}size(){return this.innerSize}}const Bde=new Pn(De.comparator);function Ai(){return Bde}const Kj=new Pn(De.comparator);function fp(...t){let e=Kj;for(const n of t)e=e.insert(n.key,n);return e}function Zj(t){let e=Kj;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function co(){return pp()}function Yj(){return pp()}function pp(){return new La(t=>t.toString(),(t,e)=>t.isEqual(e))}const jde=new Pn(De.comparator),zde=new tn(De.comparator);function yt(...t){let e=zde;for(const n of t)e=e.add(n);return e}const Hde=new tn(dt);function Ky(){return Hde}function Qj(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sp(e)?"-0":e}}function Xj(t){return{integerValue:""+t}}function Jj(t,e){return function pj(t){return"number"==typeof t&&Number.isInteger(t)&&!sp(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Xj(e):Qj(t,e)}class Zy{constructor(){this._=void 0}}function Gde(t,e,n){return t instanceof ad?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof nc?tz(t,e):t instanceof rc?nz(t,e):function(r,i){const s=ez(r,i),o=rz(s)+rz(r._t);return hA(s)&&hA(r._t)?Xj(o):Qj(r.serializer,o)}(t,e)}function Wde(t,e,n){return t instanceof nc?tz(t,e):t instanceof rc?nz(t,e):n}function ez(t,e){return t instanceof ld?hA(n=e)||(r=n)&&"doubleValue"in r?e:{integerValue:0}:null;var r,n}class ad extends Zy{}class nc extends Zy{constructor(e){super(),this.elements=e}}function tz(t,e){const n=iz(e);for(const r of t.elements)n.some(i=>lo(i,r))||n.push(r);return{arrayValue:{values:n}}}class rc extends Zy{constructor(e){super(),this.elements=e}}function nz(t,e){let n=iz(e);for(const r of t.elements)n=n.filter(i=>!lo(i,r));return{arrayValue:{values:n}}}class ld extends Zy{constructor(e,n){super(),this.serializer=e,this._t=n}}function rz(t){return On(t.integerValue||t.doubleValue)}function iz(t){return lp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class gp{constructor(e,n){this.field=e,this.transform=n}}class Kde{constructor(e,n){this.version=e,this.transformResults=n}}class _n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new _n}static exists(e){return new _n(void 0,e)}static updateTime(e){return new _n(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yy(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class Qy{}function sz(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new ud(t.key,_n.none()):new cd(t.key,t.data,_n.none());{const n=t.data,r=gr.empty();let i=new tn(zn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);null===o&&s.length>1&&(s=s.popLast(),o=n.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new ra(t.key,r,new Si(i.toArray()),_n.none())}}function Zde(t,e,n){t instanceof cd?function(r,i,s){const o=r.value.clone(),a=lz(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(t,e,n):t instanceof ra?function(r,i,s){if(!Yy(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=lz(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(az(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function mp(t,e,n,r){return t instanceof cd?function(i,s,o,a){if(!Yy(i.precondition,s))return o;const l=i.value.clone(),c=cz(i.fieldTransforms,a,s);return l.setAll(c),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof ra?function(i,s,o,a){if(!Yy(i.precondition,s))return o;const l=cz(i.fieldTransforms,a,s),c=s.data;return c.setAll(az(i)),c.setAll(l),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null===o?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,r):(o=n,Yy(t.precondition,s=e)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o);var s,o}function Yde(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ez(r.transform,i||null);null!=s&&(null===n&&(n=gr.empty()),n.set(r.field,s))}return n||null}function oz(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&td(n,r,(i,s)=>function qde(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof nc&&r instanceof nc||n instanceof rc&&r instanceof rc?td(n.elements,r.elements,lo):n instanceof ld&&r instanceof ld?lo(n._t,r._t):n instanceof ad&&r instanceof ad);var n,r}(i,s))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}class cd extends Qy{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ra extends Qy{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function az(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function lz(t,e,n){const r=new Map;We(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,Wde(o,a,n[i]))}return r}function cz(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Gde(s,o,e))}return r}class ud extends Qy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class EA extends Qy{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wA{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Zde(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=mp(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=mp(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Yj();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=sz(o,a);null!==l&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(Ze.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),yt())}isEqual(e){return this.batchId===e.batchId&&td(this.mutations,e.mutations,(n,r)=>oz(n,r))&&td(this.baseMutations,e.baseMutations,(n,r)=>oz(n,r))}}class bA{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){We(e.mutations.length===r.length);let i=jde;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new bA(e,n,r,i)}}class CA{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Jde{constructor(e){this.count=e}}var Jn,Ut;function dz(t){if(void 0===t)return jn("GRPC error has no .code"),N.UNKNOWN;switch(t){case Jn.OK:return N.OK;case Jn.CANCELLED:return N.CANCELLED;case Jn.UNKNOWN:return N.UNKNOWN;case Jn.DEADLINE_EXCEEDED:return N.DEADLINE_EXCEEDED;case Jn.RESOURCE_EXHAUSTED:return N.RESOURCE_EXHAUSTED;case Jn.INTERNAL:return N.INTERNAL;case Jn.UNAVAILABLE:return N.UNAVAILABLE;case Jn.UNAUTHENTICATED:return N.UNAUTHENTICATED;case Jn.INVALID_ARGUMENT:return N.INVALID_ARGUMENT;case Jn.NOT_FOUND:return N.NOT_FOUND;case Jn.ALREADY_EXISTS:return N.ALREADY_EXISTS;case Jn.PERMISSION_DENIED:return N.PERMISSION_DENIED;case Jn.FAILED_PRECONDITION:return N.FAILED_PRECONDITION;case Jn.ABORTED:return N.ABORTED;case Jn.OUT_OF_RANGE:return N.OUT_OF_RANGE;case Jn.UNIMPLEMENTED:return N.UNIMPLEMENTED;case Jn.DATA_LOSS:return N.DATA_LOSS;default:return Ue()}}(Ut=Jn||(Jn={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";class DA{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xy}static getOrCreateInstance(){return null===Xy&&(Xy=new DA),Xy}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Xy=null;class _p{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,yp.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new _p(Ze.min(),i,Ky(),Ai(),yt())}}class yp{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new yp(r,n,yt(),yt(),yt())}}class Jy{constructor(e,n,r,i){this.It=e,this.removedTargetIds=n,this.key=r,this.Tt=i}}class hz{constructor(e,n){this.targetId=e,this.Et=n}}class fz{constructor(e,n,r=cr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class pz{constructor(){this.At=0,this.Rt=mz(),this.vt=cr.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}get current(){return this.bt}get resumeToken(){return this.vt}get Vt(){return 0!==this.At}get St(){return this.Pt}Dt(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}Ct(){let e=yt(),n=yt(),r=yt();return this.Rt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ue()}}),new yp(this.vt,this.bt,e,n,r)}xt(){this.Pt=!1,this.Rt=mz()}Nt(e,n){this.Pt=!0,this.Rt=this.Rt.insert(e,n)}kt(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}$t(){this.At-=1}Mt(){this.Pt=!0,this.bt=!0}}class ehe{constructor(e){this.Ft=e,this.Bt=new Map,this.Lt=Ai(),this.qt=gz(),this.Ut=new tn(dt)}Kt(e){for(const n of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(n,e.Tt):this.Qt(n,e.key,e.Tt);for(const n of e.removedTargetIds)this.Qt(n,e.key,e.Tt)}zt(e){this.forEachTarget(e,n=>{const r=this.jt(n);switch(e.state){case 0:this.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||this.removeTarget(n);break;case 3:this.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:this.Wt(n)&&(this.Ht(n),r.Dt(e.resumeToken));break;default:Ue()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Bt.forEach((r,i)=>{this.Wt(i)&&n(i)})}Jt(e){var n;const r=e.targetId,i=e.Et.count,s=this.Yt(r);if(s){const o=s.target;if(Hy(o))if(0===i){const a=new De(o.path);this.Qt(r,a,pn.newNoDocument(a,Ze.min()))}else We(1===i);else{const a=this.Zt(r);a!==i&&(this.Ht(r),this.Ut=this.Ut.add(r),null===(n=DA.instance)||void 0===n||n.notifyOnExistenceFilterMismatch({localCacheCount:a,existenceFilterCount:e.Et.count}))}}}Xt(e){const n=new Map;this.Bt.forEach((s,o)=>{const a=this.Yt(o);if(a){if(s.current&&Hy(a.target)){const l=new De(a.target.path);null!==this.Lt.get(l)||this.te(o,l)||this.Qt(o,l,pn.newNoDocument(l,e))}s.St&&(n.set(o,s.Ct()),s.xt())}});let r=yt();this.qt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.Yt(l);return!c||2===c.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.Lt.forEach((s,o)=>o.setReadTime(e));const i=new _p(e,n,this.Ut,this.Lt,r);return this.Lt=Ai(),this.qt=gz(),this.Ut=new tn(dt),i}Gt(e,n){if(!this.Wt(e))return;const r=this.te(e,n.key)?2:0;this.jt(e).Nt(n.key,r),this.Lt=this.Lt.insert(n.key,n),this.qt=this.qt.insert(n.key,this.ee(n.key).add(e))}Qt(e,n,r){if(!this.Wt(e))return;const i=this.jt(e);this.te(e,n)?i.Nt(n,1):i.kt(n),this.qt=this.qt.insert(n,this.ee(n).delete(e)),r&&(this.Lt=this.Lt.insert(n,r))}removeTarget(e){this.Bt.delete(e)}Zt(e){const n=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ot(e){this.jt(e).Ot()}jt(e){let n=this.Bt.get(e);return n||(n=new pz,this.Bt.set(e,n)),n}ee(e){let n=this.qt.get(e);return n||(n=new tn(dt),this.qt=this.qt.insert(e,n)),n}Wt(e){const n=null!==this.Yt(e);return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Yt(e){const n=this.Bt.get(e);return n&&n.Vt?null:this.Ft.ne(e)}Ht(e){this.Bt.set(e,new pz),this.Ft.getRemoteKeysForTarget(e).forEach(n=>{this.Qt(e,n,null)})}te(e,n){return this.Ft.getRemoteKeysForTarget(e).has(n)}}function gz(){return new Pn(De.comparator)}function mz(){return new Pn(De.comparator)}const the={asc:"ASCENDING",desc:"DESCENDING"},nhe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},rhe={and:"AND",or:"OR"};class ihe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function dd(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function _z(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function she(t,e){return dd(t,e.toTimestamp())}function Hn(t){return We(!!t),Ze.fromTimestamp(function(e){const n=Na(e);return new En(n.seconds,n.nanos)}(t))}function SA(t,e){return(n=t,new Vt(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function yz(t){const e=Vt.fromString(t);return We(Sz(e)),e}function vp(t,e){return SA(t.databaseId,e.path)}function uo(t,e){const n=yz(e);if(n.get(1)!==t.databaseId.projectId)throw new ie(N.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ie(N.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new De(Iz(n))}function AA(t,e){return SA(t.databaseId,e)}function Ip(t){return new Vt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Iz(t){return We(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Ez(t,e,n){return{name:vp(t,e),fields:n.value.mapValue.fields}}function bz(t,e){return{documents:[AA(t,e.path)]}}function MA(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=AA(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=AA(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(0!==l.length)return Dz(Xt.create(l,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(0!==l.length)return l.map(c=>{return{field:$a((u=c).field),direction:uhe(u.dir)};var u})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(c=e.limit,t.useProto3Json||ip(c)?c:{value:c});var c,a,l;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt={before:!(l=e.endAt).inclusive,values:l.position}),n}function Cz(t){let e=function vz(t){const e=yz(t);return 4===e.length?Vt.emptyPath():Iz(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){We(1===r);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(u){const d=Tz(u);return d instanceof Xt&&pA(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>{return new id(hd((d=u).field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction));var d}));let a=null;n.limit&&(a=function(u){let d;return d="object"==typeof u?u.value:u,ip(d)?null:d}(n.limit));let l=null;var u;n.startAt&&(l=new Fa((u=n.startAt).values||[],!!u.before));let c=null;return n.endAt&&(c=function(u){return new Fa(u.values||[],!u.before)}(n.endAt)),function zj(t,e,n,r,i,s,o,a){return new na(t,e,n,r,i,s,o,a)}(e,i,o,s,a,"F",l,c)}function Tz(t){return void 0!==t.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=hd(e.unaryFilter.field);return kt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=hd(e.unaryFilter.field);return kt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=hd(e.unaryFilter.field);return kt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=hd(e.unaryFilter.field);return kt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Ue()}}(t):void 0!==t.fieldFilter?kt.create(hd((e=t).fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ue()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==t.compositeFilter?function(e){return Xt.create(e.compositeFilter.filters.map(n=>Tz(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return Ue()}}(e.compositeFilter.op))}(t):Ue();var e}function uhe(t){return the[t]}function dhe(t){return nhe[t]}function hhe(t){return rhe[t]}function $a(t){return{fieldPath:t.canonicalString()}}function hd(t){return zn.fromServerFormat(t.fieldPath)}function Dz(t){return t instanceof kt?function(e){if("=="===e.op){if(Sj(e.value))return{unaryFilter:{field:$a(e.field),op:"IS_NAN"}};if(Dj(e.value))return{unaryFilter:{field:$a(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sj(e.value))return{unaryFilter:{field:$a(e.field),op:"IS_NOT_NAN"}};if(Dj(e.value))return{unaryFilter:{field:$a(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$a(e.field),op:dhe(e.op),value:e.value}}}(t):t instanceof Xt?function(e){const n=e.getFilters().map(r=>Dz(r));return 1===n.length?n[0]:{compositeFilter:{op:hhe(e.op),filters:n}}}(t):Ue()}function fhe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Sz(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class Va{constructor(e,n,r,i,s=Ze.min(),o=Ze.min(),a=cr.EMPTY_BYTE_STRING){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Va(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,n){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Va(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Az{constructor(e){this.se=e}}function RA(t){const e=Cz({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?qy(e,e.limit,"L"):e}class ac{constructor(){}oe(e,n){this.ue(e,n),n.ce()}ue(e,n){if("nullValue"in e)this.ae(n,5);else if("booleanValue"in e)this.ae(n,10),n.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(n,15),n.he(On(e.integerValue));else if("doubleValue"in e){const r=On(e.doubleValue);isNaN(r)?this.ae(n,13):(this.ae(n,15),sp(r)?n.he(0):n.he(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ae(n,20),"string"==typeof r?n.le(r):(n.le(`${r.seconds||""}`),n.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,n),this.de(n);else if("bytesValue"in e)this.ae(n,30),n.we(Yl(e.bytesValue)),this.de(n);else if("referenceValue"in e)this._e(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ae(n,45),n.he(r.latitude||0),n.he(r.longitude||0)}else"mapValue"in e?Aj(e)?this.ae(n,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,n),this.de(n)):"arrayValue"in e?(this.ge(e.arrayValue,n),this.de(n)):Ue()}fe(e,n){this.ae(n,25),this.ye(e,n)}ye(e,n){n.le(e)}me(e,n){const r=e.fields||{};this.ae(n,55);for(const i of Object.keys(r))this.fe(i,n),this.ue(r[i],n)}ge(e,n){const r=e.values||[];this.ae(n,50);for(const i of r)this.ue(i,n)}_e(e,n){this.ae(n,37),De.fromName(e).path.forEach(r=>{this.ae(n,60),this.ye(r,n)})}ae(e,n){e.he(n)}de(e){e.he(2)}}ac.pe=new ac;class whe{constructor(){this.He=new LA}addToCollectionParentIndex(e,n){return this.He.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.He.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(qi.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(qi.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}}class LA{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(Vt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(Vt.comparator)).toArray()}}new Uint8Array(0);class xi{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new xi(e,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}xi.DEFAULT_COLLECTION_PERCENTILE=10,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xi.DEFAULT=new xi(41943040,xi.DEFAULT_COLLECTION_PERCENTILE,xi.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xi.DISABLED=new xi(-1,0,0);class cc{constructor(e){this.Rn=e}next(){return this.Rn+=2,this.Rn}static vn(){return new cc(0)}static bn(){return new cc(-1)}}class xhe{constructor(){this.changes=new La(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return void 0!==r?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class khe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class Xz{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(null!==r&&mp(r.mutation,i,Si.empty(),En.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,yt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=yt()){const i=co();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=fp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=co();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,yt()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Ai();const o=pp(),a=pp();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(void 0===u||u.mutation instanceof ra)?s=s.insert(c.key,c):void 0!==u?(o.set(c.key,u.mutation.getFieldMask()),mp(u.mutation,c,u.mutation.getFieldMask(),En.now())):o.set(c.key,Si.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return a.set(c,new khe(u,null!==(d=o.get(c))&&void 0!==d?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=pp();let i=new Pn((o,a)=>o-a),s=yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(null===c)return;let u=r.get(l)||Si.empty();u=a.applyToLocalView(c,u),r.set(l,u);const d=(i.get(a.batchId)||yt()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,u=l.value,d=Yj();u.forEach(h=>{if(!s.has(h)){const f=sz(n.get(h),r.get(h));null!==f&&d.set(h,f),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return R.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return De.isDocumentKey((i=n).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,n.path):function yA(t){return null!==t.collectionGroup}(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r);var i}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):R.resolve(co());let a=-1,l=s;return o.next(c=>R.forEach(c,(u,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(u)?R.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{l=l.insert(u,h)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,yt())).next(u=>({batchId:a,changes:Zj(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new De(n)).next(r=>{let i=fp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const i=n.collectionGroup;let s=fp();return this.indexManager.getCollectionParents(e,i).next(o=>R.forEach(o,a=>{const l=(c=n,u=a.child(i),new na(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt));var c,u;return this.getDocumentsMatchingCollectionQuery(e,l,r).next(c=>{c.forEach((u,d)=>{s=s.insert(u,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i))).next(s=>{i.forEach((a,l)=>{const c=l.getKey();null===s.get(c)&&(s=s.insert(c,pn.newInvalidDocument(c)))});let o=fp();return s.forEach((a,l)=>{const c=i.get(a);void 0!==c&&mp(c.mutation,l,Si.empty(),En.now()),hp(n,l)&&(o=o.insert(a,l))}),o})}}class Nhe{constructor(e){this.serializer=e,this.Zn=new Map,this.Xn=new Map}getBundleMetadata(e,n){return R.resolve(this.Zn.get(n))}saveBundleMetadata(e,n){var r;return this.Zn.set(n.id,{id:(r=n).id,version:r.version,createTime:Hn(r.createTime)}),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Xn.get(n))}saveNamedQuery(e,n){return this.Xn.set(n.name,{name:(r=n).name,query:RA(r.bundledQuery),readTime:Hn(r.readTime)}),R.resolve();var r}}class Phe{constructor(){this.overlays=new Pn(De.comparator),this.ts=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){const r=co();return R.forEach(n,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.re(e,n,s)}),R.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.ts.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ts.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){const i=co(),s=n.length+1,o=new De(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Pn((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);null===u&&(u=co(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const a=co(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>a.set(c,u)),!(a.size()>=i)););return R.resolve(a)}re(e,n,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.ts.get(i.largestBatchId).delete(r.key);this.ts.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new CA(n,r));let s=this.ts.get(n);void 0===s&&(s=yt(),this.ts.set(n,s)),this.ts.set(n,s.add(r.key))}}class $A{constructor(){this.es=new tn(mr.ns),this.ss=new tn(mr.rs)}isEmpty(){return this.es.isEmpty()}addReference(e,n){const r=new mr(e,n);this.es=this.es.add(r),this.ss=this.ss.add(r)}os(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.us(new mr(e,n))}cs(e,n){e.forEach(r=>this.removeReference(r,n))}hs(e){const n=new De(new Vt([])),r=new mr(n,e),i=new mr(n,e+1),s=[];return this.ss.forEachInRange([r,i],o=>{this.us(o),s.push(o.key)}),s}ls(){this.es.forEach(e=>this.us(e))}us(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}fs(e){const n=new De(new Vt([])),r=new mr(n,e),i=new mr(n,e+1);let s=yt();return this.ss.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new mr(e,0),r=this.es.firstAfterOrEqual(n);return null!==r&&e.isEqual(r.key)}}class mr{constructor(e,n){this.key=e,this.ds=n}static ns(e,n){return De.comparator(e.key,n.key)||dt(e.ds,n.ds)}static rs(e,n){return dt(e.ds,n.ds)||De.comparator(e.key,n.key)}}class Ohe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new tn(mr.ns)}checkEmpty(e){return R.resolve(0===this.mutationQueue.length)}addMutationBatch(e,n,r,i){const s=this.ws;this.ws++;const o=new wA(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this._s=this._s.add(new mr(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return R.resolve(o)}lookupMutationBatch(e,n){return R.resolve(this.gs(n))}getNextMutationBatchAfterBatchId(e,n){const i=this.ys(n+1),s=i<0?0:i;return R.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new mr(n,0),i=new mr(n,Number.POSITIVE_INFINITY),s=[];return this._s.forEachInRange([r,i],o=>{const a=this.gs(o.ds);s.push(a)}),R.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(dt);return n.forEach(i=>{const s=new mr(i,0),o=new mr(i,Number.POSITIVE_INFINITY);this._s.forEachInRange([s,o],a=>{r=r.add(a.ds)})}),R.resolve(this.ps(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;De.isDocumentKey(s)||(s=s.child(""));const o=new mr(new De(s),0);let a=new tn(dt);return this._s.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.ds)),!0)},o),R.resolve(this.ps(a))}ps(e){const n=[];return e.forEach(r=>{const i=this.gs(r);null!==i&&n.push(i)}),n}removeMutationBatch(e,n){We(0===this.Is(n.batchId,"removed")),this.mutationQueue.shift();let r=this._s;return R.forEach(n.mutations,i=>{const s=new mr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this._s=r})}En(e){}containsKey(e,n){const r=new mr(n,0),i=this._s.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return R.resolve()}Is(e,n){return this.ys(e)}ys(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}gs(e){const n=this.ys(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class Fhe{constructor(e){this.Ts=e,this.docs=new Pn(De.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ts(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(n))}getEntries(e,n){let r=Ai();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pn.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Ai();const o=n.path,a=new De(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||oA(dj(u),r)<=0||(i.has(u.key)||hp(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return R.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ue()}Es(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Lhe(this)}getSize(e){return R.resolve(this.size)}}class Lhe extends xhe{constructor(e){super(),this.Jn=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Jn.addEntry(e,i)):this.Jn.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.Jn.getEntry(e,n)}getAllFromCache(e,n){return this.Jn.getEntries(e,n)}}class $he{constructor(e){this.persistence=e,this.As=new La(n=>ec(n),up),this.lastRemoteSnapshotVersion=Ze.min(),this.highestTargetId=0,this.Rs=0,this.vs=new $A,this.targetCount=0,this.bs=cc.vn()}forEachTarget(e,n){return this.As.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Rs)}allocateTargetId(e){return this.highestTargetId=this.bs.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Rs&&(this.Rs=n),R.resolve()}Sn(e){this.As.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.bs=new cc(n),this.highestTargetId=n),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}addTargetData(e,n){return this.Sn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Sn(n),R.resolve()}removeTargetData(e,n){return this.As.delete(n.target),this.vs.hs(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.As.forEach((o,a)=>{a.sequenceNumber<=n&&null===r.get(a.targetId)&&(this.As.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),R.waitFor(s).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){const r=this.As.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.vs.os(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.vs.cs(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),R.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.vs.hs(n),R.resolve()}getMatchingKeysForTargetId(e,n){const r=this.vs.fs(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.vs.containsKey(n))}}class Jz{constructor(e,n){this.Ps={},this.overlays={},this.Vs=new Ki(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=e(this),this.Ds=new $he(this),this.indexManager=new whe,this.remoteDocumentCache=new Fhe(r=>this.referenceDelegate.Cs(r)),this.serializer=new Az(n),this.xs=new Nhe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ss=!1,Promise.resolve()}get started(){return this.Ss}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Phe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Ps[e.toKey()];return r||(r=new Ohe(n,this.referenceDelegate),this.Ps[e.toKey()]=r),r}getTargetCache(){return this.Ds}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.xs}runTransaction(e,n,r){ae("MemoryPersistence","Starting transaction:",e);const i=new Vhe(this.Vs.next());return this.referenceDelegate.Ns(),r(i).next(s=>this.referenceDelegate.ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Os(e,n){return R.or(Object.values(this.Ps).map(r=>()=>r.containsKey(e,n)))}}class Vhe extends ide{constructor(e){super(),this.currentSequenceNumber=e}}class lv{constructor(e){this.persistence=e,this.$s=new $A,this.Ms=null}static Fs(e){return new lv(e)}get Bs(){if(this.Ms)return this.Ms;throw Ue()}addReference(e,n,r){return this.$s.addReference(r,n),this.Bs.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.$s.removeReference(r,n),this.Bs.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Bs.add(n.toString()),R.resolve()}removeTarget(e,n){this.$s.hs(n.targetId).forEach(i=>this.Bs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Bs.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ns(){this.Ms=new Set}ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Bs,r=>{const i=De.fromPath(r);return this.Ls(e,i).next(s=>{s||n.removeEntry(i,Ze.min())})}).next(()=>(this.Ms=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ls(e,n).next(r=>{r?this.Bs.delete(n.toString()):this.Bs.add(n.toString())})}Cs(e){return 0}Ls(e,n){return R.or([()=>R.resolve(this.$s.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Os(e,n)])}}class jA{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Vi=r,this.Si=i}static Di(e,n){let r=yt(),i=yt();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new jA(e,n.fromCache,r,i)}}class tH{constructor(){this.Ci=!1}initialize(e,n){this.xi=e,this.indexManager=n,this.Ci=!0}getDocumentsMatchingQuery(e,n,r,i){return this.Ni(e,n).next(s=>s||this.ki(e,n,i,r)).next(s=>s||this.Oi(e,n))}Ni(e,n){if(Hj(n))return R.resolve(null);let r=si(n);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==n.limit&&1===i&&(n=qy(n,null,"F"),r=si(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=yt(...s);return this.xi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.$i(n,a);return this.Mi(n,c,o,l.readTime)?this.Ni(e,qy(n,null,"F")):this.Fi(e,c,n,l)}))})))}ki(e,n,r,i){return Hj(n)||i.isEqual(Ze.min())?this.Oi(e,n):this.xi.getDocuments(e,r).next(s=>{const o=this.$i(n,s);return this.Mi(n,o,r,i)?this.Oi(e,n):(rA()<=Rt.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),IA(n)),this.Fi(e,o,n,function uj(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Ze.fromTimestamp(1e9===r?new En(n+1,0):new En(n,r));return new qi(i,De.empty(),e)}(i,-1)))})}$i(e,n){let r=new tn(qj(e));return n.forEach((i,s)=>{hp(e,s)&&(r=r.add(s))}),r}Mi(e,n,r,i){if(null===e.limit)return!1;if(r.size!==n.size)return!0;const s="F"===e.limitType?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Oi(e,n){return rA()<=Rt.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",IA(n)),this.xi.getDocumentsMatchingQuery(e,n,qi.min())}Fi(e,n,r,i){return this.xi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}class Bhe{constructor(e,n,r,i){this.persistence=e,this.Bi=n,this.serializer=i,this.Li=new Pn(dt),this.qi=new La(s=>ec(s),up),this.Ui=new Map,this.Ki=e.getRemoteDocumentCache(),this.Ds=e.getTargetCache(),this.xs=e.getBundleCache(),this.Gi(r)}Gi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xz(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Li))}}function rH(t,e){return zA.apply(this,arguments)}function zA(){return zA=(0,I.Z)(function*(t,e){const n=Ae(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Gi(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=yt();for(const c of i){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Qi:c,removedBatchIds:o,addedBatchIds:a}))})})}),zA.apply(this,arguments)}function iH(t){const e=Ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ds.getLastRemoteSnapshotVersion(n))}function Hhe(t,e){const n=Ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function md(t,e,n){return HA.apply(this,arguments)}function HA(){return HA=(0,I.Z)(function*(t,e,n){const r=Ae(t),i=r.Li.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ka(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Li=r.Li.remove(e),r.qi.delete(i.target)}),HA.apply(this,arguments)}function uv(t,e,n){const r=Ae(t);let i=Ze.min(),s=yt();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,c){const u=Ae(a),d=u.qi.get(c);return void 0!==d?R.resolve(u.Li.get(d)):u.Ds.getTargetData(l,c)}(r,o,si(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Bi.getDocumentsMatchingQuery(o,e,n?i:Ze.min(),n?s:yt())).next(a=>(function lH(t,e,n){let r=t.Ui.get(e)||Ze.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Ui.set(e,r)}(r,function Wj(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),a),{documents:a,Wi:s})))}class ZA{constructor(){this.activeTargetIds=Ky()}tr(e){this.activeTargetIds=this.activeTargetIds.add(e)}er(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Xi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class dH{constructor(){this.Br=new ZA,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Br.tr(e),this.Lr[e]||"not-current"}updateQueryState(e,n,r){this.Lr[e]=n}removeLocalQueryTarget(e){this.Br.er(e)}isLocalQueryTarget(e){return this.Br.activeTargetIds.has(e)}clearQueryState(e){delete this.Lr[e]}getAllActiveQueryTargets(){return this.Br.activeTargetIds}isActiveQueryTarget(e){return this.Br.activeTargetIds.has(e)}start(){return this.Br=new ZA,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class qhe{qr(e){}shutdown(){}}class hH{constructor(){this.Ur=()=>this.Kr(),this.Gr=()=>this.Qr(),this.zr=[],this.jr()}qr(e){this.zr.push(e)}shutdown(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}jr(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}Kr(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.zr)e(0)}Qr(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.zr)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fv=null;function QA(){return null===fv?fv=268435456+Math.round(2147483648*Math.random()):fv++,"0x"+fv.toString(16)}const Khe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zhe{constructor(e){this.Wr=e.Wr,this.Hr=e.Hr}Jr(e){this.Yr=e}Zr(e){this.Xr=e}onMessage(e){this.eo=e}close(){this.Hr()}send(e){this.Wr(e)}no(){this.Yr()}so(e){this.Xr(e)}io(e){this.eo(e)}}const Gr="WebChannelConnection";class Yhe extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.ro=(e.ssl?"https":"http")+"://"+e.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get uo(){return!1}co(e,n,r,i,s){const o=QA(),a=this.ao(e,n);ae("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const l={};return this.ho(l,i,s),this.lo(e,a,l,r).then(c=>(ae("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ta("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}fo(e,n,r,i,s,o){return this.co(e,n,r,i,s)}ho(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ed,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}ao(e,n){return`${this.ro}/v1/${n}:${Khe[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}lo(e,n,r,i){const s=QA();return new Promise((o,a)=>{const l=new que;l.setWithCredentials(!0),l.listenOnce(Hue.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case nA.NO_ERROR:const u=l.getResponseJson();ae(Gr,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(u)),o(u);break;case nA.TIMEOUT:ae(Gr,`RPC '${e}' ${s} timed out`),a(new ie(N.DEADLINE_EXCEEDED,"Request time out"));break;case nA.HTTP_ERROR:const d=l.getStatus();if(ae(Gr,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=null==h?void 0:h.error;if(f&&f.status&&f.message){const g=function(v){const E=v.toLowerCase().replace(/_/g,"-");return Object.values(N).indexOf(E)>=0?E:N.UNKNOWN}(f.status);a(new ie(g,f.message))}else a(new ie(N.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new ie(N.UNAVAILABLE,"Connection failed."));break;default:Ue()}}finally{ae(Gr,`RPC '${e}' ${s} completed.`)}});const c=JSON.stringify(i);ae(Gr,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",c,r,15)})}wo(e,n,r){const i=QA(),s=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=jue(),a=zue(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(l.xmlHttpFactory=new Wue({})),this.ho(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");ae(Gr,`Creating RPC '${e}' stream ${i}: ${c}`,l);const u=o.createWebChannel(c,l);let d=!1,h=!1;const f=new Zhe({Wr:v=>{h?ae(Gr,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(d||(ae(Gr,`Opening RPC '${e}' stream ${i} transport.`),u.open(),d=!0),ae(Gr,`RPC '${e}' stream ${i} sending:`,v),u.send(v))},Hr:()=>u.close()}),g=(v,E,A)=>{v.listen(E,U=>{try{A(U)}catch(S){setTimeout(()=>{throw S},0)}})};return g(u,Fy.EventType.OPEN,()=>{h||ae(Gr,`RPC '${e}' stream ${i} transport opened.`)}),g(u,Fy.EventType.CLOSE,()=>{h||(h=!0,ae(Gr,`RPC '${e}' stream ${i} transport closed`),f.so())}),g(u,Fy.EventType.ERROR,v=>{h||(h=!0,ta(Gr,`RPC '${e}' stream ${i} transport errored:`,v),f.so(new ie(N.UNAVAILABLE,"The operation could not be completed")))}),g(u,Fy.EventType.MESSAGE,v=>{var E;if(!h){const A=v.data[0];We(!!A);const S=A.error||(null===(E=A[0])||void 0===E?void 0:E.error);if(S){ae(Gr,`RPC '${e}' stream ${i} received error:`,S);const oe=S.status;let je=function(Wn){const Kr=Jn[Wn];if(void 0!==Kr)return dz(Kr)}(oe),qe=S.message;void 0===je&&(je=N.INTERNAL,qe="Unknown error status: "+oe+" with message "+S.message),h=!0,f.so(new ie(je,qe)),u.close()}else ae(Gr,`RPC '${e}' stream ${i} received:`,A),f.io(A)}}),g(a,Gue.STAT_EVENT,v=>{v.stat===ij.PROXY?ae(Gr,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===ij.NOPROXY&&ae(Gr,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{f.no()},0),f}}function pv(){return typeof document<"u"?document:null}function Mp(t){return new ihe(t,!0)}class XA{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ws=e,this.timerId=n,this._o=r,this.mo=i,this.yo=s,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}reset(){this.po=0}Eo(){this.po=this.yo}Ao(e){this.cancel();const n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.po} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,()=>(this.To=Date.now(),e())),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}vo(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}cancel(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}Ro(){return(Math.random()-.5)*this.po}}class pH{constructor(e,n,r,i,s,o,a,l){this.Ws=e,this.bo=r,this.Po=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new XA(e,n)}xo(){return 1===this.state||5===this.state||this.No()}No(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.ko()}stop(){var e=this;return(0,I.Z)(function*(){e.xo()&&(yield e.close(0))})()}Oo(){this.state=0,this.Co.reset()}$o(){this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,()=>this.Mo()))}Fo(e){this.Bo(),this.stream.send(e)}Mo(){var e=this;return(0,I.Z)(function*(){if(e.No())return e.close(0)})()}Bo(){this.So&&(this.So.cancel(),this.So=null)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}close(e,n){var r=this;return(0,I.Z)(function*(){r.Bo(),r.Lo(),r.Co.cancel(),r.Vo++,4!==e?r.Co.reset():n&&n.code===N.RESOURCE_EXHAUSTED?(jn(n.toString()),jn("Using maximum backoff delay to prevent overloading the backend."),r.Co.Eo()):n&&n.code===N.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.qo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(n)})()}qo(){}auth(){this.state=1;const e=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Vo===n&&this.Ko(r,i)},r=>{e(()=>{const i=new ie(N.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Go(i)})})}Ko(e,n){const r=this.Uo(this.Vo);this.stream=this.Qo(e,n),this.stream.Jr(()=>{r(()=>(this.state=2,this.Do=this.Ws.enqueueAfterDelay(this.Po,1e4,()=>(this.No()&&(this.state=3),Promise.resolve())),this.listener.Jr()))}),this.stream.Zr(i=>{r(()=>this.Go(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}ko(){var e=this;this.state=5,this.Co.Ao((0,I.Z)(function*(){e.state=0,e.start()}))}Go(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Uo(e){return n=>{this.Ws.enqueueAndForget(()=>this.Vo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Qhe extends pH{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}Qo(e,n){return this.connection.wo("Listen",e,n)}onMessage(e){this.Co.reset();const n=function ahe(t,e){let n;if("targetChange"in e){const r="NO_CHANGE"===(l=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===l?1:"REMOVE"===l?2:"CURRENT"===l?3:"RESET"===l?4:Ue(),i=e.targetChange.targetIds||[],s=function(l,c){return l.useProto3Json?(We(void 0===c||"string"==typeof c),cr.fromBase64String(c||"")):(We(void 0===c||c instanceof Uint8Array),cr.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const c=void 0===l.code?N.UNKNOWN:dz(l.code);return new ie(c,l.message||"")}(o);n=new fz(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=uo(t,r.document.name),s=Hn(r.document.updateTime),o=r.document.createTime?Hn(r.document.createTime):Ze.min(),a=new gr({mapValue:{fields:r.document.fields}}),l=pn.newFoundDocument(i,s,o,a);n=new Jy(r.targetIds||[],r.removedTargetIds||[],l.key,l)}else if("documentDelete"in e){const r=e.documentDelete,i=uo(t,r.document),s=r.readTime?Hn(r.readTime):Ze.min(),o=pn.newNoDocument(i,s);n=new Jy([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=uo(t,r.document);n=new Jy([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ue();{const r=e.filter,s=new Jde(r.count||0);n=new hz(r.targetId,s)}}var l;return n}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Ze.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?Ze.min():s.readTime?Hn(s.readTime):Ze.min()}(e);return this.listener.zo(n,r)}jo(e){const n={};n.database=Ip(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;return o=Hy(a)?{documents:bz(i,a)}:{query:MA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=_z(i,s.resumeToken):s.snapshotVersion.compareTo(Ze.min())>0&&(o.readTime=dd(i,s.snapshotVersion.toTimestamp())),o}(this.serializer,e);const r=function che(t,e){const n=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ue()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);r&&(n.labels=r),this.Fo(n)}Wo(e){const n={};n.database=Ip(this.serializer),n.removeTarget=e,this.Fo(n)}}class Xhe extends pH{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.Ho=!1}get Jo(){return this.Ho}start(){this.Ho=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Ho&&this.Yo([])}Qo(e,n){return this.connection.wo("Write",e,n)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();const n=function lhe(t,e){return t&&t.length>0?(We(void 0!==e),t.map(n=>function(r,i){let s=Hn(r.updateTime?r.updateTime:i);return s.isEqual(Ze.min())&&(s=Hn(i)),new Kde(s,r.transformResults||[])}(n,e))):[]}(e.writeResults,e.commitTime),r=Hn(e.commitTime);return this.listener.Zo(r,n)}return We(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}tu(){const e={};e.database=Ip(this.serializer),this.Fo(e)}Yo(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>function Ep(t,e){let n;if(e instanceof cd)n={update:Ez(t,e.key,e.value)};else if(e instanceof ud)n={delete:vp(t,e.key)};else if(e instanceof ra)n={update:Ez(t,e.key,e.data),updateMask:fhe(e.fieldMask)};else{if(!(e instanceof EA))return Ue();n={verify:vp(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof ad)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof nc)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof rc)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof ld)return{fieldPath:s.field.canonicalString(),increment:o._t};throw Ue()}(0,r))),e.precondition.isNone||(n.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:she(t,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:Ue()),n;var i}(this.serializer,r))};this.Fo(n)}}class Jhe extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.eu=!1}nu(){if(this.eu)throw new ie(N.FAILED_PRECONDITION,"The client has already been terminated.")}co(e,n,r){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.co(e,n,r,i,s)).catch(i=>{throw"FirebaseError"===i.name?(i.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new ie(N.UNKNOWN,i.toString())})}fo(e,n,r,i){return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.fo(e,n,r,s,o,i)).catch(s=>{throw"FirebaseError"===s.name?(s.code===N.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ie(N.UNKNOWN,s.toString())})}terminate(){this.eu=!0}}class tfe{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}ou(){0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.iu=null,this.cu("Backend didn't respond within 10 seconds."),this.uu("Offline"),Promise.resolve())))}au(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.uu("Offline")))}set(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}uu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}cu(e){const n=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ru?(jn(n),this.ru=!1):ae("OnlineStateTracker",n)}hu(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}class nfe{constructor(e,n,r,i,s){var o=this;this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=s,this._u.qr(a=>{r.enqueueAndForget((0,I.Z)(function*(){var l;ia(o)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield(l=(0,I.Z)(function*(c){const u=Ae(c);u.du.add(4),yield _d(u),u.mu.set("Unknown"),u.du.delete(4),yield Rp(u)}),function(c){return l.apply(this,arguments)})(o))}))}),this.mu=new tfe(r,i)}}function Rp(t){return ex.apply(this,arguments)}function ex(){return ex=(0,I.Z)(function*(t){if(ia(t))for(const e of t.wu)yield e(!0)}),ex.apply(this,arguments)}function _d(t){return tx.apply(this,arguments)}function tx(){return tx=(0,I.Z)(function*(t){for(const e of t.wu)yield e(!1)}),tx.apply(this,arguments)}function gv(t,e){const n=Ae(t);n.fu.has(e.targetId)||(n.fu.set(e.targetId,e),ix(n)?rx(n):vd(n).No()&&nx(n,e))}function kp(t,e){const n=Ae(t),r=vd(n);n.fu.delete(e),r.No()&&gH(n,e),0===n.fu.size&&(r.No()?r.$o():ia(n)&&n.mu.set("Unknown"))}function nx(t,e){t.gu.Ot(e.targetId),vd(t).jo(e)}function gH(t,e){t.gu.Ot(e),vd(t).Wo(e)}function rx(t){t.gu=new ehe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>t.fu.get(e)||null}),vd(t).start(),t.mu.ou()}function ix(t){return ia(t)&&!vd(t).xo()&&t.fu.size>0}function ia(t){return 0===Ae(t).du.size}function mH(t){t.gu=void 0}function rfe(t){return sx.apply(this,arguments)}function sx(){return sx=(0,I.Z)(function*(t){t.fu.forEach((e,n)=>{nx(t,e)})}),sx.apply(this,arguments)}function ife(t,e){return ox.apply(this,arguments)}function ox(){return ox=(0,I.Z)(function*(t,e){mH(t),ix(t)?(t.mu.au(e),rx(t)):t.mu.set("Unknown")}),ox.apply(this,arguments)}function sfe(t,e,n){return ax.apply(this,arguments)}function ax(){return ax=(0,I.Z)(function*(t,e,n){if(t.mu.set("Online"),e instanceof fz&&2===e.state&&e.cause)try{yield(r=(0,I.Z)(function*(i,s){const o=s.cause;for(const a of s.targetIds)i.fu.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.fu.delete(a),i.gu.removeTarget(a))}),function(i,s){return r.apply(this,arguments)})(t,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mv(t,r)}else if(e instanceof Jy?t.gu.Kt(e):e instanceof hz?t.gu.Jt(e):t.gu.zt(e),!n.isEqual(Ze.min()))try{const r=yield iH(t.localStore);n.compareTo(r)>=0&&(yield function(i,s){const o=i.gu.Xt(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const c=i.fu.get(l);c&&i.fu.set(l,c.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{const l=i.fu.get(a);if(!l)return;i.fu.set(a,l.withResumeToken(cr.EMPTY_BYTE_STRING,l.snapshotVersion)),gH(i,a);const c=new Va(l.target,a,1,l.sequenceNumber);nx(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n))}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),yield mv(t,r)}var r}),ax.apply(this,arguments)}function mv(t,e,n){return lx.apply(this,arguments)}function lx(){return lx=(0,I.Z)(function*(t,e,n){if(!ka(e))throw e;t.du.add(1),yield _d(t),t.mu.set("Offline"),n||(n=()=>iH(t.localStore)),t.asyncQueue.enqueueRetryable((0,I.Z)(function*(){ae("RemoteStore","Retrying IndexedDB access"),yield n(),t.du.delete(1),yield Rp(t)}))}),lx.apply(this,arguments)}function _H(t,e){return e().catch(n=>mv(t,n,e))}function yd(t){return cx.apply(this,arguments)}function cx(){return cx=(0,I.Z)(function*(t){const e=Ae(t),n=za(e);let r=e.lu.length>0?e.lu[e.lu.length-1].batchId:-1;for(;ofe(e);)try{const i=yield Hhe(e.localStore,r);if(null===i){0===e.lu.length&&n.$o();break}r=i.batchId,afe(e,i)}catch(i){yield mv(e,i)}yH(e)&&vH(e)}),cx.apply(this,arguments)}function ofe(t){return ia(t)&&t.lu.length<10}function afe(t,e){t.lu.push(e);const n=za(t);n.No()&&n.Jo&&n.Yo(e.mutations)}function yH(t){return ia(t)&&!za(t).xo()&&t.lu.length>0}function vH(t){za(t).start()}function lfe(t){return ux.apply(this,arguments)}function ux(){return ux=(0,I.Z)(function*(t){za(t).tu()}),ux.apply(this,arguments)}function cfe(t){return dx.apply(this,arguments)}function dx(){return dx=(0,I.Z)(function*(t){const e=za(t);for(const n of t.lu)e.Yo(n.mutations)}),dx.apply(this,arguments)}function ufe(t,e,n){return hx.apply(this,arguments)}function hx(){return hx=(0,I.Z)(function*(t,e,n){const r=t.lu.shift(),i=bA.from(r,e,n);yield _H(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield yd(t)}),hx.apply(this,arguments)}function dfe(t,e){return fx.apply(this,arguments)}function fx(){return fx=(0,I.Z)(function*(t,e){var n;e&&za(t).Jo&&(yield(n=(0,I.Z)(function*(r,i){if(function uz(t){switch(t){default:return Ue();case N.CANCELLED:case N.UNKNOWN:case N.DEADLINE_EXCEEDED:case N.RESOURCE_EXHAUSTED:case N.INTERNAL:case N.UNAVAILABLE:case N.UNAUTHENTICATED:return!1;case N.INVALID_ARGUMENT:case N.NOT_FOUND:case N.ALREADY_EXISTS:case N.PERMISSION_DENIED:case N.FAILED_PRECONDITION:case N.ABORTED:case N.OUT_OF_RANGE:case N.UNIMPLEMENTED:case N.DATA_LOSS:return!0}}(s=i.code)&&s!==N.ABORTED){const o=r.lu.shift();za(r).Oo(),yield _H(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield yd(r)}var s}),function(r,i){return n.apply(this,arguments)})(t,e)),yH(t)&&vH(t)}),fx.apply(this,arguments)}function IH(t,e){return px.apply(this,arguments)}function px(){return px=(0,I.Z)(function*(t,e){const n=Ae(t);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=ia(n);n.du.add(3),yield _d(n),r&&n.mu.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.du.delete(3),yield Rp(n)}),px.apply(this,arguments)}function mx(){return mx=(0,I.Z)(function*(t,e){const n=Ae(t);e?(n.du.delete(2),yield Rp(n)):e||(n.du.add(2),yield _d(n),n.mu.set("Unknown"))}),mx.apply(this,arguments)}function vd(t){return t.yu||(t.yu=function(e,n,r){const i=Ae(e);return i.nu(),new Qhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:rfe.bind(null,t),Zr:ife.bind(null,t),zo:sfe.bind(null,t)}),t.wu.push(function(){var e=(0,I.Z)(function*(n){n?(t.yu.Oo(),ix(t)?rx(t):t.mu.set("Unknown")):(yield t.yu.stop(),mH(t))});return function(n){return e.apply(this,arguments)}}())),t.yu}function za(t){return t.pu||(t.pu=function(e,n,r){const i=Ae(e);return i.nu(),new Xhe(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(t.datastore,t.asyncQueue,{Jr:lfe.bind(null,t),Zr:dfe.bind(null,t),Xo:cfe.bind(null,t),Zo:ufe.bind(null,t)}),t.wu.push(function(){var e=(0,I.Z)(function*(n){n?(t.pu.Oo(),yield yd(t)):(yield t.pu.stop(),t.lu.length>0&&(ae("RemoteStore",`Stopping write stream with ${t.lu.length} pending writes`),t.lu=[]))});return function(n){return e.apply(this,arguments)}}())),t.pu}class _x{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new _x(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ie(N.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Id(t,e){if(jn("AsyncQueue",`${e}: ${t}`),ka(t))return new ie(N.UNAVAILABLE,`${e}: ${t}`);throw t}class Ed{constructor(e){this.comparator=e?(n,r)=>e(n,r)||De.comparator(n.key,r.key):(n,r)=>De.comparator(n.key,r.key),this.keyedMap=fp(),this.sortedSet=new Pn(this.comparator)}static emptySet(e){return new Ed(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ed)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,n){const r=new Ed;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}class EH{constructor(){this.Iu=new Pn(De.comparator)}track(e){const n=e.doc.key,r=this.Iu.get(n);r?0!==e.type&&3===r.type?this.Iu=this.Iu.insert(n,e):3===e.type&&1!==r.type?this.Iu=this.Iu.insert(n,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Iu=this.Iu.insert(n,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Iu=this.Iu.remove(n):1===e.type&&2===r.type?this.Iu=this.Iu.insert(n,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Iu=this.Iu.insert(n,{type:2,doc:e.doc}):Ue():this.Iu=this.Iu.insert(n,e)}Tu(){const e=[];return this.Iu.inorderTraversal((n,r)=>{e.push(r)}),e}}class wd{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new wd(e,n,Ed.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}class hfe{constructor(){this.Eu=void 0,this.listeners=[]}}class ffe{constructor(){this.queries=new La(e=>Gj(e),dp),this.onlineState="Unknown",this.Au=new Set}}function vx(){return vx=(0,I.Z)(function*(t,e){const n=Ae(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new hfe),i)try{s.Eu=yield n.onListen(r)}catch(o){const a=Id(o,`Initialization of query '${IA(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.listeners.push(e),e.Ru(n.onlineState),s.Eu&&e.vu(s.Eu)&&wx(n)}),vx.apply(this,arguments)}function Ex(){return Ex=(0,I.Z)(function*(t,e){const n=Ae(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}),Ex.apply(this,arguments)}function pfe(t,e){const n=Ae(t);let r=!1;for(const i of e){const o=n.queries.get(i.query);if(o){for(const a of o.listeners)a.vu(i)&&(r=!0);o.Eu=i}}r&&wx(n)}function gfe(t,e,n){const r=Ae(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function wx(t){t.Au.forEach(e=>{e.next()})}class bx{constructor(e,n,r){this.query=e,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new wd(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),n=!0):this.Du(e,this.onlineState)&&(this.Cu(e),n=!0),this.Vu=e,n}onError(e){this.bu.error(e)}Ru(e){this.onlineState=e;let n=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),n=!0),n}Du(e,n){return!e.fromCache||(!this.options.xu||!("Offline"!==n))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===n)}Su(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Cu(e){e=wd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}class CH{constructor(e){this.key=e}}class TH{constructor(e){this.key=e}}class DH{constructor(e,n){this.query=e,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=yt(),this.mutatedKeys=yt(),this.Ku=qj(e),this.Gu=new Ed(this.Ku)}get Qu(){return this.Lu}zu(e,n){const r=n?n.ju:new EH,i=n?n.Gu:this.Gu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=hp(this.query,d)?d:null,g=!!h&&this.mutatedKeys.has(h.key),v=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let E=!1;h&&f?h.data.isEqual(f.data)?g!==v&&(r.track({type:3,doc:f}),E=!0):this.Wu(h,f)||(r.track({type:2,doc:f}),E=!0,(l&&this.Ku(f,l)>0||c&&this.Ku(f,c)<0)&&(a=!0)):!h&&f?(r.track({type:0,doc:f}),E=!0):h&&!f&&(r.track({type:1,doc:h}),E=!0,(l||c)&&(a=!0)),E&&(f?(o=o.add(f),s=v?s.add(u):s.delete(u)):(o=o.delete(u),s=s.delete(u)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const u="F"===this.query.limitType?o.last():o.first();o=o.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{Gu:o,ju:r,Mi:a,mutatedKeys:s}}Wu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;const s=e.ju.Tu();s.sort((c,u)=>function(d,h){const f=g=>{switch(g){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ue()}};return f(d)-f(h)}(c.type,u.type)||this.Ku(c.doc,u.doc)),this.Hu(r);const o=n?this.Ju():[],a=0===this.Uu.size&&this.current?1:0,l=a!==this.qu;return this.qu=a,0!==s.length||l?{snapshot:new wd(this.query,e.Gu,i,s,e.mutatedKeys,0===a,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}Ru(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new EH,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}Zu(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}Hu(e){e&&(e.addedDocuments.forEach(n=>this.Lu=this.Lu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Lu=this.Lu.delete(n)),this.current=e.current)}Ju(){if(!this.current)return[];const e=this.Uu;this.Uu=yt(),this.Gu.forEach(r=>{this.Zu(r.key)&&(this.Uu=this.Uu.add(r.key))});const n=[];return e.forEach(r=>{this.Uu.has(r)||n.push(new TH(r))}),this.Uu.forEach(r=>{e.has(r)||n.push(new CH(r))}),n}Xu(e){this.Lu=e.Wi,this.Uu=yt();const n=this.zu(e.documents);return this.applyChanges(n,!0)}tc(){return wd.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class yfe{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vfe{constructor(e){this.key=e,this.ec=!1}}class Ife{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new La(a=>Gj(a),dp),this.ic=new Map,this.rc=new Set,this.oc=new Pn(De.comparator),this.uc=new Map,this.cc=new $A,this.ac={},this.hc=new Map,this.lc=cc.bn(),this.onlineState="Unknown",this.fc=void 0}get isPrimaryClient(){return!0===this.fc}}function Efe(t,e){return Cx.apply(this,arguments)}function Cx(){return Cx=(0,I.Z)(function*(t,e){const n=function qx(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SH.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Cfe.bind(null,e),e.nc.zo=pfe.bind(null,e.eventManager),e.nc.wc=gfe.bind(null,e.eventManager),e}(t);let r,i;const s=n.sc.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.tc();else{const o=yield function gd(t,e){const n=Ae(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ds.getTargetData(r,e).next(s=>s?(i=s,R.resolve(i)):n.Ds.allocateTargetId(r).next(o=>(i=new Va(e,o,0,r.currentSequenceNumber),n.Ds.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Li.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Li=n.Li.insert(r.targetId,r),n.qi.set(e,r.targetId)),r})}(n.localStore,si(e));n.isPrimaryClient&&gv(n.remoteStore,o);const a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=yield function Tx(t,e,n,r,i){return Dx.apply(this,arguments)}(n,e,r,"current"===a,o.resumeToken)}return i}),Cx.apply(this,arguments)}function Dx(){return Dx=(0,I.Z)(function*(t,e,n,r,i){t.dc=(d,h,f)=>{return(g=(0,I.Z)(function*(v,E,A,U){let S=E.view.zu(A);S.Mi&&(S=yield uv(v.localStore,E.query,!1).then(({documents:qe})=>E.view.zu(qe,S)));const oe=U&&U.targetChanges.get(E.targetId),je=E.view.applyChanges(S,v.isPrimaryClient,oe);return Fx(v,E.targetId,je.Yu),je.snapshot}),function(v,E,A,U){return g.apply(this,arguments)})(t,d,h,f);var g};const s=yield uv(t.localStore,e,!0),o=new DH(e,s.Wi),a=o.zu(s.documents),l=yp.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),c=o.applyChanges(a,t.isPrimaryClient,l);Fx(t,n,c.Yu);const u=new yfe(e,n,o);return t.sc.set(e,u),t.ic.has(n)?t.ic.get(n).push(e):t.ic.set(n,[e]),c.snapshot}),Dx.apply(this,arguments)}function wfe(t,e){return Sx.apply(this,arguments)}function Sx(){return Sx=(0,I.Z)(function*(t,e){const n=Ae(t),r=n.sc.get(e),i=n.ic.get(r.targetId);if(i.length>1)return n.ic.set(r.targetId,i.filter(s=>!dp(s,e))),void n.sc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield md(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),kp(n.remoteStore,r.targetId),bd(n,r.targetId)}).catch(Ra))):(bd(n,r.targetId),yield md(n.localStore,r.targetId,!0))}),Sx.apply(this,arguments)}function Ax(){return Ax=(0,I.Z)(function*(t,e,n){const r=function Kx(t){const e=Ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Tfe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Dfe.bind(null,e),e}(t);try{const i=yield function(s,o){const a=Ae(s),l=En.now(),c=o.reduce((h,f)=>h.add(f.key),yt());let u,d;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=Ai(),g=yt();return a.Ki.getEntries(h,c).next(v=>{f=v,f.forEach((E,A)=>{A.isValidDocument()||(g=g.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,f)).next(v=>{u=v;const E=[];for(const A of o){const U=Yde(A,u.get(A.key).overlayedDocument);null!=U&&E.push(new ra(A.key,U,Rj(U.value.mapValue),_n.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,E,o)}).next(v=>{d=v;const E=v.applyToLocalDocumentSet(u,g);return a.documentOverlayCache.saveOverlays(h,v.batchId,E)})}).then(()=>({batchId:d.batchId,changes:Zj(u)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.ac[s.currentUser.toKey()];l||(l=new Pn(dt)),l=l.insert(o,a),s.ac[s.currentUser.toKey()]=l}(r,i.batchId,n),yield sa(r,i.changes),yield yd(r.remoteStore)}catch(i){const s=Id(i,"Failed to persist write");n.reject(s)}}),Ax.apply(this,arguments)}function SH(t,e){return xx.apply(this,arguments)}function xx(){return xx=(0,I.Z)(function*(t,e){const n=Ae(t);try{const r=yield function zhe(t,e){const n=Ae(t),r=e.snapshotVersion;let i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;const a=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;a.push(n.Ds.removeMatchingKeys(s,u.removedDocuments,d).next(()=>n.Ds.addMatchingKeys(s,u.addedDocuments,d)));let f=h.withSequenceNumber(s.currentSequenceNumber);var g,v,E;e.targetMismatches.has(d)?f=f.withResumeToken(cr.EMPTY_BYTE_STRING,Ze.min()).withLastLimboFreeSnapshotVersion(Ze.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,r)),i=i.insert(d,f),v=f,E=u,(0===(g=h).resumeToken.approximateByteSize()||v.snapshotVersion.toMicroseconds()-g.snapshotVersion.toMicroseconds()>=3e8||E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0)&&a.push(n.Ds.updateTargetData(s,f))});let l=Ai(),c=yt();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),a.push(function sH(t,e,n){let r=yt(),i=yt();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Ai();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(Ze.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||0===l.version.compareTo(c.version)&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{zi:o,ji:i}})}(s,o,e.documentUpdates).next(u=>{l=u.zi,c=u.ji})),!r.isEqual(Ze.min())){const u=n.Ds.getLastRemoteSnapshotVersion(s).next(d=>n.Ds.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(u)}return R.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Li=i,s))}(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.uc.get(s);o&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ec=!0:i.modifiedDocuments.size>0?We(o.ec):i.removedDocuments.size>0&&(We(o.ec),o.ec=!1))}),yield sa(n,r,e)}catch(r){yield Ra(r)}}),xx.apply(this,arguments)}function AH(t,e,n){const r=Ae(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const i=[];r.sc.forEach((s,o)=>{const a=o.view.Ru(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=Ae(s);a.onlineState=o;let l=!1;a.queries.forEach((c,u)=>{for(const d of u.listeners)d.Ru(o)&&(l=!0)}),l&&wx(a)}(r.eventManager,e),i.length&&r.nc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Cfe(t,e,n){return Mx.apply(this,arguments)}function Mx(){return Mx=(0,I.Z)(function*(t,e,n){const r=Ae(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.uc.get(e),s=i&&i.key;if(s){let o=new Pn(De.comparator);o=o.insert(s,pn.newNoDocument(s,Ze.min()));const a=yt().add(s),l=new _p(Ze.min(),new Map,new tn(dt),o,a);yield SH(r,l),r.oc=r.oc.remove(s),r.uc.delete(e),Lx(r)}else yield md(r.localStore,e,!1).then(()=>bd(r,e,n)).catch(Ra)}),Mx.apply(this,arguments)}function Tfe(t,e){return Rx.apply(this,arguments)}function Rx(){return Rx=(0,I.Z)(function*(t,e){const n=Ae(t),r=e.batch.batchId;try{const i=yield function jhe(t,e){const n=Ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ki.newChangeBuffer({trackRemovals:!0});return function(o,a,l,c){const u=l.batch,d=u.keys();let h=R.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(a,f)).next(g=>{const v=l.docVersions.get(f);We(null!==v),g.version.compareTo(v)<0&&(u.applyToRemoteDocument(g,l),g.isValidDocument()&&(g.setReadTime(l.commitVersion),c.addEntry(g)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,u))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=yt();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}(n.localStore,e);Ox(n,r,null),Px(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield sa(n,i)}catch(i){yield Ra(i)}}),Rx.apply(this,arguments)}function Dfe(t,e,n){return kx.apply(this,arguments)}function kx(){return kx=(0,I.Z)(function*(t,e,n){const r=Ae(t);try{const i=yield function(s,o){const a=Ae(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let c;return a.mutationQueue.lookupMutationBatch(l,o).next(u=>(We(null!==u),c=u.keys(),a.mutationQueue.removeMutationBatch(l,u))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,c)).next(()=>a.localDocuments.getDocuments(l,c))})}(r.localStore,e);Ox(r,e,n),Px(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield sa(r,i)}catch(i){yield Ra(i)}}),kx.apply(this,arguments)}function Px(t,e){(t.hc.get(e)||[]).forEach(n=>{n.resolve()}),t.hc.delete(e)}function Ox(t,e,n){const r=Ae(t);let i=r.ac[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.ac[r.currentUser.toKey()]=i}}function bd(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ic.get(e))t.sc.delete(r),n&&t.nc.wc(r,n);t.ic.delete(e),t.isPrimaryClient&&t.cc.hs(e).forEach(r=>{t.cc.containsKey(r)||xH(t,r)})}function xH(t,e){t.rc.delete(e.path.canonicalString());const n=t.oc.get(e);null!==n&&(kp(t.remoteStore,n),t.oc=t.oc.remove(e),t.uc.delete(n),Lx(t))}function Fx(t,e,n){for(const r of n)r instanceof CH?(t.cc.addReference(r.key,e),Afe(t,r)):r instanceof TH?(ae("SyncEngine","Document no longer in limbo: "+r.key),t.cc.removeReference(r.key,e),t.cc.containsKey(r.key)||xH(t,r.key)):Ue()}function Afe(t,e){const n=e.key,r=n.path.canonicalString();t.oc.get(n)||t.rc.has(r)||(ae("SyncEngine","New document in limbo: "+n),t.rc.add(r),Lx(t))}function Lx(t){for(;t.rc.size>0&&t.oc.size<t.maxConcurrentLimboResolutions;){const e=t.rc.values().next().value;t.rc.delete(e);const n=new De(Vt.fromString(e)),r=t.lc.next();t.uc.set(r,new vfe(n)),t.oc=t.oc.insert(n,r),gv(t.remoteStore,new Va(si(od(n.path)),r,2,Ki.ct))}}function sa(t,e,n){return $x.apply(this,arguments)}function $x(){return $x=(0,I.Z)(function*(t,e,n){const r=Ae(t),i=[],s=[],o=[];var a;r.sc.isEmpty()||(r.sc.forEach((a,l)=>{o.push(r.dc(l,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,null!=c&&c.fromCache?"not-current":"current"),c){i.push(c);const u=jA.Di(l.targetId,c);s.push(u)}}))}),yield Promise.all(o),r.nc.zo(i),yield(a=(0,I.Z)(function*(l,c){const u=Ae(l);try{yield u.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>R.forEach(c,h=>R.forEach(h.Vi,f=>u.persistence.referenceDelegate.addReference(d,h.targetId,f)).next(()=>R.forEach(h.Si,f=>u.persistence.referenceDelegate.removeReference(d,h.targetId,f)))))}catch(d){if(!ka(d))throw d;ae("LocalStore","Failed to update sequence numbers: "+d)}for(const d of c){const h=d.targetId;if(!d.fromCache){const f=u.Li.get(h),v=f.withLastLimboFreeSnapshotVersion(f.snapshotVersion);u.Li=u.Li.insert(h,v)}}}),function(l,c){return a.apply(this,arguments)})(r.localStore,s))}),$x.apply(this,arguments)}function xfe(t,e){return Vx.apply(this,arguments)}function Vx(){return Vx=(0,I.Z)(function*(t,e){const n=Ae(t);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=yield rH(n.localStore,e);n.currentUser=e,(i=n).hc.forEach(o=>{o.forEach(a=>{a.reject(new ie(N.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.hc.clear(),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield sa(n,r.Qi)}var i}),Vx.apply(this,arguments)}function Mfe(t,e){const n=Ae(t),r=n.uc.get(e);if(r&&r.ec)return yt().add(r.key);{let i=yt();const s=n.ic.get(e);if(!s)return i;for(const o of s){const a=n.sc.get(o);i=i.unionWith(a.view.Qu)}return i}}class Zx{constructor(){this.synchronizeTabs=!1}initialize(e){var n=this;return(0,I.Z)(function*(){n.serializer=Mp(e.databaseInfo.databaseId),n.sharedClientState=n.createSharedClientState(e),n.persistence=n.createPersistence(e),yield n.persistence.start(),n.localStore=n.createLocalStore(e),n.gcScheduler=n.createGarbageCollectionScheduler(e,n.localStore),n.indexBackfillerScheduler=n.createIndexBackfillerScheduler(e,n.localStore)})()}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return function nH(t,e,n,r){return new Bhe(t,e,n,r)}(this.persistence,new tH,e.initialUser,this.serializer)}createPersistence(e){return new Jz(lv.Fs,this.serializer)}createSharedClientState(e){return new dH}terminate(){var e=this;return(0,I.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Cd{initialize(e,n){var r=this;return(0,I.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(n),r.remoteStore=r.createRemoteStore(n),r.eventManager=r.createEventManager(n),r.syncEngine=r.createSyncEngine(n,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>AH(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=xfe.bind(null,r.syncEngine),yield function gx(t,e){return mx.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new ffe}createDatastore(e){const n=Mp(e.databaseInfo.databaseId),r=new Yhe(e.databaseInfo);return new Jhe(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>AH(this.syncEngine,a,0),o=hH.D()?new hH:new qhe,new nfe(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(e,n){return function(r,i,s,o,a,l,c){const u=new Ife(r,i,s,o,a,l);return c&&(u.fc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return(e=(0,I.Z)(function*(n){const r=Ae(n);ae("RemoteStore","RemoteStore shutting down."),r.du.add(5),yield _d(r),r._u.shutdown(),r.mu.set("Unknown")}),function(n){return e.apply(this,arguments)})(this.remoteStore);var e}}class _v{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.gc(this.observer.next,e)}error(e){this.observer.error?this.gc(this.observer.error,e):jn("Uncaught Error in snapshot listener:",e.toString())}yc(){this.muted=!0}gc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}class jfe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=fr.UNAUTHENTICATED,this.clientId=lj.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=(0,I.Z)(function*(a){ae("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(ae("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return(0,I.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ie(N.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,I.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=Id(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function yv(t,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,I.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var i=(0,I.Z)(function*(s){r.isEqual(s)||(yield rH(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}),Yx.apply(this,arguments)}function Qx(t,e){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,I.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield function Jx(t){return eM.apply(this,arguments)}(t);ae("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(i=>IH(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,s)=>IH(e.remoteStore,s)),t._onlineComponents=e}),Xx.apply(this,arguments)}function eM(){return eM=(0,I.Z)(function*(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield yv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function OH(t){return"FirebaseError"===t.name?t.code===N.FAILED_PRECONDITION||t.code===N.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(n))throw n;ta("Error using user provided cache. Falling back to memory cache: "+n),yield yv(t,new Zx)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield yv(t,new Zx);return t._offlineComponents}),eM.apply(this,arguments)}function vv(t){return tM.apply(this,arguments)}function tM(){return tM=(0,I.Z)(function*(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield Qx(t,t._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield Qx(t,new Cd))),t._onlineComponents}),tM.apply(this,arguments)}function Td(t){return iM.apply(this,arguments)}function iM(){return iM=(0,I.Z)(function*(t){const e=yield vv(t),n=e.eventManager;return n.onListen=Efe.bind(null,e.syncEngine),n.onUnlisten=wfe.bind(null,e.syncEngine),n}),iM.apply(this,arguments)}const UH=new Map;function sM(t,e,n){if(!n)throw new ie(N.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function BH(t){if(!De.isDocumentKey(t))throw new ie(N.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function jH(t){if(De.isDocumentKey(t))throw new ie(N.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Ev(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Ue()}function Nt(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ie(N.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ev(t);throw new ie(N.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class HH{constructor(e){var n;if(void 0===e.host){if(void 0!==e.ssl)throw new ie(N.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ie(N.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function Qfe(t,e,n,r){if(!0===e&&!0===r)throw new ie(N.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Np{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new HH({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new ie(N.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ie(N.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new HH(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new Kue;switch(n.type){case"firstParty":return new Xue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ie(N.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=UH.get(e);n&&(ae("ComponentProvider","Removing Datastore"),UH.delete(e),n.terminate())}(this),Promise.resolve()}}class Gn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ho(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Gn(this.firestore,e,this._key)}}class kr{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new kr(this.firestore,e,this._query)}}class ho extends kr{constructor(e,n,r){super(e,n,od(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Gn(this.firestore,null,new De(e))}withConverter(e){return new ho(this.firestore,e,this._path)}}function Jfe(t,e,...n){if(t=en(t),sM("collection","path",e),t instanceof Np){const r=Vt.fromString(e,...n);return jH(r),new ho(t,null,r)}{if(!(t instanceof Gn||t instanceof ho))throw new ie(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return jH(r),new ho(t.firestore,null,r)}}function GH(t,e,...n){if(t=en(t),1===arguments.length&&(e=lj.A()),sM("doc","path",e),t instanceof Np){const r=Vt.fromString(e,...n);return BH(r),new Gn(t,null,new De(r))}{if(!(t instanceof Gn||t instanceof ho))throw new ie(N.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Vt.fromString(e,...n));return BH(r),new Gn(t.firestore,t instanceof ho?t.converter:null,new De(r))}}class epe{constructor(){this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new XA(this,"async_queue_retry"),this.qc=()=>{const n=pv();n&&ae("AsyncQueue","Visibility state changed to "+n.visibilityState),this.Co.vo()};const e=pv();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.qc)}get isShuttingDown(){return this.Oc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Uc(),this.Kc(e)}enterRestrictedMode(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;const n=pv();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.qc)}}enqueue(e){if(this.Uc(),this.Oc)return new Promise(()=>{});const n=new lr;return this.Kc(()=>this.Oc&&this.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.kc.push(e),this.Gc()))}Gc(){var e=this;return(0,I.Z)(function*(){if(0!==e.kc.length){try{yield e.kc[0](),e.kc.shift(),e.Co.reset()}catch(n){if(!ka(n))throw n;ae("AsyncQueue","Operation failed with retryable error: "+n)}e.kc.length>0&&e.Co.Ao(()=>e.Gc())}})()}Kc(e){const n=this.Nc.then(()=>(this.Fc=!0,e().catch(r=>{throw this.Mc=r,this.Fc=!1,jn("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Fc=!1,r))));return this.Nc=n,n}enqueueAfterDelay(e,n,r){this.Uc(),this.Lc.indexOf(e)>-1&&(n=0);const i=_x.createAndSchedule(this,e,n,r,s=>this.Qc(s));return this.$c.push(i),i}Uc(){this.Mc&&Ue()}verifyOperationInProgress(){}zc(){var e=this;return(0,I.Z)(function*(){let n;do{n=e.Nc,yield n}while(n!==e.Nc)})()}jc(e){for(const n of this.$c)if(n.timerId===e)return!0;return!1}Wc(e){return this.zc().then(()=>{this.$c.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.$c)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.zc()})}Hc(e){this.Lc.push(e)}Qc(e){const n=this.$c.indexOf(e);this.$c.splice(n,1)}}function oM(t){return function(e,n){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(t)}class gn extends Np{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new epe,this._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||qH(this),this._firestoreClient.terminate()}}function npe(t,e){const r="string"==typeof t?t:e||"(default)",i=wi("object"==typeof t?t:Js(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=b_("firestore");s&&function Xfe(t,e,n,r={}){var i;const s=(t=Nt(t,Np))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&ta("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if("string"==typeof r.mockUserToken)o=r.mockUserToken,a=fr.MOCK_USER;else{o=Xb(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new ie(N.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new fr(l)}t._authCredentials=new Zue(new oj(o,a))}}(i,...s)}return i}function er(t){return t._firestoreClient||qH(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function qH(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new xde(t._databaseId,a,t._persistenceKey,(c=i).host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,c.useFetchStreams));var a,c;t._firestoreClient=new jfe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class dc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new dc(cr.fromBase64String(e))}catch(n){throw new ie(N.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new dc(cr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Dd{constructor(...e){for(let n=0;n<e.length;++n)if(0===e[n].length)throw new ie(N.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class wv{constructor(e){this._methodName=e}}class aM{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ie(N.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ie(N.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}const ipe=/^__.*__$/;class spe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return null!==this.fieldMask?new ra(e,this.data,this.fieldMask,n,this.fieldTransforms):new cd(e,this.data,n,this.fieldTransforms)}}class YH{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ra(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QH(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ue()}}class bv{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.Jc(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Yc(){return this.settings.Yc}Zc(e){return new bv(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Xc(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.ea(e),i}na(e){var n;const r=null===(n=this.path)||void 0===n?void 0:n.child(e),i=this.Zc({path:r,ta:!1});return i.Jc(),i}sa(e){return this.Zc({path:void 0,ta:!0})}ia(e){return Tv(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}contains(e){return void 0!==this.fieldMask.find(n=>e.isPrefixOf(n))||void 0!==this.fieldTransforms.find(n=>e.isPrefixOf(n.field))}Jc(){if(this.path)for(let e=0;e<this.path.length;e++)this.ea(this.path.get(e))}ea(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(QH(this.Yc)&&ipe.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}class ope{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Mp(e)}ua(e,n,r,i=!1){return new bv({Yc:e,methodName:n,oa:r,path:zn.emptyPath(),ta:!1,ra:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Sd(t){const e=t._freezeSettings(),n=Mp(t._databaseId);return new ope(t._databaseId,!!e.ignoreUndefinedProperties,n)}function lM(t,e,n,r,i,s={}){const o=t.ua(s.merge||s.mergeFields?2:0,e,n,i);uM("Data must be an object, but it was:",o,r);const a=nG(r,o);let l,c;if(s.merge)l=new Si(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const u=[];for(const d of s.mergeFields){const h=Fp(e,d,n);if(!o.contains(h))throw new ie(N.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);iG(u,h)||u.push(h)}l=new Si(u),c=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,c=o.fieldTransforms;return new spe(new gr(a),l,c)}class Op extends wv{_toFieldTransform(e){if(2!==e.Yc)throw e.ia(1===e.Yc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Op}}class cM extends wv{_toFieldTransform(e){return new gp(e.path,new ad)}isEqual(e){return e instanceof cM}}function hc(t,e){if(rG(t=en(t)))return uM("Unsupported field value:",e,t),nG(t,e);if(t instanceof wv)return function(n,r){if(!QH(r.Yc))throw r.ia(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ia(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ta&&4!==e.Yc)throw e.ia("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=hc(o,r.sa(s));null==a&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(t,e)}return function(n,r){if(null===(n=en(n)))return{nullValue:"NULL_VALUE"};if("number"==typeof n)return Jj(r.serializer,n);if("boolean"==typeof n)return{booleanValue:n};if("string"==typeof n)return{stringValue:n};if(n instanceof Date){const i=En.fromDate(n);return{timestampValue:dd(r.serializer,i)}}if(n instanceof En){const i=new En(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dd(r.serializer,i)}}if(n instanceof aM)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof dc)return{bytesValue:_z(r.serializer,n._byteString)};if(n instanceof Gn){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r.ia(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:SA(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r.ia(`Unsupported field value: ${Ev(n)}`)}(t,e)}function nG(t,e){const n={};return wj(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zl(t,(r,i)=>{const s=hc(i,e.Xc(r));null!=s&&(n[r]=s)}),{mapValue:{fields:n}}}function rG(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof En||t instanceof aM||t instanceof dc||t instanceof Gn||t instanceof wv)}function uM(t,e,n){if(!rG(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Ev(n);throw e.ia("an object"===r?t+" a custom object":t+" "+r)}var r}function Fp(t,e,n){if((e=en(e))instanceof Dd)return e._internalPath;if("string"==typeof e)return Cv(t,e);throw Tv("Field path arguments must be of type string or ",t,!1,void 0,n)}const upe=new RegExp("[~\\*/\\[\\]]");function Cv(t,e,n){if(e.search(upe)>=0)throw Tv(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Dd(...e.split("."))._internalPath}catch{throw Tv(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Tv(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new ie(N.INVALID_ARGUMENT,a+t+l)}function iG(t,e){return t.some(n=>n.isEqual(e))}class dM{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Gn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dpe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Dv("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n)}}}class dpe extends dM{data(){return super.data()}}function Dv(t,e){return"string"==typeof e?Cv(t,e):e instanceof Dd?e._internalPath:e._delegate._internalPath}class fpe{convertValue(e,n="none"){switch(Xl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return On(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ue()}}convertObject(e,n){const r={};return Zl(e.fields,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new aM(On(e.latitude),On(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cj(e);return null==r?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(op(e));default:return null}}convertTimestamp(e){const n=Na(e);return new En(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Vt.fromString(e);We(Sz(r));const i=new Ql(r.get(1),r.get(3)),s=new De(r.popFirst(5));return i.isEqual(n)||jn(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}class fc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xd extends dM{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Mv(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Dv("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Mv extends xd{data(e={}){return super.data(e)}}class Md{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new fc(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Mv(this._firestore,this._userDataWriter,r.key,r,new fc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ie(N.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>({type:"added",doc:new Mv(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||3!==o.type).map(o=>{const a=new Mv(r._firestore,r._userDataWriter,o.doc.key,o.doc,new fc(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,c=-1;return 0!==o.type&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),1!==o.type&&(s=s.add(o.doc),c=s.indexOf(o.doc.key)),{type:gpe(o.type),doc:a,oldIndex:l,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function gpe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ue()}}class Ha extends fpe{constructor(e){super(),this.firestore=e}convertBytes(e){return new dc(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Gn(this.firestore,null,n)}}function mpe(t,e,n,...r){t=Nt(t,Gn);const i=Nt(t.firestore,gn),s=Sd(i);let o;return o="string"==typeof(e=en(e))||e instanceof Dd?function eG(t,e,n,r,i,s){const o=t.ua(1,e,n),a=[Fp(e,r,n)],l=[i];if(s.length%2!=0)throw new ie(N.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(Fp(e,s[h])),l.push(s[h+1]);const c=[],u=gr.empty();for(let h=a.length-1;h>=0;--h)if(!iG(c,a[h])){const f=a[h];let g=l[h];g=en(g);const v=o.na(f);if(g instanceof Op)c.push(f);else{const E=hc(g,v);null!=E&&(c.push(f),u.set(f,E))}}const d=new Si(c);return new YH(u,d,o.fieldTransforms)}(s,"updateDoc",t._key,e,n,r):function JH(t,e,n,r){const i=t.ua(1,e,n);uM("Data must be an object, but it was:",i,r);const s=[],o=gr.empty();Zl(r,(l,c)=>{const u=Cv(e,l,n);c=en(c);const d=i.na(u);if(c instanceof Op)s.push(u);else{const h=hc(c,d);null!=h&&(s.push(u),o.set(u,h))}});const a=new Si(s);return new YH(o,a,i.fieldTransforms)}(s,"updateDoc",t._key,e),$p(i,[o.toMutation(t._key,_n.exists(!0))])}function _pe(t){return $p(Nt(t.firestore,gn),[new ud(t._key,_n.none())])}function ype(t,e){const n=Nt(t.firestore,gn),r=GH(t),i=function fM(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return $p(n,[lM(Sd(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,_n.exists(!1))]).then(()=>r)}function $p(t,e){return function(n,r){const i=new lr;return n.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function bfe(t,e,n){return Ax.apply(this,arguments)}(yield function rM(t){return vv(t).then(e=>e.syncEngine)}(n),r,i)})),i.promise}(er(t),e)}function xpe(){return new cM("serverTimestamp")}!function(t,e=!0){ed=Ca,or(new Xn("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new gn(new Yue(n.getProvider("auth-internal")),new Jue(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new ie(N.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Ct(sj,"3.10.0",t),Ct(sj,"3.10.0","esm2017")}();var Mpe={includeMetadataChanges:!1};function gM(t,e){return void 0===e&&(e=Mpe),new ze(function(n){var r=function vpe(t,...e){var n,r,i;t=en(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||oM(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(oM(e[o])){const d=e[o];e[o]=null===(n=d.next)||void 0===n?void 0:n.bind(d),e[o+1]=null===(r=d.error)||void 0===r?void 0:r.bind(d),e[o+2]=null===(i=d.complete)||void 0===i?void 0:i.bind(d)}let l,c,u;if(t instanceof Gn)c=Nt(t.firestore,gn),u=od(t._key.path),l={next:d=>{e[o]&&e[o](function pM(t,e,n){const r=n.docs.get(e._key),i=new Ha(t);return new xd(t,i,e._key,r,new fc(n.hasPendingWrites,n.fromCache),e.converter)}(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=Nt(t,kr);c=Nt(d.firestore,gn),u=d._query;const h=new Ha(c);l={next:f=>{e[o]&&e[o](new Md(c,h,d,f))},error:e[o+1],complete:e[o+2]},function sG(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new ie(N.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query)}return function(d,h,f,g){const v=new _v(g),E=new bx(h,v,f);return d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function yx(t,e){return vx.apply(this,arguments)}(yield Td(d),E)})),()=>{v.yc(),d.asyncQueue.enqueueAndForget((0,I.Z)(function*(){return function Ix(t,e){return Ex.apply(this,arguments)}(yield Td(d),E)}))}}(er(c),u,a,l)}(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function kpe(t,e){return void 0===e&&(e={}),function Rpe(t){return gM(t,{includeMetadataChanges:!0})}(t).pipe(D(function(n){return fG(n,e)}))}function fG(t,e){void 0===e&&(e={});var n=t.data();return!t.exists()||"object"!=typeof n||null===n||e.idField&&(n[e.idField]=t.id),n}function $pe(t,e){return void 0===e&&(e={}),function Lpe(t){return gM(t,{includeMetadataChanges:!0}).pipe(D(function(e){return e.docs}))}(t).pipe(D(function(n){return n.map(function(r){return fG(r,e)})}))}class kv{constructor(e){return e}}const _G="firestore",yM=new Fe("angularfire2.firestore-instances");function Bpe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new kv(r)}}const jpe={provide:class Vpe{constructor(){return to(_G)}},deps:[[new Mt,yM]]},zpe={provide:kv,useFactory:function Upe(t,e){const n=eo(_G,t,e);return n&&new kv(n)},deps:[[new Mt,yM],Gi]};let Hpe=(()=>{class t{constructor(){Ct("angularfire",Hi.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[zpe,jpe]}),t})();function Gpe(t,...e){return{ngModule:Hpe,providers:[{provide:yM,useFactory:Bpe(t),multi:!0,deps:[q,zt,no,ro,[new Mt,Ff],[new Mt,qu],...e]}]}}const yG=Un($pe,!0),Wpe=Un(kpe,!0),vG=Un(ype,!0),Nv=Un(Jfe,!0),IG=Un(_pe,!0),Vp=Un(GH,!0),qpe=Un(npe,!0),EG=Un(xpe,!0),wG=Un(mpe,!0);let Kpe=(()=>{class t{constructor(n){this.firestore=n}createPost(){}getPosts(){const n=Nv(this.firestore,"posts");return yG(n,{idField:"id"})}getPostById(n){const r=Vp(this.firestore,`posts/${n}`);return Wpe(r,{idField:"id"})}addPost(n){const r=Nv(this.firestore,"posts");return vG(r,{...n,createdAt:new Date,updatedAt:EG()})}deletePost(n){const r=Vp(this.firestore,`posts/${n}`);return IG(r)}updatePost(n,r){const i=Vp(this.firestore,`posts/${n.id}`);return wG(i,{...r,updatedAt:EG()})}getNotif(){const n=Nv(this.firestore,"notifications");return yG(n,{idField:"id"})}addNotif(n){const r=Nv(this.firestore,"notifications");return vG(r,{...n,createdAt:new Date})}updateNotif(n,r){const i=Vp(this.firestore,`notifications/${n.id}`);return wG(i,r)}deleteNotif(n){const r=Vp(this.firestore,`notifications/${n}`);return IG(r)}}return t.\u0275fac=function(n){return new(n||t)(Ne(kv))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const{isArray:Zpe}=Array,{getPrototypeOf:Ype,prototype:Qpe,keys:Xpe}=Object;function bG(t){if(1===t.length){const e=t[0];if(Zpe(e))return{args:e,keys:null};if(function Jpe(t){return t&&"object"==typeof t&&Ype(t)===Qpe}(e)){const n=Xpe(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:ege}=Array;function vM(t){return D(e=>function tge(t,e){return ege(e)?t(...e):t(e)}(t,e))}function CG(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}let TG=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return t.\u0275fac=function(n){return new(n||t)(p(Mo),p(re))},t.\u0275dir=Ke({type:t}),t})(),pc=(()=>{class t extends TG{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Cr(t)))(r||t)}}(),t.\u0275dir=Ke({type:t,features:[$t]}),t})();const oi=new Fe("NgValueAccessor"),ige={provide:oi,useExisting:w(()=>IM),multi:!0},oge=new Fe("CompositionEventMode");let IM=(()=>{class t extends TG{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sge(){const t=Fo()?Fo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(n){this.setProperty("value",null==n?"":n)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return t.\u0275fac=function(n){return new(n||t)(p(Mo),p(re),p(oge,8))},t.\u0275dir=Ke({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&Yt("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[Qt([ige]),$t]}),t})();const age=!1,Wr=new Fe("NgValidators"),Wa=new Fe("NgAsyncValidators");function FG(t){return null!=t}function LG(t){const e=Kh(t)?nn(t):t;if(age&&!Fw(e)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof t&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new T(-1101,n)}return e}function $G(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function VG(t,e){return e.map(n=>n(t))}function UG(t){return t.map(e=>function cge(t){return!t.validate}(e)?e:n=>e.validate(n))}function EM(t){return null!=t?function BG(t){if(!t)return null;const e=t.filter(FG);return 0==e.length?null:function(n){return $G(VG(n,e))}}(UG(t)):null}function wM(t){return null!=t?function jG(t){if(!t)return null;const e=t.filter(FG);return 0==e.length?null:function(n){return function nge(...t){const e=_l(t),{args:n,keys:r}=bG(t),i=new ze(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let l=o,c=o;for(let u=0;u<o;u++){let d=!1;Tn(n[u]).subscribe(st(s,h=>{d||(d=!0,c--),a[u]=h},()=>l--,void 0,()=>{(!l||!d)&&(c||s.next(r?CG(r,a):a),s.complete())}))}});return e?i.pipe(vM(e)):i}(VG(n,e).map(LG)).pipe(D($G))}}(UG(t)):null}function zG(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function bM(t){return t?Array.isArray(t)?t:[t]:[]}function Ov(t,e){return Array.isArray(t)?t.includes(e):t===e}function WG(t,e){const n=bM(e);return bM(t).forEach(i=>{Ov(n,i)||n.push(i)}),n}function qG(t,e){return bM(e).filter(n=>!Ov(t,n))}class KG{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=EM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=wM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class ai extends KG{get formDirective(){return null}get path(){return null}}class oa extends KG{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ZG{constructor(e){this._cd=e}get isTouched(){var e,n;return!(null===(e=this._cd)||void 0===e||null===(n=e.control)||void 0===n||!n.touched)}get isUntouched(){var e,n;return!(null===(e=this._cd)||void 0===e||null===(n=e.control)||void 0===n||!n.untouched)}get isPristine(){var e,n;return!(null===(e=this._cd)||void 0===e||null===(n=e.control)||void 0===n||!n.pristine)}get isDirty(){var e,n;return!(null===(e=this._cd)||void 0===e||null===(n=e.control)||void 0===n||!n.dirty)}get isValid(){var e,n;return!(null===(e=this._cd)||void 0===e||null===(n=e.control)||void 0===n||!n.valid)}get isInvalid(){var e,n;return!(null===(e=this._cd)||void 0===e||null===(n=e.control)||void 0===n||!n.invalid)}get isPending(){var e,n;return!(null===(e=this._cd)||void 0===e||null===(n=e.control)||void 0===n||!n.pending)}get isSubmitted(){var e;return!(null===(e=this._cd)||void 0===e||!e.submitted)}}let YG=(()=>{class t extends ZG{constructor(n){super(n)}}return t.\u0275fac=function(n){return new(n||t)(p(oa,2))},t.\u0275dir=Ke({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Bm("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[$t]}),t})();const Up="VALID",Lv="INVALID",Rd="PENDING",Bp="DISABLED";function $v(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class eW{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Up}get invalid(){return this.status===Lv}get pending(){return this.status==Rd}get disabled(){return this.status===Bp}get enabled(){return this.status!==Bp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(WG(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(WG(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(qG(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(qG(e,this._rawAsyncValidators))}hasValidator(e){return Ov(this._rawValidators,e)}hasAsyncValidator(e){return Ov(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Rd,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Bp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=Up,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Up||this.status===Rd)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Bp:Up}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Rd,this._hasOwnPendingAsyncValidator=!0;const n=LG(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new rn,this.statusChanges=new rn}_calculateStatus(){return this._allControlsDisabled()?Bp:this.errors?Lv:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Rd)?Rd:this._anyControlsHaveStatus(Lv)?Lv:Up}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){$v(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function _ge(t){return Array.isArray(t)?EM(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function yge(t){return Array.isArray(t)?wM(t):t||null}(this._rawAsyncValidators)}}const kd=new Fe("CallSetDisabledState",{providedIn:"root",factory:()=>Vv}),Vv="always";function jp(t,e,n=Vv){var r,i;(function MM(t,e){const n=function HG(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(zG(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function GG(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(zG(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();jv(e._rawValidators,i),jv(e._rawAsyncValidators,i)})(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&(null===(r=(i=e.valueAccessor).setDisabledState)||void 0===r||r.call(i,t.disabled)),function Ege(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&tW(t,e)})}(t,e),function bge(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function wge(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&tW(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Ige(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function jv(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function tW(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function iW(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function sW(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const oW=class extends eW{constructor(e=null,n,r){super(function SM(t){return($v(t)?t.validators:t)||null}(n),function AM(t,e){return($v(e)?e.asyncValidators:t)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),$v(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=sW(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){iW(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){iW(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){sW(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},Rge={provide:oa,useExisting:w(()=>OM)},cW=(()=>Promise.resolve())();let OM=(()=>{class t extends oa{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new oW,this._registered=!1,this.update=new rn,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function NM(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===IM?n=s:function Dge(t){return Object.getPrototypeOf(t.constructor)===pc}(s)?r=s:i=s}),i||r||n||null}(0,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){const r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),function kM(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){jp(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(n){cW.then(()=>{var r;this.control.setValue(n,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(n){const r=n.isDisabled.currentValue,i=0!==r&&function Lu(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(r);cW.then(()=>{var s;i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(n){return this._parent?function Uv(t,e){return[...e.path,t]}(n,this._parent):[n]}}return t.\u0275fac=function(n){return new(n||t)(p(ai,9),p(Wr,10),p(Wa,10),p(oi,10),p(me,8),p(kd,8))},t.\u0275dir=Ke({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qt([Rge]),$t,_i]}),t})(),dW=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({}),t})(),nme=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({imports:[dW]}),t})(),ime=(()=>{class t{static withConfig(n){var r;return{ngModule:t,providers:[{provide:kd,useValue:null!==(r=n.callSetDisabledState)&&void 0!==r?r:Vv}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({imports:[nme]}),t})();const sme=["addListener","removeListener"],ome=["addEventListener","removeEventListener"],ame=["on","off"];function jM(t,e,n,r){if(L(n)&&(r=n,n=void 0),r)return jM(t,e,n).pipe(vM(r));const[i,s]=function ume(t){return L(t.addEventListener)&&L(t.removeEventListener)}(t)?ome.map(o=>a=>t[o](e,a,n)):function lme(t){return L(t.addListener)&&L(t.removeListener)}(t)?sme.map(xW(t,e)):function cme(t){return L(t.on)&&L(t.off)}(t)?ame.map(xW(t,e)):[];if(!i&&gl(t))return Dn(o=>jM(o,e,n))(Tn(t));if(!i)throw new TypeError("Invalid event target");return new ze(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return i(a),()=>s(a)})}function xW(t,e){return n=>r=>t[n](e,r)}class Zi extends Q{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function Je(...t){return nn(t,Bs(t))}const Hv=Ye(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function MW(...t){const e=Bs(t),n=_l(t),{args:r,keys:i}=bG(t);if(0===r.length)return nn([],e);const s=new ze(function dme(t,e,n=G){return r=>{RW(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let l=0;l<i;l++)RW(e,()=>{const c=nn(t[l],e);let u=!1;c.subscribe(st(r,d=>{s[l]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>CG(i,o):G));return n?s.pipe(vM(n)):s}function RW(t,e,n){t?Pi(n,t,e):e()}function zM(...t){return function hme(){return ts(1)}()(nn(t,Bs(t)))}function kW(t){return new ze(e=>{Tn(t()).subscribe(e)})}function Hp(t,e){const n=L(t)?t:()=>t,r=i=>i.error(n());return new ze(e?i=>e.schedule(r,0,i):r)}function HM(){return Le((t,e)=>{let n=null;t._refCount++;const r=st(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class NW extends ze{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,rt(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Pe;const n=this.getSubject();e.add(this.source.subscribe(st(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Pe.EMPTY)}return e}refCount(){return HM()(this)}}function Mi(t,e){return Le((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(st(r,l=>{null==i||i.unsubscribe();let c=0;const u=s++;Tn(t(l,u)).subscribe(i=st(r,d=>r.next(e?e(l,d,u,c++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Gp(t){return t<=0?()=>Sn:Le((e,n)=>{let r=0;e.subscribe(st(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function PW(...t){const e=Bs(t);return Le((n,r)=>{(e?zM(t,n,e):zM(t,n)).subscribe(r)})}function ps(t,e){return Le((n,r)=>{let i=0;n.subscribe(st(r,s=>t.call(e,s,i++)&&r.next(s)))})}function Gv(t){return Le((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function OW(t=fme){return Le((e,n)=>{let r=!1;e.subscribe(st(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function fme(){return new Hv}function qa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ps((i,s)=>t(i,s,r)):G,Gp(1),n?Gv(e):OW(()=>new Hv))}function mc(t,e){return L(e)?Dn(t,e,1):Dn(t,1)}function Ka(t){return Le((e,n)=>{let s,r=null,i=!1;r=e.subscribe(st(n,void 0,void 0,o=>{s=Tn(t(o,Ka(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function FW(t,e){return Le(function pme(t,e,n,r,i){return(s,o)=>{let a=n,l=e,c=0;s.subscribe(st(o,u=>{const d=c++;l=a?t(l,u,d):(a=!0,u),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}(t,e,arguments.length>=2,!0))}function GM(t){return t<=0?()=>Sn:Le((e,n)=>{let r=[];e.subscribe(st(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function LW(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ps((i,s)=>t(i,s,r)):G,GM(1),n?Gv(e):OW(()=>new Hv))}function WM(t){return Le((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}const pt="primary",Wp=Symbol("RouteTitle");class _me{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Nd(t){return new _me(t)}function yme(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function fo(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!$W(t[i],e[i]))return!1;return!0}function $W(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function VW(t){return Array.prototype.concat.apply([],t)}function UW(t){return t.length>0?t[t.length-1]:null}function Nr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Za(t){return Fw(t)?t:Kh(t)?nn(Promise.resolve(t)):Je(t)}const Wv=!1,Ime={exact:function zW(t,e,n){if(!_c(t.segments,e.segments)||!qv(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!zW(t.children[r],e.children[r],n))return!1;return!0},subset:HW},BW={exact:function Eme(t,e){return fo(t,e)},subset:function wme(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>$W(t[n],e[n]))},ignored:()=>!0};function jW(t,e,n){return Ime[n.paths](t.root,e.root,n.matrixParams)&&BW[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function HW(t,e,n){return GW(t,e,e.segments,n)}function GW(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!_c(i,n)||e.hasChildren()||!qv(i,n,r))}if(t.segments.length===n.length){if(!_c(t.segments,n)||!qv(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!HW(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(_c(t.segments,i)&&qv(t.segments,i,r)&&t.children[pt])&&GW(t.children[pt],e,s,r)}}function qv(t,e,n){return e.every((r,i)=>BW[n](t[i].parameters,r.parameters))}class Ya{constructor(e=new St([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nd(this.queryParams)),this._queryParamMap}toString(){return Tme.serialize(this)}}class St{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Nr(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Kv(this)}}class qp{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Nd(this.parameters)),this._parameterMap}toString(){return KW(this)}}function _c(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Pd=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:function(){return new qM},providedIn:"root"}),t})();class qM{parse(e){const n=new Pme(e);return new Ya(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Kp(e.root,!0)}`,r=function Ame(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${Zv(n)}=${Zv(i)}`).join("&"):`${Zv(n)}=${Zv(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams),i="string"==typeof e.fragment?`#${function Dme(t){return encodeURI(t)}(e.fragment)}`:"";return`${n}${r}${i}`}}const Tme=new qM;function Kv(t){return t.segments.map(e=>KW(e)).join("/")}function Kp(t,e){if(!t.hasChildren())return Kv(t);if(e){const n=t.children[pt]?Kp(t.children[pt],!1):"",r=[];return Nr(t.children,(i,s)=>{s!==pt&&r.push(`${s}:${Kp(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Cme(t,e){let n=[];return Nr(t.children,(r,i)=>{i===pt&&(n=n.concat(e(r,i)))}),Nr(t.children,(r,i)=>{i!==pt&&(n=n.concat(e(r,i)))}),n}(t,(r,i)=>i===pt?[Kp(t.children[pt],!1)]:[`${i}:${Kp(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[pt]?`${Kv(t)}/${n[0]}`:`${Kv(t)}/(${n.join("//")})`}}function WW(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Zv(t){return WW(t).replace(/%3B/gi,";")}function KM(t){return WW(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Yv(t){return decodeURIComponent(t)}function qW(t){return Yv(t.replace(/\+/g,"%20"))}function KW(t){return`${KM(t.path)}${function Sme(t){return Object.keys(t).map(e=>`;${KM(e)}=${KM(t[e])}`).join("")}(t.parameters)}`}const xme=/^[^\/()?;=#]+/;function Qv(t){const e=t.match(xme);return e?e[0]:""}const Mme=/^[^=?&#]+/,kme=/^[^&#]+/;class Pme{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new St([],{}):new St([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[pt]=new St(e,n)),r}parseSegment(){const e=Qv(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new T(4009,Wv);return this.capture(e),new qp(Yv(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=Qv(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Qv(this.remaining);i&&(r=i,this.capture(r))}e[Yv(n)]=Yv(r)}parseQueryParam(e){const n=function Rme(t){const e=t.match(Mme);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Nme(t){const e=t.match(kme);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=qW(n),s=qW(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qv(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new T(4010,Wv);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=pt);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[pt]:new St([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new T(4011,Wv)}}function ZM(t){return t.segments.length>0?new St([],{[pt]:t}):t}function Xv(t){const e={};for(const r of Object.keys(t.children)){const s=Xv(t.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Ome(t){if(1===t.numberOfChildren&&t.children[pt]){const e=t.children[pt];return new St(t.segments.concat(e.segments),e.children)}return t}(new St(t.segments,e))}function yc(t){return t instanceof Ya}const YM=!1;function Fme(t,e,n,r,i){var s;if(0===n.length)return Od(e.root,e.root,e.root,r,i);const o=function JW(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new XW(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Nr(s.outlets,(l,c)=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new XW(n,e,r)}(n);return o.toRoot()?Od(e.root,e.root,new St([],{}),r,i):function a(c){var u;const d=function $me(t,e,n,r){if(t.isAbsolute)return new Fd(e.root,!0,0);if(-1===r)return new Fd(n,n===e.root,0);return function e3(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new T(4005,YM&&"Invalid number of '../'");i=r.segments.length}return new Fd(r,!1,i-s)}(n,r+(Zp(t.commands[0])?0:1),t.numberOfDoubleDots)}(o,e,null===(u=t.snapshot)||void 0===u?void 0:u._urlSegment,c),h=d.processChildren?Ld(d.segmentGroup,d.index,o.commands):QM(d.segmentGroup,d.index,o.commands);return Od(e.root,d.segmentGroup,h,r,i)}(null===(s=t.snapshot)||void 0===s?void 0:s._lastPathIndex)}function Zp(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Yp(t){return"object"==typeof t&&null!=t&&t.outlets}function Od(t,e,n,r,i){let o,s={};r&&Nr(r,(l,c)=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:QW(t,e,n);const a=ZM(Xv(o));return new Ya(a,s,i)}function QW(t,e,n){const r={};return Nr(t.children,(i,s)=>{r[s]=i===e?n:QW(i,e,n)}),new St(t.segments,r)}class XW{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Zp(r[0]))throw new T(4003,YM&&"Root segment cannot have matrix parameters");const i=r.find(Yp);if(i&&i!==UW(r))throw new T(4004,YM&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Fd{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function QM(t,e,n){if(t||(t=new St([],{})),0===t.segments.length&&t.hasChildren())return Ld(t,e,n);const r=function Ume(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(Yp(a))break;const l=`${a}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===l)break;if(l&&c&&"object"==typeof c&&void 0===c.outlets){if(!n3(l,c,o))return s;r+=2}else{if(!n3(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new St(t.segments.slice(0,r.pathIndex),{});return s.children[pt]=new St(t.segments.slice(r.pathIndex),t.children),Ld(s,0,i)}return r.match&&0===i.length?new St(t.segments,{}):r.match&&!t.hasChildren()?XM(t,e,n):r.match?Ld(t,0,i):XM(t,e,n)}function Ld(t,e,n){if(0===n.length)return new St(t.segments,{});{const r=function Vme(t){return Yp(t[0])?t[0].outlets:{[pt]:t}}(n),i={};return!r[pt]&&t.children[pt]&&1===t.numberOfChildren&&0===t.children[pt].segments.length?Ld(t.children[pt],e,n):(Nr(r,(s,o)=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=QM(t.children[o],e,s))}),Nr(t.children,(s,o)=>{void 0===r[o]&&(i[o]=s)}),new St(t.segments,i))}}function XM(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Yp(s)){const l=Bme(s.outlets);return new St(r,l)}if(0===i&&Zp(n[0])){r.push(new qp(t.segments[e].path,t3(n[0]))),i++;continue}const o=Yp(s)?s.outlets[pt]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Zp(a)?(r.push(new qp(o,t3(a))),i+=2):(r.push(new qp(o,{})),i++)}return new St(r,{})}function Bme(t){const e={};return Nr(t,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(e[r]=XM(new St([],{}),0,n))}),e}function t3(t){const e={};return Nr(t,(n,r)=>e[r]=`${n}`),e}function n3(t,e,n){return t==n.path&&fo(e,n.parameters)}const Qp="imperative";class po{constructor(e,n){this.id=e,this.url=n}}class Jv extends po{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vc extends po{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eI extends po{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tI extends po{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class JM extends po{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class jme extends po{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zme extends po{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hme extends po{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gme extends po{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wme extends po{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qme{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Kme{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zme{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yme{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qme{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class r3{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i3{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let e_e=(()=>{class t{createUrlTree(n,r,i,s,o,a){return Fme(n||r.root,i,s,o,a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})(),n_e=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:function(e){return e_e.\u0275fac(e)},providedIn:"root"}),t})();class s3{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=eR(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=eR(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=tR(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return tR(e,this._root).map(n=>n.value)}}function eR(t,e){if(t===e.value)return e;for(const n of e.children){const r=eR(t,n);if(r)return r}return null}function tR(t,e){if(t===e.value)return[e];for(const n of e.children){const r=tR(t,n);if(r.length)return r.unshift(e),r}return[]}class aa{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function $d(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class o3 extends s3{constructor(e,n){super(e),this.snapshot=n,nR(this,e)}toString(){return this.snapshot.toString()}}function a3(t,e){const n=function r_e(t,e){const o=new nI([],{},{},"",{},pt,e,null,t.root,-1,{});return new c3("",new aa(o,[]))}(t,e),r=new Zi([new qp("",{})]),i=new Zi({}),s=new Zi({}),o=new Zi({}),a=new Zi(""),l=new la(r,i,o,a,s,pt,e,n.root);return l.snapshot=n.root,new o3(new aa(l,[]),n)}class la{constructor(e,n,r,i,s,o,a,l){var c,u;this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.title=null!==(c=null===(u=this.data)||void 0===u?void 0:u.pipe(D(d=>d[Wp])))&&void 0!==c?c:Je(void 0),this._futureSnapshot=l}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(D(e=>Nd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(D(e=>Nd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function l3(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function i_e(t){return t.reduce((e,n)=>{var r;return{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...null===(r=n.routeConfig)||void 0===r?void 0:r.data,...n._resolvedData}}},{params:{},data:{},resolve:{}})}(n.slice(r))}class nI{get title(){var e;return null===(e=this.data)||void 0===e?void 0:e[Wp]}constructor(e,n,r,i,s,o,a,l,c,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Nd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Nd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class c3 extends s3{constructor(e,n){super(n),this.url=e,nR(this,n)}toString(){return u3(this._root)}}function nR(t,e){e.value._routerState=t,e.children.forEach(n=>nR(t,n))}function u3(t){const e=t.children.length>0?` { ${t.children.map(u3).join(", ")} } `:"";return`${t.value}${e}`}function rR(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,fo(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),fo(e.params,n.params)||t.params.next(n.params),function vme(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!fo(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),fo(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function iR(t,e){const n=fo(t.params,e.params)&&function bme(t,e){return _c(t,e)&&t.every((n,r)=>fo(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||iR(t.parent,e.parent))}function Xp(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function o_e(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Xp(t,r,i);return Xp(t,r)})}(t,e,n);return new aa(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Xp(t,a)),o}}const r=function a_e(t){return new la(new Zi(t.url),new Zi(t.params),new Zi(t.queryParams),new Zi(t.fragment),new Zi(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Xp(t,s));return new aa(r,i)}}const sR="ngNavigationCancelingError";function d3(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=yc(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=h3(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function h3(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[sR]=!0,r.cancellationCode=e,n&&(r.url=n),r}function f3(t){return p3(t)&&yc(t.url)}function p3(t){return t&&t[sR]}class l_e{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ic,this.attachRef=null}}let Ic=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new l_e,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const rI=!1;let g3=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=pt,this.activateEvents=new rn,this.deactivateEvents=new rn,this.attachEvents=new rn,this.detachEvents=new rn,this.parentContexts=at(Ic),this.location=at(us),this.changeDetector=at(me),this.environmentInjector=at(Bi)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){var r;return(null===(r=this.parentContexts.getContext(n))||void 0===r?void 0:r.outlet)===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);null!=n&&n.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new T(4012,rI);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new T(4012,rI);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new T(4012,rI);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new T(4013,rI);this._activatedRoute=n;const i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new c_e(n,a,i.injector);if(r&&function u_e(t){return!!t.resolveComponentFactory}(r)){const c=r.resolveComponentFactory(o);this.activated=i.createComponent(c,i.length,l)}else this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:null!=r?r:this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=Ke({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[_i]}),t})();class c_e{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===la?this.route:e===Ic?this.childContexts:this.parent.get(e,n)}}let iI=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fe({type:t,selectors:[["ng-component"]],standalone:!0,features:[WF],decls:1,vars:0,template:function(n,r){1&n&&cs(0,"router-outlet")},dependencies:[g3],encapsulation:2}),t})();function m3(t,e){var n;return t.providers&&!t._injector&&(t._injector=Km(t.providers,e,`Route: ${t.path}`)),null!==(n=t._injector)&&void 0!==n?n:e}function aR(t){const e=t.children&&t.children.map(aR),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==pt&&(n.component=iI),n}function gs(t){return t.outlet||pt}function _3(t,e){const n=t.filter(r=>gs(r)===e);return n.push(...t.filter(r=>gs(r)!==e)),n}function Jp(t){var e;if(!t)return null;if(null!==(e=t.routeConfig)&&void 0!==e&&e._injector)return t.routeConfig._injector;for(let n=t.parent;n;n=n.parent){const r=n.routeConfig;if(null!=r&&r._loadedInjector)return r._loadedInjector;if(null!=r&&r._injector)return r._injector}return null}class g_e{constructor(e,n,r,i){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),rR(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=$d(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Nr(i,(s,o)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$d(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=$d(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,n,r){const i=$d(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new r3(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Yme(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(rR(i),i===s)if(i.component){const a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,a.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),rR(l.route.value),this.activateChildRoutes(e,null,a.children)}else{var o;const l=Jp(i.snapshot),c=null!==(o=null==l?void 0:l.get(hu))&&void 0!==o?o:null;a.attachRef=null,a.route=i,a.resolver=c,a.injector=l,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}}else this.activateChildRoutes(e,null,r)}}class y3{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class sI{constructor(e,n){this.component=e,this.route=n}}function m_e(t,e,n){const r=t._root;return eg(r,e?e._root:null,n,[r.value])}function Vd(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function q8(t){return null!==Wg(t)}(t)?e.get(t):t:r}function eg(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=$d(e);return t.children.forEach(o=>{(function y_e(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function v_e(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!_c(t.url,e.url);case"pathParamsOrQueryParamsChange":return!_c(t.url,e.url)||!fo(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!iR(t,e)||!fo(t.queryParams,e.queryParams);default:return!iR(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new y3(r)):(s.data=o.data,s._resolvedData=o._resolvedData),eg(t,e,s.component?a?a.children:null:n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new sI(a.outlet.component,o))}else o&&tg(e,a,i),i.canActivateChecks.push(new y3(r)),eg(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Nr(s,(o,a)=>tg(o,n.getContext(a),i)),i}function tg(t,e,n){const r=$d(t),i=t.value;Nr(r,(s,o)=>{tg(s,i.component?e?e.children.getContext(o):null:e,n)}),n.canDeactivateChecks.push(new sI(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ng(t){return"function"==typeof t}function lR(t){return t instanceof Hv||"EmptyError"===(null==t?void 0:t.name)}const oI=Symbol("INITIAL_VALUE");function Ud(){return Mi(t=>MW(t.map(e=>e.pipe(Gp(1),PW(oI)))).pipe(D(e=>{for(const n of e)if(!0!==n){if(n===oI)return oI;if(!1===n||n instanceof Ya)return n}return!0}),ps(e=>e!==oI),Gp(1)))}function v3(t){return function _e(...t){return et(t)}(Sr(e=>{if(yc(e))throw d3(0,e)}),D(e=>!0===e))}const cR={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function I3(t,e,n,r,i){const s=uR(t,e,n);return s.matched?function F_e(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?Je(i.map(o=>{const a=Vd(o,t);return Za(function T_e(t){return t&&ng(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ud(),v3()):Je(!0)}(r=m3(e,r),e,n).pipe(D(o=>!0===o?s:{...cR})):Je(s)}function uR(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...cR}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const s=(e.matcher||yme)(n,t,e);if(!s)return{...cR};const o={};Nr(s.posParams,(l,c)=>{o[c]=l.path});const a=s.consumed.length>0?{...o,...s.consumed[s.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:s.consumed,remainingSegments:n.slice(s.consumed.length),parameters:a,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function aI(t,e,n,r){if(n.length>0&&function V_e(t,e,n){return n.some(r=>lI(t,e,r)&&gs(r)!==pt)}(t,n,r)){const s=new St(e,function $_e(t,e,n,r){const i={};i[pt]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&gs(s)!==pt){const o=new St([],{});o._sourceSegment=t,o._segmentIndexShift=e.length,i[gs(s)]=o}return i}(t,e,r,new St(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function U_e(t,e,n){return n.some(r=>lI(t,e,r))}(t,n,r)){const s=new St(t.segments,function L_e(t,e,n,r,i){const s={};for(const o of r)if(lI(t,n,o)&&!i[gs(o)]){const a=new St([],{});a._sourceSegment=t,a._segmentIndexShift=e.length,s[gs(o)]=a}return{...i,...s}}(t,e,n,r,t.children));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const i=new St(t.segments,t.children);return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:n}}function lI(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function E3(t,e,n,r){return!!(gs(t)===r||r!==pt&&lI(e,n,t))&&("**"===t.path||uR(e,t,n).matched)}function w3(t,e,n){return 0===e.length&&!t.children[n]}const cI=!1;class uI{constructor(e){this.segmentGroup=e||null}}class b3{constructor(e){this.urlTree=e}}function rg(t){return Hp(new uI(t))}function C3(t){return Hp(new b3(t))}function B_e(t){return Hp(new T(4e3,cI&&`Only absolute redirects can have named outlets. redirectTo: '${t}'`))}class H_e{constructor(e,n,r,i,s){this.injector=e,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=s,this.allowRedirects=!0}apply(){const e=aI(this.urlTree.root,[],[],this.config).segmentGroup,n=new St(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,n,pt).pipe(D(s=>this.createUrlTree(Xv(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ka(s=>{if(s instanceof b3)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof uI?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,pt).pipe(D(i=>this.createUrlTree(Xv(i),e.queryParams,e.fragment))).pipe(Ka(i=>{throw i instanceof uI?this.noMatchError(i):i}))}noMatchError(e){return new T(4002,cI&&`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,n,r){const i=ZM(e);return new Ya(i,n,r)}expandSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,n,r).pipe(D(s=>new St([],s))):this.expandSegment(e,r,n,r.segments,i,!0)}expandChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return nn(i).pipe(mc(s=>{const o=r.children[s],a=_3(n,s);return this.expandSegmentGroup(e,a,o,s).pipe(D(l=>({segment:l,outlet:s})))}),FW((s,o)=>(s[o.outlet]=o.segment,s),{}),LW())}expandSegment(e,n,r,i,s,o){return nn(r).pipe(mc(a=>this.expandSegmentAgainstRoute(e,n,r,a,i,s,o).pipe(Ka(c=>{if(c instanceof uI)return Je(null);throw c}))),qa(a=>!!a),Ka((a,l)=>{if(lR(a))return w3(n,i,s)?Je(new St([],{})):rg(n);throw a}))}expandSegmentAgainstRoute(e,n,r,i,s,o,a){return E3(i,n,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,n,i,s,o):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o):rg(n):rg(n)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?C3(s):this.lineralizeSegments(r,s).pipe(Dn(o=>{const a=new St(o,{});return this.expandSegment(e,a,n,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:l,remainingSegments:c,positionalParamSegments:u}=uR(n,i,s);if(!a)return rg(n);const d=this.applyRedirectCommands(l,i.redirectTo,u);return i.redirectTo.startsWith("/")?C3(d):this.lineralizeSegments(i,d).pipe(Dn(h=>this.expandSegment(e,n,r,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s){return"**"===r.path?(e=m3(r,e),r.loadChildren?(r._loadedRoutes?Je({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe(D(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new St(i,{})))):Je(new St(i,{}))):I3(n,r,i,e).pipe(Mi(({matched:o,consumedSegments:a,remainingSegments:l})=>{var c;return o?(e=null!==(c=r._injector)&&void 0!==c?c:e,this.getChildConfig(e,r,i).pipe(Dn(d=>{var h;const f=null!==(h=d.injector)&&void 0!==h?h:e,g=d.routes,{segmentGroup:v,slicedSegments:E}=aI(n,a,l,g),A=new St(v.segments,v.children);if(0===E.length&&A.hasChildren())return this.expandChildren(f,g,A).pipe(D(je=>new St(a,je)));if(0===g.length&&0===E.length)return Je(new St(a,{}));const U=gs(r)===s;return this.expandSegment(f,A,g,E,U?pt:s,!0).pipe(D(oe=>new St(a.concat(oe.segments),oe.children)))}))):rg(n)}))}getChildConfig(e,n,r){return n.children?Je({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?Je({routes:n._loadedRoutes,injector:n._loadedInjector}):function O_e(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?Je(!0):Je(i.map(o=>{const a=Vd(o,t);return Za(function E_e(t){return t&&ng(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(Ud(),v3())}(e,n,r).pipe(Dn(i=>i?this.configLoader.loadChildren(e,n).pipe(Sr(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function j_e(t){return Hp(h3(cI&&`Cannot load children because the guard of the route "path: '${t.path}'" returned false`,3))}(n))):Je({routes:[],injector:e})}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Je(r);if(i.numberOfChildren>1||!i.children[pt])return B_e(e.redirectTo);i=i.children[pt]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Ya(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Nr(e,(i,s)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[s]=n[a]}else r[s]=i}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Nr(n.children,(a,l)=>{o[l]=this.createSegmentGroup(e,a,r,i)}),new St(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new T(4001,cI&&`Cannot redirect to '${e}'. Cannot find '${n.path}'.`);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}class W_e{}class Z_e{constructor(e,n,r,i,s,o,a){this.injector=e,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a}recognize(){const e=aI(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,pt).pipe(D(n=>{if(null===n)return null;const r=new nI([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},pt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new aa(r,n),s=new c3(this.url,i);return this.inheritParamsAndData(s._root),s}))}inheritParamsAndData(e){const n=e.value,r=l3(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i)}processChildren(e,n,r){return nn(Object.keys(r.children)).pipe(mc(i=>{const s=r.children[i],o=_3(n,i);return this.processSegmentGroup(e,o,s,i)}),FW((i,s)=>i&&s?(i.push(...s),i):null),function gme(t,e=!1){return Le((n,r)=>{let i=0;n.subscribe(st(r,s=>{const o=t(s,i++);(o||e)&&r.next(s),!o&&r.complete()}))})}(i=>null!==i),Gv(null),LW(),D(i=>{if(null===i)return null;const s=D3(i);return function Y_e(t){t.sort((e,n)=>e.value.outlet===pt?-1:n.value.outlet===pt?1:e.value.outlet.localeCompare(n.value.outlet))}(s),s}))}processSegment(e,n,r,i,s){return nn(n).pipe(mc(o=>{var a;return this.processSegmentAgainstRoute(null!==(a=o._injector)&&void 0!==a?a:e,o,r,i,s)}),qa(o=>!!o),Ka(o=>{if(lR(o))return w3(r,i,s)?Je([]):Je(null);throw o}))}processSegmentAgainstRoute(e,n,r,i,s){if(n.redirectTo||!E3(n,r,i,s))return Je(null);let o;if("**"===n.path){var a,l;const c=i.length>0?UW(i).parameters:{},u=A3(r)+i.length;o=Je({snapshot:new nI(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,x3(n),gs(n),null!==(a=null!==(l=n.component)&&void 0!==l?l:n._loadedComponent)&&void 0!==a?a:null,n,S3(r),u,M3(n)),consumedSegments:[],remainingSegments:[]})}else o=I3(r,n,i,e).pipe(D(({matched:c,consumedSegments:u,remainingSegments:d,parameters:h})=>{var f,g;if(!c)return null;const v=A3(r)+u.length;return{snapshot:new nI(u,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,x3(n),gs(n),null!==(f=null!==(g=n.component)&&void 0!==g?g:n._loadedComponent)&&void 0!==f?f:null,n,S3(r),v,M3(n)),consumedSegments:u,remainingSegments:d}}));return o.pipe(Mi(c=>{var u,d;if(null===c)return Je(null);const{snapshot:h,consumedSegments:f,remainingSegments:g}=c;e=null!==(u=n._injector)&&void 0!==u?u:e;const v=null!==(d=n._loadedInjector)&&void 0!==d?d:e,E=function Q_e(t){return t.children?t.children:t.loadChildren?t._loadedRoutes:[]}(n),{segmentGroup:A,slicedSegments:U}=aI(r,f,g,E.filter(oe=>void 0===oe.redirectTo));if(0===U.length&&A.hasChildren())return this.processChildren(v,E,A).pipe(D(oe=>null===oe?null:[new aa(h,oe)]));if(0===E.length&&0===U.length)return Je([new aa(h,[])]);const S=gs(n)===s;return this.processSegment(v,E,A,U,S?pt:s).pipe(D(oe=>null===oe?null:[new aa(h,oe)]))}))}}function X_e(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function D3(t){const e=[],n=new Set;for(const r of t){if(!X_e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=D3(r.children);e.push(new aa(r.value,i))}return e.filter(r=>!n.has(r))}function S3(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function A3(t){var e;let n=t,r=null!==(e=n._segmentIndexShift)&&void 0!==e?e:0;for(;n._sourceSegment;){var i;n=n._sourceSegment,r+=null!==(i=n._segmentIndexShift)&&void 0!==i?i:0}return r-1}function x3(t){return t.data||{}}function M3(t){return t.resolve||{}}function R3(t){return"string"==typeof t.title||null===t.title}function dR(t){return Mi(e=>{const n=t(e);return n?nn(n).pipe(D(()=>e)):Je(e)})}const Bd=new Fe("ROUTES");let hR=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=at(kL)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Je(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Za(n.loadComponent()).pipe(D(N3),Sr(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),WM(()=>{this.componentLoaders.delete(n)})),i=new NW(r,()=>new Q).pipe(HM());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Je({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(D(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let l,c,u=!1;Array.isArray(a)?c=a:(l=a.create(n).injector,c=VW(l.get(Bd,[],it.Self|it.Optional)));return{routes:c.map(aR),injector:l}}),WM(()=>{this.childrenLoaders.delete(r)})),o=new NW(s,()=>new Q).pipe(HM());return this.childrenLoaders.set(r,o),o}loadModuleFactoryOrRoutes(n){return Za(n()).pipe(D(N3),Dn(r=>r instanceof HF||Array.isArray(r)?Je(r):nn(this.compiler.compileModuleAsync(r))))}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function N3(t){return function oye(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let hI=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Q,this.configLoader=at(hR),this.environmentInjector=at(Bi),this.urlSerializer=at(Pd),this.rootContexts=at(Ic),this.navigationId=0,this.afterPreactivation=()=>Je(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Kme(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new qme(i))}complete(){var n;null===(n=this.transitions)||void 0===n||n.complete()}handleNavigationRequest(n){var r;const i=++this.navigationId;null===(r=this.transitions)||void 0===r||r.next({...this.transitions.value,...n,id:i})}setupNavigations(n){return this.transitions=new Zi({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qp,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ps(r=>0!==r.id),D(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),Mi(r=>{let i=!1,s=!1;return Je(r).pipe(Sr(o=>{this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Mi(o=>{var a;const l=n.browserUrlTree.toString(),c=!n.navigated||o.extractedUrl.toString()!==l||l!==n.currentUrlTree.toString(),u=null!==(a=o.extras.onSameUrlNavigation)&&void 0!==a?a:n.onSameUrlNavigation;if(!c&&"reload"!==u){const d="";return this.events.next(new tI(o.id,n.serializeUrl(r.rawUrl),d,0)),n.rawUrlTree=o.rawUrl,o.resolve(null),Sn}if(n.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return P3(o.source)&&(n.browserUrlTree=o.extractedUrl),Je(o).pipe(Mi(d=>{var h,f;const g=null===(h=this.transitions)||void 0===h?void 0:h.getValue();return this.events.next(new Jv(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),g!==(null===(f=this.transitions)||void 0===f?void 0:f.getValue())?Sn:Promise.resolve(d)}),function G_e(t,e,n,r){return Mi(i=>function z_e(t,e,n,r,i){return new H_e(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe(D(s=>({...i,urlAfterRedirects:s}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Sr(d=>{this.currentNavigation={...this.currentNavigation,finalUrl:d.urlAfterRedirects},r.urlAfterRedirects=d.urlAfterRedirects}),function eye(t,e,n,r,i){return Dn(s=>function K_e(t,e,n,r,i,s,o="emptyOnly"){return new Z_e(t,e,n,r,i,o,s).recognize().pipe(Mi(a=>null===a?function q_e(t){return new ze(e=>e.error(t))}(new W_e):Je(a)))}(t,e,n,s.urlAfterRedirects,r.serialize(s.urlAfterRedirects),r,i).pipe(D(o=>({...s,targetSnapshot:o}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Sr(d=>{if(r.targetSnapshot=d.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!d.extras.skipLocationChange){const f=n.urlHandlingStrategy.merge(d.urlAfterRedirects,d.rawUrl);n.setBrowserUrl(f,d)}n.browserUrlTree=d.urlAfterRedirects}const h=new jme(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(h)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:d,extractedUrl:h,source:f,restoredState:g,extras:v}=o,E=new Jv(d,this.urlSerializer.serialize(h),f,g);this.events.next(E);const A=a3(h,this.rootComponentType).snapshot;return Je(r={...o,targetSnapshot:A,urlAfterRedirects:h,extras:{...v,skipLocationChange:!1,replaceUrl:!1}})}{const d="";return this.events.next(new tI(o.id,n.serializeUrl(r.extractedUrl),d,1)),n.rawUrlTree=o.rawUrl,o.resolve(null),Sn}}),Sr(o=>{const a=new zme(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),D(o=>r={...o,guards:m_e(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),function S_e(t,e){return Dn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Je({...n,guardsResult:!0}):function A_e(t,e,n,r){return nn(t).pipe(Dn(i=>function P_e(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?Je(s.map(a=>{var l;const c=null!==(l=Jp(e))&&void 0!==l?l:i,u=Vd(a,c);return Za(function C_e(t){return t&&ng(t.canDeactivate)}(u)?u.canDeactivate(t,e,n,r):c.runInContext(()=>u(t,e,n,r))).pipe(qa())})).pipe(Ud()):Je(!0)}(i.component,i.route,n,e,r)),qa(i=>!0!==i,!0))}(o,r,i,t).pipe(Dn(a=>a&&function I_e(t){return"boolean"==typeof t}(a)?function x_e(t,e,n,r){return nn(e).pipe(mc(i=>zM(function R_e(t,e){return null!==t&&e&&e(new Zme(t)),Je(!0)}(i.route.parent,r),function M_e(t,e){return null!==t&&e&&e(new Qme(t)),Je(!0)}(i.route,r),function N_e(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function __e(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>kW(()=>Je(o.guards.map(l=>{var c;const u=null!==(c=Jp(o.node))&&void 0!==c?c:n,d=Vd(l,u);return Za(function b_e(t){return t&&ng(t.canActivateChild)}(d)?d.canActivateChild(r,t):u.runInContext(()=>d(r,t))).pipe(qa())})).pipe(Ud())));return Je(s).pipe(Ud())}(t,i.path,n),function k_e(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Je(!0);const i=r.map(s=>kW(()=>{var o;const a=null!==(o=Jp(e))&&void 0!==o?o:n,l=Vd(s,a);return Za(function w_e(t){return t&&ng(t.canActivate)}(l)?l.canActivate(e,t):a.runInContext(()=>l(e,t))).pipe(qa())}));return Je(i).pipe(Ud())}(t,i.route,n))),qa(i=>!0!==i,!0))}(r,s,t,e):Je(a)),D(a=>({...n,guardsResult:a})))})}(this.environmentInjector,o=>this.events.next(o)),Sr(o=>{if(r.guardsResult=o.guardsResult,yc(o.guardsResult))throw d3(0,o.guardsResult);const a=new Hme(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),ps(o=>!!o.guardsResult||(n.restoreHistory(o),this.cancelNavigationTransition(o,"",3),!1)),dR(o=>{if(o.guards.canActivateChecks.length)return Je(o).pipe(Sr(a=>{const l=new Gme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),Mi(a=>{let l=!1;return Je(a).pipe(function tye(t,e){return Dn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Je(n);let s=0;return nn(i).pipe(mc(o=>function nye(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==(null==i?void 0:i.title)&&!R3(i)&&(s[Wp]=i.title),function rye(t,e,n,r){const i=function iye(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return Je({});const s={};return nn(i).pipe(Dn(o=>function sye(t,e,n,r){var i;const s=null!==(i=Jp(e))&&void 0!==i?i:r,o=Vd(t,s);return Za(o.resolve?o.resolve(e,n):s.runInContext(()=>o(e,n)))}(t[o],e,n,r).pipe(qa(),Sr(a=>{s[o]=a}))),GM(1),function mme(t){return D(()=>t)}(s),Ka(o=>lR(o)?Sn:Hp(o)))}(s,t,e,r).pipe(D(o=>(t._resolvedData=o,t.data=l3(t,n).resolve,i&&R3(i)&&(t.data[Wp]=i.title),null)))}(o.route,r,t,e)),Sr(()=>s++),GM(1),Dn(o=>s===i.length?Je(n):Sn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Sr({next:()=>l=!0,complete:()=>{l||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Sr(a=>{const l=new Wme(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),dR(o=>{const a=l=>{var c;const u=[];null!==(c=l.routeConfig)&&void 0!==c&&c.loadComponent&&!l.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(l.routeConfig).pipe(Sr(d=>{l.component=d}),D(()=>{})));for(const d of l.children)u.push(...a(d));return u};return MW(a(o.targetSnapshot.root)).pipe(Gv(),Gp(1))}),dR(()=>this.afterPreactivation()),D(o=>{const a=function s_e(t,e,n){const r=Xp(t,e._root,n?n._root:void 0);return new o3(r,e)}(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return r={...o,targetRouterState:a}}),Sr(o=>{n.currentUrlTree=o.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(o.urlAfterRedirects,o.rawUrl),n.routerState=o.targetRouterState,"deferred"===n.urlUpdateStrategy&&(o.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,o),n.browserUrlTree=o.urlAfterRedirects)}),((t,e,n)=>D(r=>(new g_e(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o)),Sr({next:o=>{var a;i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new vc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),null===(a=n.titleStrategy)||void 0===a||a.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),WM(()=>{var o;i||s||this.cancelNavigationTransition(r,"",1),(null===(o=this.currentNavigation)||void 0===o?void 0:o.id)===r.id&&(this.currentNavigation=null)}),Ka(o=>{if(s=!0,p3(o)){f3(o)||(n.navigated=!0,n.restoreHistory(r,!0));const l=new eI(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode);if(this.events.next(l),f3(o)){const c=n.urlHandlingStrategy.merge(o.url,n.rawUrlTree),u={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||P3(r.source)};n.scheduleNavigation(c,Qp,null,u,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{var a;n.restoreHistory(r,!0);const l=new JM(r.id,this.urlSerializer.serialize(r.extractedUrl),o,null!==(a=r.targetSnapshot)&&void 0!==a?a:void 0);this.events.next(l);try{r.resolve(n.errorHandler(o))}catch(c){r.reject(c)}}return Sn}))}))}cancelNavigationTransition(n,r,i){const s=new eI(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function P3(t){return t!==Qp}let O3=(()=>{class t{buildTitle(n){let r,i=n.root;for(;void 0!==i;){var s;r=null!==(s=this.getResolvedTitleForRoute(i))&&void 0!==s?s:r,i=i.children.find(o=>o.outlet===pt)}return r}getResolvedTitleForRoute(n){return n.data[Wp]}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:function(){return at(aye)},providedIn:"root"}),t})(),aye=(()=>{class t extends O3{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return t.\u0275fac=function(n){return new(n||t)(Ne(Zb))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),lye=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:function(){return at(uye)},providedIn:"root"}),t})();class cye{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let uye=(()=>{class t extends cye{}return t.\u0275fac=function(){let e;return function(r){return(e||(e=Cr(t)))(r||t)}}(),t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const fI=new Fe("",{providedIn:"root",factory:()=>({})});let hye=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:function(){return at(fye)},providedIn:"root"}),t})(),fye=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function pye(t){throw t}function gye(t,e,n){return e.parse("/")}const mye={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_ye={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let _r=(()=>{class t{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){var n;return null===(n=this.location.getState())||void 0===n?void 0:n.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){var n;this.disposed=!1,this.currentPageId=0,this.console=at(yX),this.isNgZoneEnabled=!1,this.options=at(fI,{optional:!0})||{},this.errorHandler=this.options.errorHandler||pye,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||gye,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=at(hye),this.routeReuseStrategy=at(lye),this.urlCreationStrategy=at(n_e),this.titleStrategy=at(O3),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=VW(null!==(n=at(Bd,{optional:!0}))&&void 0!==n?n:[]),this.navigationTransitions=at(hI),this.urlSerializer=at(Pd),this.location=at(df),this.isNgZoneEnabled=at(q)instanceof q&&q.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ya,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=a3(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=r.targetPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Qp,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const s={replaceUrl:!0},o=null!=i&&i.navigationId?i:null;if(i){const l={...i};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(aR),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,c=l?this.currentUrlTree.fragment:o;let u=null;switch(a){case"merge":u={...this.currentUrlTree.queryParams,...s};break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}return null!==u&&(u=this.removeEmptyProps(u)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,u,null!=c?c:null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=yc(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Qp,null,r)}navigate(n,r={skipLocationChange:!1}){return function yye(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new T(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{...mye}:!1===r?{..._ye}:r,yc(n))return jW(this.currentUrlTree,n,i);const s=this.parseUrl(n);return jW(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const s=n[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,c,u;if(o?(a=o.resolve,l=o.reject,c=o.promise):c=new Promise((f,g)=>{a=f,l=g}),"computed"===this.canceledNavigationResolution)if(i&&i.\u0275routerPageId)u=i.\u0275routerPageId;else if(s.replaceUrl||s.skipLocationChange){var d;u=null!==(d=this.browserPageId)&&void 0!==d?d:0}else{var h;u=(null!==(h=this.browserPageId)&&void 0!==h?h:0)+1}else u=0;return this.navigationTransitions.handleNavigationRequest({targetPageId:u,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(f=>Promise.reject(f))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n),s={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",s):this.location.go(i,"",s)}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){var i,s;const o=this.currentPageId-n.targetPageId;"popstate"!==n.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(i=this.getCurrentNavigation())||void 0===i?void 0:i.finalUrl)||0===o?this.currentUrlTree===(null===(s=this.getCurrentNavigation())||void 0===s?void 0:s.finalUrl)&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(o)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class F3{}let Eye=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ps(n=>n instanceof vc),mc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const l of r){var s,o;l.providers&&!l._injector&&(l._injector=Km(l.providers,n,`Route: ${l.path}`));const c=null!==(s=l._injector)&&void 0!==s?s:n,u=null!==(o=l._loadedInjector)&&void 0!==o?o:c;var a;(l.loadChildren&&!l._loadedRoutes&&void 0===l.canLoad||l.loadComponent&&!l._loadedComponent)&&i.push(this.preloadConfig(c,l)),(l.children||l._loadedRoutes)&&i.push(this.processRoutes(u,null!==(a=l.children)&&void 0!==a?a:l._loadedRoutes))}return nn(i).pipe(ts())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Je(null);const s=i.pipe(Dn(o=>{var a;return null===o?Je(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(null!==(a=o.injector)&&void 0!==a?a:n,o.routes))}));return r.loadComponent&&!r._loadedComponent?nn([s,this.loader.loadComponent(r)]).pipe(ts()):s})}}return t.\u0275fac=function(n){return new(n||t)(Ne(_r),Ne(kL),Ne(Bi),Ne(F3),Ne(hR))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const pR=new Fe("");let L3=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Jv?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof vc&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof i3&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new i3(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){var n,r;null===(n=this.routerEventsSubscription)||void 0===n||n.unsubscribe(),null===(r=this.scrollEventsSubscription)||void 0===r||r.unsubscribe()}}return t.\u0275fac=function(n){!function GP(){throw new Error("invalid")}()},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();var Yi=(()=>((Yi=Yi||{})[Yi.COMPLETE=0]="COMPLETE",Yi[Yi.FAILED=1]="FAILED",Yi[Yi.REDIRECTING=2]="REDIRECTING",Yi))();const jd=!1;function Qa(t,e){return{\u0275kind:t,\u0275providers:e}}const gR=new Fe("",{providedIn:"root",factory:()=>!1});function V3(){const t=at(zt);return e=>{var n,r;const i=t.get(cf);if(e!==i.components[0])return;const s=t.get(_r),o=t.get(U3);1===t.get(mR)&&s.initialNavigation(),null===(n=t.get(B3,null,it.Optional))||void 0===n||n.setUpPreloading(),null===(r=t.get(pR,null,it.Optional))||void 0===r||r.init(),s.resetRootComponentType(i.componentTypes[0]),o.closed||(o.next(),o.unsubscribe())}}const U3=new Fe(jd?"bootstrap done indicator":"",{factory:()=>new Q}),mR=new Fe(jd?"initial navigation":"",{providedIn:"root",factory:()=>1});function Dye(){let t=[];return t=jd?[{provide:Tm,multi:!0,useFactory:()=>{const e=at(_r);return()=>e.events.subscribe(n=>{var r,i,s,o;null===(r=(i=console).group)||void 0===r||r.call(i,`Router Event: ${n.constructor.name}`),console.log(function Xme(t){var e,n,r,i;if(!("type"in t))return`Unknown Router Event: ${t.constructor.name}`;switch(t.type){case 14:return`ActivationEnd(path: '${(null===(e=t.snapshot.routeConfig)||void 0===e?void 0:e.path)||""}')`;case 13:return`ActivationStart(path: '${(null===(n=t.snapshot.routeConfig)||void 0===n?void 0:n.path)||""}')`;case 12:return`ChildActivationEnd(path: '${(null===(r=t.snapshot.routeConfig)||void 0===r?void 0:r.path)||""}')`;case 11:return`ChildActivationStart(path: '${(null===(i=t.snapshot.routeConfig)||void 0===i?void 0:i.path)||""}')`;case 8:return`GuardsCheckEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state}, shouldActivate: ${t.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 2:return`NavigationCancel(id: ${t.id}, url: '${t.url}')`;case 16:return`NavigationSkipped(id: ${t.id}, url: '${t.url}')`;case 1:return`NavigationEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${t.id}, url: '${t.url}', error: ${t.error})`;case 0:return`NavigationStart(id: ${t.id}, url: '${t.url}')`;case 6:return`ResolveEnd(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 5:return`ResolveStart(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 10:return`RouteConfigLoadEnd(path: ${t.route.path})`;case 9:return`RouteConfigLoadStart(path: ${t.route.path})`;case 4:return`RoutesRecognized(id: ${t.id}, url: '${t.url}', urlAfterRedirects: '${t.urlAfterRedirects}', state: ${t.state})`;case 15:return`Scroll(anchor: '${t.anchor}', position: '${t.position?`${t.position[0]}, ${t.position[1]}`:null}')`}}(n)),console.log(n),null===(s=(o=console).groupEnd)||void 0===s||s.call(o)})}}]:[],Qa(1,t)}const B3=new Fe(jd?"router preloader":"");function Sye(t){return Qa(0,[{provide:B3,useExisting:Eye},{provide:F3,useExisting:t}])}const sg=!1,j3=new Fe(sg?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Aye=[df,{provide:Pd,useClass:qM},_r,Ic,{provide:la,useFactory:function $3(t){return t.routerState.root},deps:[_r]},hR,sg?{provide:gR,useValue:!0}:[]];function xye(){return new UL("Router",_r)}let z3=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Aye,sg&&null!=r&&r.enableTracing?Dye().\u0275providers:[],{provide:Bd,multi:!0,useValue:n},{provide:j3,useFactory:Nye,deps:[[_r,new Mt,new Oh]]},{provide:fI,useValue:r||{}},null!=r&&r.useHash?{provide:$o,useClass:oJ}:{provide:$o,useClass:c$},{provide:pR,useFactory:()=>{const t=at(See),e=at(q),n=at(fI),r=at(hI),i=at(Pd);return n.scrollOffset&&t.setOffset(n.scrollOffset),new L3(i,r,t,e,n)}},null!=r&&r.preloadingStrategy?Sye(r.preloadingStrategy).\u0275providers:[],{provide:UL,multi:!0,useFactory:xye},null!=r&&r.initialNavigation?Pye(r):[],[{provide:H3,useFactory:V3},{provide:VL,multi:!0,useExisting:H3}]]}}static forChild(n){return{ngModule:t,providers:[{provide:Bd,multi:!0,useValue:n}]}}}return t.\u0275fac=function(n){return new(n||t)(Ne(j3,8))},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({imports:[iI]}),t})();function Nye(t){if(sg&&t)throw new T(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Pye(t){return["disabled"===t.initialNavigation?Qa(3,[{provide:va,multi:!0,useFactory:()=>{const e=at(_r);return()=>{e.setUpLocationChangeListener()}}},{provide:mR,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Qa(2,[{provide:mR,useValue:0},{provide:va,multi:!0,deps:[zt],useFactory:e=>{const n=e.get(iJ,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get(_r),s=e.get(U3);(function wye(t,e){t.events.pipe(ps(n=>n instanceof vc||n instanceof eI||n instanceof JM||n instanceof tI),D(n=>n instanceof vc||n instanceof tI?Yi.COMPLETE:n instanceof eI&&(0===n.code||1===n.code)?Yi.REDIRECTING:Yi.FAILED),ps(n=>n!==Yi.REDIRECTING),Gp(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(hI).afterPreactivation=()=>(r(!0),s.closed?Je(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const H3=new Fe(sg?"Router Initializer":"");le(2200),le(500),le(9892),le(1898);var _R=le(6406),Fye=le(9397),Lye=le(3982),og=le(9459),yR=(le(1557),le(6280)),G3=(le(3457),le(4349),le(9816));function W3(t,e=G){return t=null!=t?t:$ye,Le((n,r)=>{let i,s=!0;n.subscribe(st(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}function $ye(t,e){return t===e}const Uye=_R.i,Ce=["*"];function qye(t,e){1&t&&Vm(0,1),2&t&&Jr("ngTemplateOutlet",Sl().template)}const q3=t=>"function"==typeof __zone_symbol__requestAnimationFrame?__zone_symbol__requestAnimationFrame(t):"function"==typeof requestAnimationFrame?requestAnimationFrame(t):setTimeout(t);let ag=(()=>{class t{constructor(n,r){this.injector=n,this.el=r,this.onChange=()=>{},this.onTouched=()=>{}}writeValue(n){this.el.nativeElement.value=this.lastValue=n,zd(this.el)}handleValueChange(n,r){n===this.el.nativeElement&&(r!==this.lastValue&&(this.lastValue=r,this.onChange(r)),zd(this.el))}_handleBlurEvent(n){n===this.el.nativeElement&&(this.onTouched(),zd(this.el))}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.el.nativeElement.disabled=n}ngOnDestroy(){this.statusChanges&&this.statusChanges.unsubscribe()}ngAfterViewInit(){let n;try{n=this.injector.get(oa)}catch{}if(!n)return;n.statusChanges&&(this.statusChanges=n.statusChanges.subscribe(()=>zd(this.el)));const r=n.control;r&&["markAsTouched","markAllAsTouched","markAsUntouched","markAsDirty","markAsPristine"].forEach(s=>{if(typeof r[s]<"u"){const o=r[s].bind(r);r[s]=(...a)=>{o(...a),zd(this.el)}}})}}return t.\u0275fac=function(n){return new(n||t)(p(zt),p(re))},t.\u0275dir=Ke({type:t,hostBindings:function(n,r){1&n&&Yt("ionBlur",function(s){return r._handleBlurEvent(s.target)})}}),t})();const zd=t=>{q3(()=>{const e=t.nativeElement,n=null!=e.value&&e.value.toString().length>0,r=Kye(e);vR(e,r);const i=e.closest("ion-item");i&&vR(i,n?[...r,"item-has-value"]:r)})},Kye=t=>{const e=t.classList,n=[];for(let r=0;r<e.length;r++){const i=e.item(r);null!==i&&Zye(i,"ng-")&&n.push(`ion-${i.substring(3)}`)}return n},vR=(t,e)=>{const n=t.classList;n.remove("ion-valid","ion-invalid","ion-touched","ion-untouched","ion-dirty","ion-pristine"),n.add(...e)},Zye=(t,e)=>t.substring(0,e.length)===e;let K3=(()=>{class t extends ag{constructor(n,r){super(n,r)}_handleInputEvent(n){this.handleValueChange(n,n.value)}}return t.\u0275fac=function(n){return new(n||t)(p(zt),p(re))},t.\u0275dir=Ke({type:t,selectors:[["ion-input",3,"type","number"],["ion-textarea"],["ion-searchbar"]],hostBindings:function(n,r){1&n&&Yt("ionInput",function(s){return r._handleInputEvent(s.target)})},features:[Qt([{provide:oi,useExisting:t,multi:!0}]),$t]}),t})();const eve=(t,e)=>{const n=t.prototype;e.forEach(r=>{Object.defineProperty(n,r,{get(){return this.el[r]},set(i){this.z.runOutsideAngular(()=>this.el[r]=i)}})})},tve=(t,e)=>{const n=t.prototype;e.forEach(r=>{n[r]=function(){const i=arguments;return this.z.runOutsideAngular(()=>this.el[r].apply(this.el,i))}})},Pt=(t,e,n)=>{n.forEach(r=>t[r]=jM(e,r))};function Ie(t){return function(n){const{defineCustomElementFn:r,inputs:i,methods:s}=t;return void 0!==r&&r(),i&&eve(n,i),s&&tve(n,s),n}}let Z3=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-app"]],ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({})],t),t})(),Y3=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-badge"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["color","mode"]})],t),t})(),Q3=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,Pt(this,this.el,["ionFocus","ionBlur"])}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-button"]],inputs:{buttonType:"buttonType",color:"color",disabled:"disabled",download:"download",expand:"expand",fill:"fill",form:"form",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",size:"size",strong:"strong",target:"target",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["buttonType","color","disabled","download","expand","fill","form","href","mode","rel","routerAnimation","routerDirection","shape","size","strong","target","type"]})],t),t})(),X3=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-card"]],inputs:{button:"button",color:"color",disabled:"disabled",download:"download",href:"href",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",target:"target",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["button","color","disabled","download","href","mode","rel","routerAnimation","routerDirection","target","type"]})],t),t})(),J3=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-card-content"]],inputs:{mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["mode"]})],t),t})(),e4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-card-header"]],inputs:{color:"color",mode:"mode",translucent:"translucent"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["color","mode","translucent"]})],t),t})(),t4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-card-title"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["color","mode"]})],t),t})(),n4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-col"]],inputs:{offset:"offset",offsetLg:"offsetLg",offsetMd:"offsetMd",offsetSm:"offsetSm",offsetXl:"offsetXl",offsetXs:"offsetXs",pull:"pull",pullLg:"pullLg",pullMd:"pullMd",pullSm:"pullSm",pullXl:"pullXl",pullXs:"pullXs",push:"push",pushLg:"pushLg",pushMd:"pushMd",pushSm:"pushSm",pushXl:"pushXl",pushXs:"pushXs",size:"size",sizeLg:"sizeLg",sizeMd:"sizeMd",sizeSm:"sizeSm",sizeXl:"sizeXl",sizeXs:"sizeXs"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["offset","offsetLg","offsetMd","offsetSm","offsetXl","offsetXs","pull","pullLg","pullMd","pullSm","pullXl","pullXs","push","pushLg","pushMd","pushSm","pushXl","pushXs","size","sizeLg","sizeMd","sizeSm","sizeXl","sizeXs"]})],t),t})(),r4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,Pt(this,this.el,["ionScrollStart","ionScroll","ionScrollEnd"])}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-content"]],inputs:{color:"color",forceOverscroll:"forceOverscroll",fullscreen:"fullscreen",scrollEvents:"scrollEvents",scrollX:"scrollX",scrollY:"scrollY"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["color","forceOverscroll","fullscreen","scrollEvents","scrollX","scrollY"],methods:["getScrollElement","scrollToTop","scrollToBottom","scrollByPoint","scrollToPoint"]})],t),t})(),i4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-grid"]],inputs:{fixed:"fixed"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["fixed"]})],t),t})(),s4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-header"]],inputs:{collapse:"collapse",mode:"mode",translucent:"translucent"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["collapse","mode","translucent"]})],t),t})(),o4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-icon"]],inputs:{color:"color",flipRtl:"flipRtl",icon:"icon",ios:"ios",lazy:"lazy",md:"md",mode:"mode",name:"name",sanitize:"sanitize",size:"size",src:"src"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["color","flipRtl","icon","ios","lazy","md","mode","name","sanitize","size","src"]})],t),t})(),a4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-item"]],inputs:{button:"button",color:"color",counter:"counter",counterFormatter:"counterFormatter",detail:"detail",detailIcon:"detailIcon",disabled:"disabled",download:"download",fill:"fill",href:"href",lines:"lines",mode:"mode",rel:"rel",routerAnimation:"routerAnimation",routerDirection:"routerDirection",shape:"shape",target:"target",type:"type"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["button","color","counter","counterFormatter","detail","detailIcon","disabled","download","fill","href","lines","mode","rel","routerAnimation","routerDirection","shape","target","type"]})],t),t})(),l4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-label"]],inputs:{color:"color",mode:"mode",position:"position"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["color","mode","position"]})],t),t})(),c4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-list"]],inputs:{inset:"inset",lines:"lines",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["inset","lines","mode"],methods:["closeSlidingItems"]})],t),t})(),u4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-row"]],ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({})],t),t})(),h4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement,Pt(this,this.el,["ionChange","ionInput","ionBlur","ionFocus"])}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-textarea"]],inputs:{autoGrow:"autoGrow",autocapitalize:"autocapitalize",autofocus:"autofocus",clearOnEdit:"clearOnEdit",color:"color",cols:"cols",counter:"counter",counterFormatter:"counterFormatter",debounce:"debounce",disabled:"disabled",enterkeyhint:"enterkeyhint",errorText:"errorText",fill:"fill",helperText:"helperText",inputmode:"inputmode",label:"label",labelPlacement:"labelPlacement",legacy:"legacy",maxlength:"maxlength",minlength:"minlength",mode:"mode",name:"name",placeholder:"placeholder",readonly:"readonly",required:"required",rows:"rows",shape:"shape",spellcheck:"spellcheck",value:"value",wrap:"wrap"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["autoGrow","autocapitalize","autofocus","clearOnEdit","color","cols","counter","counterFormatter","debounce","disabled","enterkeyhint","errorText","fill","helperText","inputmode","label","labelPlacement","legacy","maxlength","minlength","mode","name","placeholder","readonly","required","rows","shape","spellcheck","value","wrap"],methods:["setFocus","getInputElement"]})],t),t})(),f4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-thumbnail"]],ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({})],t),t})(),p4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-title"]],inputs:{color:"color",size:"size"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["color","size"]})],t),t})(),g4=(()=>{let t=class{constructor(n,r,i){this.z=i,n.detach(),this.el=r.nativeElement}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-toolbar"]],inputs:{color:"color",mode:"mode"},ngContentSelectors:Ce,decls:1,vars:0,template:function(n,r){1&n&&(be(),ye(0))},encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["color","mode"]})],t),t})(),m4=(()=>{class t{get(n,r){const i=IR();return i?i.get(n,r):null}getBoolean(n,r){const i=IR();return!!i&&i.getBoolean(n,r)}getNumber(n,r){const i=IR();return i?i.getNumber(n,r):0}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const _4=new Fe("USERCONFIG"),IR=()=>{if(typeof window<"u"){const t=window.Ionic;if(null!=t&&t.config)return t.config}return null};let oIe=(()=>{class t{constructor(n,r){this.doc=n,this.backButton=new Q,this.keyboardDidShow=new Q,this.keyboardDidHide=new Q,this.pause=new Q,this.resume=new Q,this.resize=new Q,r.run(()=>{var i;let s;this.win=n.defaultView,this.backButton.subscribeWithPriority=function(o,a){return this.subscribe(l=>l.register(o,c=>r.run(()=>a(c))))},Hd(this.pause,n,"pause"),Hd(this.resume,n,"resume"),Hd(this.backButton,n,"ionBackButton"),Hd(this.resize,this.win,"resize"),Hd(this.keyboardDidShow,this.win,"ionKeyboardDidShow"),Hd(this.keyboardDidHide,this.win,"ionKeyboardDidHide"),this._readyPromise=new Promise(o=>{s=o}),null!==(i=this.win)&&void 0!==i&&i.cordova?n.addEventListener("deviceready",()=>{s("cordova")},{once:!0}):s("dom")})}is(n){return(0,_R.a)(this.win,n)}platforms(){return(0,_R.g)(this.win)}ready(){return this._readyPromise}get isRTL(){return"rtl"===this.doc.dir}getQueryParam(n){return aIe(this.win.location.href,n)}isLandscape(){return!this.isPortrait()}isPortrait(){var n,r;return null===(n=(r=this.win).matchMedia)||void 0===n?void 0:n.call(r,"(orientation: portrait)").matches}testUserAgent(n){const r=this.win.navigator;return!!(null!=r&&r.userAgent&&r.userAgent.indexOf(n)>=0)}url(){return this.win.location.href}width(){return this.win.innerWidth}height(){return this.win.innerHeight}}return t.\u0275fac=function(n){return new(n||t)(Ne(jr),Ne(q))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const aIe=(t,e)=>{e=e.replace(/[[\]\\]/g,"\\$&");const r=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(t);return r?decodeURIComponent(r[1].replace(/\+/g," ")):null},Hd=(t,e,n)=>{e&&e.addEventListener(n,r=>{t.next(null!=r?r.detail:void 0)})};let lg=(()=>{class t{constructor(n,r,i,s){this.location=r,this.serializer=i,this.router=s,this.direction=y4,this.animated=v4,this.guessDirection="forward",this.lastNavId=-1,s&&s.events.subscribe(o=>{if(o instanceof Jv){const a=o.restoredState?o.restoredState.navigationId:o.id;this.guessDirection=a<this.lastNavId?"back":"forward",this.guessAnimation=o.restoredState?void 0:this.guessDirection,this.lastNavId="forward"===this.guessDirection?o.id:a}}),n.backButton.subscribeWithPriority(0,o=>{this.pop(),o()})}navigateForward(n,r={}){return this.setDirection("forward",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateBack(n,r={}){return this.setDirection("back",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}navigateRoot(n,r={}){return this.setDirection("root",r.animated,r.animationDirection,r.animation),this.navigate(n,r)}back(n={animated:!0,animationDirection:"back"}){return this.setDirection("back",n.animated,n.animationDirection,n.animation),this.location.back()}pop(){var n=this;return(0,I.Z)(function*(){let r=n.topOutlet;for(;r&&!(yield r.pop());)r=r.parentOutlet})()}setDirection(n,r,i,s){this.direction=n,this.animated=lIe(n,r,i),this.animationBuilder=s}setTopOutlet(n){this.topOutlet=n}consumeTransition(){let r,n="root";const i=this.animationBuilder;return"auto"===this.direction?(n=this.guessDirection,r=this.guessAnimation):(r=this.animated,n=this.direction),this.direction=y4,this.animated=v4,this.animationBuilder=void 0,{direction:n,animation:r,animationBuilder:i}}navigate(n,r){if(Array.isArray(n))return this.router.navigate(n,r);{const i=this.serializer.parse(n.toString());return void 0!==r.queryParams&&(i.queryParams={...r.queryParams}),void 0!==r.fragment&&(i.fragment=r.fragment),this.router.navigateByUrl(i,r)}}}return t.\u0275fac=function(n){return new(n||t)(Ne(oIe),Ne(df),Ne(Pd),Ne(_r,8))},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();const lIe=(t,e,n)=>{if(!1!==e){if(void 0!==n)return n;if("forward"===t||"back"===t)return t;if("root"===t&&!0===e)return"forward"}},y4="auto",v4=void 0;class I4{constructor(e={}){this.data=e}get(e){return this.data[e]}}let pI=(()=>{class t{constructor(){this.zone=at(q),this.applicationRef=at(cf)}create(n,r,i){return new cIe(n,r,this.applicationRef,this.zone,i)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();class cIe{constructor(e,n,r,i,s){this.environmentInjector=e,this.injector=n,this.applicationRef=r,this.zone=i,this.elementReferenceKey=s,this.elRefMap=new WeakMap,this.elEventsMap=new WeakMap}attachViewToDom(e,n,r,i){return this.zone.run(()=>new Promise(s=>{const o={...r};void 0!==this.elementReferenceKey&&(o[this.elementReferenceKey]=e),s(uIe(this.zone,this.environmentInjector,this.injector,this.applicationRef,this.elRefMap,this.elEventsMap,e,n,o,i))}))}removeViewFromDom(e,n){return this.zone.run(()=>new Promise(r=>{const i=this.elRefMap.get(n);if(i){i.destroy(),this.elRefMap.delete(n);const s=this.elEventsMap.get(n);s&&(s(),this.elEventsMap.delete(n))}r()}))}}const uIe=(t,e,n,r,i,s,o,a,l,c)=>{const d=function eJ(t,e){const n=Kt(t),r=e.elementInjector||Sm();return new Wh(n).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}(a,{environmentInjector:e,elementInjector:zt.create({providers:hIe(l),parent:n})}),h=d.instance,f=d.location.nativeElement;if(l&&Object.assign(h,l),c)for(const v of c)f.classList.add(v);const g=E4(t,h,f);return o.appendChild(f),r.attachView(d.hostView),i.set(f,d),s.set(f,g),f},dIe=[og.L,og.a,og.b,og.c,og.d],E4=(t,e,n)=>t.run(()=>{const r=dIe.filter(i=>"function"==typeof e[i]).map(i=>{const s=o=>e[i](o.detail);return n.addEventListener(i,s),()=>n.removeEventListener(i,s)});return()=>r.forEach(i=>i())}),w4=new Fe("NavParamsToken"),hIe=t=>[{provide:w4,useValue:t},{provide:I4,useFactory:fIe,deps:[w4]}],fIe=t=>new I4(t),b4=(t,e)=>((t=t.filter(n=>n.stackId!==e.stackId)).push(e),t),ER=(t,e)=>{const n=t.createUrlTree(["."],{relativeTo:e});return t.serializeUrl(n)},yIe=(t,e)=>{if(!t)return;const n=C4(e);for(let r=0;r<n.length;r++){if(r>=t.length)return n[r];if(n[r]!==t[r])return}},C4=t=>t.split("/").map(e=>e.trim()).filter(e=>""!==e),T4=t=>{t&&(t.ref.destroy(),t.unlistenEvents())};class vIe{constructor(e,n,r,i,s,o){this.containerEl=n,this.router=r,this.navCtrl=i,this.zone=s,this.location=o,this.views=[],this.skipTransition=!1,this.nextId=0,this.tabsPrefix=void 0!==e?C4(e):void 0}createView(e,n){var r;const i=ER(this.router,n),s=null==e||null===(r=e.location)||void 0===r?void 0:r.nativeElement,o=E4(this.zone,e.instance,s);return{id:this.nextId++,stackId:yIe(this.tabsPrefix,i),unlistenEvents:o,element:s,ref:e,url:i}}getExistingView(e){const n=ER(this.router,e),r=this.views.find(i=>i.url===n);return r&&r.ref.changeDetectorRef.reattach(),r}setActive(e){var n,r,i;const s=this.navCtrl.consumeTransition();let{direction:o,animation:a,animationBuilder:l}=s;const c=this.activeView,u=((t,e)=>!e||t.stackId!==e.stackId)(e,c);u&&(o="back",a=void 0);const d=this.views.slice();let h;const f=this.router;f.getCurrentNavigation?h=f.getCurrentNavigation():null!==(n=f.navigations)&&void 0!==n&&n.value&&(h=f.navigations.value),null!==(r=h)&&void 0!==r&&null!==(i=r.extras)&&void 0!==i&&i.replaceUrl&&this.views.length>0&&this.views.splice(-1,1);const g=this.views.includes(e),v=this.insertView(e,o);g||e.ref.changeDetectorRef.detectChanges();const E=e.animationBuilder;return void 0===l&&"back"===o&&!u&&void 0!==E&&(l=E),c&&(c.animationBuilder=l),this.zone.runOutsideAngular(()=>this.wait(()=>(c&&c.ref.changeDetectorRef.detach(),e.ref.changeDetectorRef.reattach(),this.transition(e,c,a,this.canGoBack(1),!1,l).then(()=>IIe(e,v,d,this.location,this.zone)).then(()=>({enteringView:e,direction:o,animation:a,tabSwitch:u})))))}canGoBack(e,n=this.getActiveStackId()){return this.getStack(n).length>e}pop(e,n=this.getActiveStackId()){return this.zone.run(()=>{const r=this.getStack(n);if(r.length<=e)return Promise.resolve(!1);const i=r[r.length-e-1];let s=i.url;const o=i.savedData;if(o){var a,l;const u=o.get("primary");null!=u&&null!==(a=u.route)&&void 0!==a&&null!==(l=a._routerState)&&void 0!==l&&l.snapshot.url&&(s=u.route._routerState.snapshot.url)}const{animationBuilder:c}=this.navCtrl.consumeTransition();return this.navCtrl.navigateBack(s,{...i.savedExtras,animation:c}).then(()=>!0)})}startBackTransition(){const e=this.activeView;if(e){const n=this.getStack(e.stackId),r=n[n.length-2],i=r.animationBuilder;return this.wait(()=>this.transition(r,e,"back",this.canGoBack(2),!0,i))}return Promise.resolve()}endBackTransition(e){e?(this.skipTransition=!0,this.pop(1)):this.activeView&&D4(this.activeView,this.views,this.views,this.location,this.zone)}getLastUrl(e){const n=this.getStack(e);return n.length>0?n[n.length-1]:void 0}getRootUrl(e){const n=this.getStack(e);return n.length>0?n[0]:void 0}getActiveStackId(){return this.activeView?this.activeView.stackId:void 0}hasRunningTask(){return void 0!==this.runningTask}destroy(){this.containerEl=void 0,this.views.forEach(T4),this.activeView=void 0,this.views=[]}getStack(e){return this.views.filter(n=>n.stackId===e)}insertView(e,n){return this.activeView=e,this.views=((t,e,n)=>"root"===n?b4(t,e):"forward"===n?((t,e)=>(t.indexOf(e)>=0?t=t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):t.push(e),t))(t,e):((t,e)=>t.indexOf(e)>=0?t.filter(r=>r.stackId!==e.stackId||r.id<=e.id):b4(t,e))(t,e))(this.views,e,n),this.views.slice()}transition(e,n,r,i,s,o){if(this.skipTransition)return this.skipTransition=!1,Promise.resolve(!1);if(n===e)return Promise.resolve(!1);const a=e?e.element:void 0,l=n?n.element:void 0,c=this.containerEl;return a&&a!==l&&(a.classList.add("ion-page"),a.classList.add("ion-page-invisible"),a.parentElement!==c&&c.appendChild(a),c.commit)?c.commit(a,l,{duration:void 0===r?0:void 0,direction:r,showGoBack:i,progressAnimation:s,animationBuilder:o}):Promise.resolve(!1)}wait(e){var n=this;return(0,I.Z)(function*(){void 0!==n.runningTask&&(yield n.runningTask,n.runningTask=void 0);const r=n.runningTask=e();return r.finally(()=>n.runningTask=void 0),r})()}}const IIe=(t,e,n,r,i)=>"function"==typeof requestAnimationFrame?new Promise(s=>{requestAnimationFrame(()=>{D4(t,e,n,r,i),s()})}):Promise.resolve(),D4=(t,e,n,r,i)=>{i.run(()=>n.filter(s=>!e.includes(s)).forEach(T4)),e.forEach(s=>{const a=r.path().split("?")[0].split("#")[0];if(s!==t&&s.url!==a){const l=s.element;l.setAttribute("aria-hidden","true"),l.classList.add("ion-page-hidden"),s.ref.changeDetectorRef.detach()}})};let cg=(()=>{class t{constructor(n,r,i,s,o,a,l,c){this.parentOutlet=c,this.activated=null,this.activatedView=null,this._activatedRoute=null,this.proxyMap=new WeakMap,this.currentActivatedRoute$=new Zi(null),this.stackEvents=new rn,this.activateEvents=new rn,this.deactivateEvents=new rn,this.parentContexts=at(Ic),this.location=at(us),this.environmentInjector=at(Bi),this.config=at(m4),this.navCtrl=at(lg),this.nativeEl=s.nativeElement,this.name=n||pt,this.tabsPrefix="true"===r?ER(o,l):void 0,this.stackCtrl=new vIe(this.tabsPrefix,this.nativeEl,o,this.navCtrl,a,i),this.parentContexts.onChildOutletCreated(this.name,this)}set animation(n){this.nativeEl.animation=n}set animated(n){this.nativeEl.animated=n}set swipeGesture(n){this._swipeGesture=n,this.nativeEl.swipeHandler=n?{canStart:()=>this.stackCtrl.canGoBack(1)&&!this.stackCtrl.hasRunningTask(),onStart:()=>this.stackCtrl.startBackTransition(),onEnd:r=>this.stackCtrl.endBackTransition(r)}:void 0}ngOnDestroy(){this.stackCtrl.destroy()}getContext(){return this.parentContexts.getContext(this.name)}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(!this.activated){const n=this.getContext();null!=n&&n.route&&this.activateWith(n.route,n.injector)}new Promise(n=>(0,Fye.c)(this.nativeEl,n)).then(()=>{void 0===this._swipeGesture&&(this.swipeGesture=this.config.getBoolean("swipeBackEnabled","ios"===this.nativeEl.mode))})}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){throw new Error("incompatible reuse strategy")}attach(n,r){throw new Error("incompatible reuse strategy")}deactivate(){if(this.activated){if(this.activatedView){const r=this.getContext();this.activatedView.savedData=new Map(r.children.contexts);const i=this.activatedView.savedData.get("primary");if(i&&r.route&&(i.route={...r.route}),this.activatedView.savedExtras={},r.route){const s=r.route.snapshot;this.activatedView.savedExtras.queryParams=s.queryParams,this.activatedView.savedExtras.fragment=s.fragment}}const n=this.component;this.activatedView=null,this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=n;let i,s=this.stackCtrl.getExistingView(n);if(s){i=this.activated=s.ref;const a=s.savedData;a&&(this.getContext().children.contexts=a),this.updateActivatedRouteProxy(i.instance,n)}else{var o;const a=n._futureSnapshot,l=this.parentContexts.getOrCreateContext(this.name).children,c=new Zi(null),u=this.createActivatedRouteProxy(c,n),d=new EIe(u,l,this.location.injector),h=null!==(o=a.routeConfig.component)&&void 0!==o?o:a.component;i=this.activated=this.location.createComponent(h,{index:this.location.length,injector:d,environmentInjector:null!=r?r:this.environmentInjector}),c.next(i.instance),s=this.stackCtrl.createView(this.activated,n),this.proxyMap.set(i.instance,u),this.currentActivatedRoute$.next({component:i.instance,activatedRoute:n})}this.activatedView=s,this.navCtrl.setTopOutlet(this),this.stackCtrl.setActive(s).then(a=>{this.activateEvents.emit(i.instance),this.stackEvents.emit(a)})}canGoBack(n=1,r){return this.stackCtrl.canGoBack(n,r)}pop(n=1,r){return this.stackCtrl.pop(n,r)}getLastUrl(n){const r=this.stackCtrl.getLastUrl(n);return r?r.url:void 0}getLastRouteView(n){return this.stackCtrl.getLastUrl(n)}getRootView(n){return this.stackCtrl.getRootUrl(n)}getActiveStackId(){return this.stackCtrl.getActiveStackId()}createActivatedRouteProxy(n,r){const i=new la;return i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,i._paramMap=this.proxyObservable(n,"paramMap"),i._queryParamMap=this.proxyObservable(n,"queryParamMap"),i.url=this.proxyObservable(n,"url"),i.params=this.proxyObservable(n,"params"),i.queryParams=this.proxyObservable(n,"queryParams"),i.fragment=this.proxyObservable(n,"fragment"),i.data=this.proxyObservable(n,"data"),i}proxyObservable(n,r){return n.pipe(ps(i=>!!i),Mi(i=>this.currentActivatedRoute$.pipe(ps(s=>null!==s&&s.component===i),Mi(s=>s&&s.activatedRoute[r]),W3())))}updateActivatedRouteProxy(n,r){const i=this.proxyMap.get(n);if(!i)throw new Error("Could not find activated route proxy for view");i._futureSnapshot=r._futureSnapshot,i._routerState=r._routerState,i.snapshot=r.snapshot,i.outlet=r.outlet,i.component=r.component,this.currentActivatedRoute$.next({component:n,activatedRoute:r})}}return t.\u0275fac=function(n){return new(n||t)(nu("name"),nu("tabs"),p(df),p(re),p(_r),p(q),p(la),p(t,12))},t.\u0275dir=Ke({type:t,selectors:[["ion-router-outlet"]],inputs:{animated:"animated",animation:"animation",mode:"mode",swipeGesture:"swipeGesture"},outputs:{stackEvents:"stackEvents",activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class EIe{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===la?this.route:e===Ic?this.childContexts:this.parent.get(e,n)}}let S4=(()=>{let t=class{constructor(n,r,i){this.z=i,this.isCmpOpen=!1,this.el=r.nativeElement,this.el.addEventListener("ionMount",()=>{this.isCmpOpen=!0,n.detectChanges()}),this.el.addEventListener("didDismiss",()=>{this.isCmpOpen=!1,n.detectChanges()}),Pt(this,this.el,["ionPopoverDidPresent","ionPopoverWillPresent","ionPopoverWillDismiss","ionPopoverDidDismiss","didPresent","willPresent","willDismiss","didDismiss"])}};return t.\u0275fac=function(n){return new(n||t)(p(me),p(re),p(q))},t.\u0275cmp=fe({type:t,selectors:[["ion-popover"]],contentQueries:function(n,r,i){if(1&n&&sf(i,Ss,5),2&n){let s;ku(s=function Nu(){return function YQ(t,e){return t[Gs].queries[e].queryList}(te(),Z1())}())&&(r.template=s.first)}},inputs:{alignment:"alignment",animated:"animated",arrow:"arrow",keepContentsMounted:"keepContentsMounted",backdropDismiss:"backdropDismiss",cssClass:"cssClass",dismissOnSelect:"dismissOnSelect",enterAnimation:"enterAnimation",event:"event",isOpen:"isOpen",keyboardClose:"keyboardClose",leaveAnimation:"leaveAnimation",mode:"mode",showBackdrop:"showBackdrop",translucent:"translucent",trigger:"trigger",triggerAction:"triggerAction",reference:"reference",size:"size",side:"side"},decls:1,vars:1,consts:[[3,"ngTemplateOutlet",4,"ngIf"],[3,"ngTemplateOutlet"]],template:function(n,r){1&n&&No(0,qye,1,1,"ng-container",0),2&n&&Jr("ngIf",r.isCmpOpen||r.keepContentsMounted)},dependencies:[f_,Lb],encapsulation:2,changeDetection:0}),t=V([Ie({inputs:["alignment","animated","arrow","keepContentsMounted","backdropDismiss","cssClass","dismissOnSelect","enterAnimation","event","isOpen","keyboardClose","leaveAnimation","mode","showBackdrop","translucent","trigger","triggerAction","reference","size","side"],methods:["present","dismiss","onDidDismiss","onWillDismiss"]})],t),t})();class wR{constructor(e){this.ctrl=e}create(e){return this.ctrl.create(e||{})}dismiss(e,n,r){return this.ctrl.dismiss(e,n,r)}getTop(){return this.ctrl.getTop()}}let AIe=(()=>{class t extends wR{constructor(){super(yR.a)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),xIe=(()=>{class t extends wR{constructor(){super(yR.m),this.angularDelegate=at(pI),this.injector=at(zt),this.environmentInjector=at(Bi)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"modal")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})(),MIe=(()=>{class t extends wR{constructor(){super(yR.c),this.angularDelegate=at(pI),this.injector=at(zt),this.environmentInjector=at(Bi)}create(n){return super.create({...n,delegate:this.angularDelegate.create(this.environmentInjector,this.injector,"popover")})}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();const RIe=(t,e,n)=>()=>{if(e.defaultView&&typeof window<"u"){(0,Lye.s)({...t,_zoneGate:s=>n.run(s)});const i="__zone_symbol__addEventListener"in e.body?"__zone_symbol__addEventListener":"addEventListener";return function Vye(){var t=[];if(typeof window<"u"){var e=window;(!e.customElements||e.Element&&(!e.Element.prototype.closest||!e.Element.prototype.matches||!e.Element.prototype.remove||!e.Element.prototype.getRootNode))&&t.push(le.e(6748).then(le.t.bind(le,723,23))),("function"!=typeof Object.assign||!Object.entries||!Array.prototype.find||!Array.prototype.includes||!String.prototype.startsWith||!String.prototype.endsWith||e.NodeList&&!e.NodeList.prototype.forEach||!e.fetch||!function(){try{var r=new URL("b","http://a");return r.pathname="c%20d","http://a/c%20d"===r.href&&r.searchParams}catch{return!1}}()||typeof WeakMap>"u")&&t.push(le.e(2214).then(le.t.bind(le,4144,23)))}return Promise.all(t)}().then(()=>((t,e)=>typeof window>"u"?Promise.resolve():(0,G3.p)().then(()=>(Uye(),(0,G3.b)(JSON.parse('[["ion-menu_3",[[33,"ion-menu-button",{"color":[513],"disabled":[4],"menu":[1],"autoHide":[4,"auto-hide"],"type":[1],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]],[33,"ion-menu",{"contentId":[513,"content-id"],"menuId":[513,"menu-id"],"type":[1025],"disabled":[1028],"side":[513],"swipeGesture":[4,"swipe-gesture"],"maxEdgeStart":[2,"max-edge-start"],"isPaneVisible":[32],"isEndSide":[32],"isOpen":[64],"isActive":[64],"open":[64],"close":[64],"toggle":[64],"setOpen":[64]},[[16,"ionSplitPaneVisible","onSplitPaneChanged"],[2,"click","onBackdropClick"],[0,"keydown","onKeydown"]]],[1,"ion-menu-toggle",{"menu":[1],"autoHide":[4,"auto-hide"],"visible":[32]},[[16,"ionMenuChange","visibilityChanged"],[16,"ionSplitPaneVisible","visibilityChanged"]]]]],["ion-fab_3",[[33,"ion-fab-button",{"color":[513],"activated":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1],"show":[4],"translucent":[4],"type":[1],"size":[1],"closeIcon":[1,"close-icon"]}],[1,"ion-fab",{"horizontal":[1],"vertical":[1],"edge":[4],"activated":[1028],"close":[64],"toggle":[64]}],[1,"ion-fab-list",{"activated":[4],"side":[1]}]]],["ion-refresher_2",[[0,"ion-refresher-content",{"pullingIcon":[1025,"pulling-icon"],"pullingText":[1,"pulling-text"],"refreshingSpinner":[1025,"refreshing-spinner"],"refreshingText":[1,"refreshing-text"]}],[32,"ion-refresher",{"pullMin":[2,"pull-min"],"pullMax":[2,"pull-max"],"closeDuration":[1,"close-duration"],"snapbackDuration":[1,"snapback-duration"],"pullFactor":[2,"pull-factor"],"disabled":[4],"nativeRefresher":[32],"state":[32],"complete":[64],"cancel":[64],"getProgress":[64]}]]],["ion-back-button",[[33,"ion-back-button",{"color":[513],"defaultHref":[1025,"default-href"],"disabled":[516],"icon":[1],"text":[1],"type":[1],"routerAnimation":[16]}]]],["ion-toast",[[33,"ion-toast",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"color":[513],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"duration":[2],"header":[1],"layout":[1],"message":[1],"keyboardClose":[4,"keyboard-close"],"position":[1],"buttons":[16],"translucent":[4],"animated":[4],"icon":[1],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-card_5",[[33,"ion-card",{"color":[513],"button":[4],"type":[1],"disabled":[4],"download":[1],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}],[32,"ion-card-content"],[33,"ion-card-header",{"color":[513],"translucent":[4]}],[33,"ion-card-subtitle",{"color":[513]}],[33,"ion-card-title",{"color":[513]}]]],["ion-item-option_3",[[33,"ion-item-option",{"color":[513],"disabled":[4],"download":[1],"expandable":[4],"href":[1],"rel":[1],"target":[1],"type":[1]}],[32,"ion-item-options",{"side":[1],"fireSwipeEvent":[64]}],[0,"ion-item-sliding",{"disabled":[4],"state":[32],"getOpenAmount":[64],"getSlidingRatio":[64],"open":[64],"close":[64],"closeOpened":[64]}]]],["ion-accordion_2",[[49,"ion-accordion",{"value":[1],"disabled":[4],"readonly":[4],"toggleIcon":[1,"toggle-icon"],"toggleIconSlot":[1,"toggle-icon-slot"],"state":[32],"isNext":[32],"isPrevious":[32]}],[33,"ion-accordion-group",{"animated":[4],"multiple":[4],"value":[1025],"disabled":[4],"readonly":[4],"expand":[1],"requestAccordionToggle":[64],"getAccordions":[64]},[[0,"keydown","onKeydown"]]]]],["ion-infinite-scroll_2",[[32,"ion-infinite-scroll-content",{"loadingSpinner":[1025,"loading-spinner"],"loadingText":[1,"loading-text"]}],[0,"ion-infinite-scroll",{"threshold":[1],"disabled":[4],"position":[1],"isLoading":[32],"complete":[64]}]]],["ion-reorder_2",[[33,"ion-reorder",null,[[2,"click","onClick"]]],[0,"ion-reorder-group",{"disabled":[4],"state":[32],"complete":[64]}]]],["ion-segment_2",[[33,"ion-segment-button",{"disabled":[4],"layout":[1],"type":[1],"value":[1],"checked":[32],"setFocus":[64]}],[33,"ion-segment",{"color":[513],"disabled":[4],"scrollable":[4],"swipeGesture":[4,"swipe-gesture"],"value":[1025],"selectOnFocus":[4,"select-on-focus"],"activated":[32]},[[0,"keydown","onKeyDown"]]]]],["ion-tab-bar_2",[[33,"ion-tab-button",{"disabled":[4],"download":[1],"href":[1],"rel":[1],"layout":[1025],"selected":[1028],"tab":[1],"target":[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]],[33,"ion-tab-bar",{"color":[513],"selectedTab":[1,"selected-tab"],"translucent":[4],"keyboardVisible":[32]}]]],["ion-chip",[[1,"ion-chip",{"color":[513],"outline":[4],"disabled":[4]}]]],["ion-datetime-button",[[33,"ion-datetime-button",{"color":[513],"disabled":[516],"datetime":[1],"datetimePresentation":[32],"dateText":[32],"timeText":[32],"datetimeActive":[32],"selectedButton":[32]}]]],["ion-input",[[34,"ion-input",{"color":[513],"accept":[1],"autocapitalize":[1],"autocomplete":[1],"autocorrect":[1],"autofocus":[4],"clearInput":[4,"clear-input"],"clearOnEdit":[4,"clear-on-edit"],"counter":[4],"counterFormatter":[16],"debounce":[2],"disabled":[4],"enterkeyhint":[1],"errorText":[1,"error-text"],"fill":[1],"inputmode":[1],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"max":[8],"maxlength":[2],"min":[8],"minlength":[2],"multiple":[4],"name":[1],"pattern":[1],"placeholder":[1],"readonly":[4],"required":[4],"shape":[1],"spellcheck":[4],"step":[1],"size":[2],"type":[1],"value":[1032],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-searchbar",[[34,"ion-searchbar",{"color":[513],"animated":[4],"autocomplete":[1],"autocorrect":[1],"cancelButtonIcon":[1,"cancel-button-icon"],"cancelButtonText":[1,"cancel-button-text"],"clearIcon":[1,"clear-icon"],"debounce":[2],"disabled":[4],"inputmode":[1],"enterkeyhint":[1],"placeholder":[1],"searchIcon":[1,"search-icon"],"showCancelButton":[1,"show-cancel-button"],"showClearButton":[1,"show-clear-button"],"spellcheck":[4],"type":[1],"value":[1025],"focused":[32],"noAnimate":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-toggle",[[33,"ion-toggle",{"color":[513],"name":[1],"checked":[1028],"disabled":[4],"value":[1],"enableOnOffLabels":[4,"enable-on-off-labels"],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"activated":[32]}]]],["ion-nav_2",[[1,"ion-nav",{"delegate":[16],"swipeGesture":[1028,"swipe-gesture"],"animated":[4],"animation":[16],"rootParams":[16],"root":[1],"push":[64],"insert":[64],"insertPages":[64],"pop":[64],"popTo":[64],"popToRoot":[64],"removeIndex":[64],"setRoot":[64],"setPages":[64],"setRouteId":[64],"getRouteId":[64],"getActive":[64],"getByIndex":[64],"canGoBack":[64],"getPrevious":[64]}],[0,"ion-nav-link",{"component":[1],"componentProps":[16],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}]]],["ion-textarea",[[34,"ion-textarea",{"color":[513],"autocapitalize":[1],"autofocus":[4],"clearOnEdit":[4,"clear-on-edit"],"debounce":[2],"disabled":[4],"fill":[1],"inputmode":[1],"enterkeyhint":[1],"maxlength":[2],"minlength":[2],"name":[1],"placeholder":[1],"readonly":[4],"required":[4],"spellcheck":[4],"cols":[2],"rows":[2],"wrap":[1],"autoGrow":[516,"auto-grow"],"value":[1025],"counter":[4],"counterFormatter":[16],"errorText":[1,"error-text"],"helperText":[1,"helper-text"],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"shape":[1],"hasFocus":[32],"setFocus":[64],"getInputElement":[64]}]]],["ion-backdrop",[[33,"ion-backdrop",{"visible":[4],"tappable":[4],"stopPropagation":[4,"stop-propagation"]},[[2,"click","onMouseDown"]]]]],["ion-loading",[[34,"ion-loading",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"message":[1],"cssClass":[1,"css-class"],"duration":[2],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"spinner":[1025],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-breadcrumb_2",[[33,"ion-breadcrumb",{"collapsed":[4],"last":[4],"showCollapsedIndicator":[4,"show-collapsed-indicator"],"color":[1],"active":[4],"disabled":[4],"download":[1],"href":[1],"rel":[1],"separator":[4],"target":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16]}],[33,"ion-breadcrumbs",{"color":[1],"maxItems":[2,"max-items"],"itemsBeforeCollapse":[2,"items-before-collapse"],"itemsAfterCollapse":[2,"items-after-collapse"],"collapsed":[32],"activeChanged":[32]},[[0,"collapsedClick","onCollapsedClick"]]]]],["ion-modal",[[33,"ion-modal",{"hasController":[4,"has-controller"],"overlayIndex":[2,"overlay-index"],"delegate":[16],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"breakpoints":[16],"initialBreakpoint":[2,"initial-breakpoint"],"backdropBreakpoint":[2,"backdrop-breakpoint"],"handle":[4],"handleBehavior":[1,"handle-behavior"],"component":[1],"componentProps":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"showBackdrop":[4,"show-backdrop"],"animated":[4],"presentingElement":[16],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"keepContentsMounted":[4,"keep-contents-mounted"],"canDismiss":[4,"can-dismiss"],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"setCurrentBreakpoint":[64],"getCurrentBreakpoint":[64]}]]],["ion-route_4",[[0,"ion-route",{"url":[1],"component":[1],"componentProps":[16],"beforeLeave":[16],"beforeEnter":[16]}],[0,"ion-route-redirect",{"from":[1],"to":[1]}],[0,"ion-router",{"root":[1],"useHash":[4,"use-hash"],"canTransition":[64],"push":[64],"back":[64],"printDebug":[64],"navChanged":[64]},[[8,"popstate","onPopState"],[4,"ionBackButton","onBackButton"]]],[1,"ion-router-link",{"color":[513],"href":[1],"rel":[1],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"target":[1]}]]],["ion-avatar_3",[[33,"ion-avatar"],[33,"ion-badge",{"color":[513]}],[1,"ion-thumbnail"]]],["ion-col_3",[[1,"ion-col",{"offset":[1],"offsetXs":[1,"offset-xs"],"offsetSm":[1,"offset-sm"],"offsetMd":[1,"offset-md"],"offsetLg":[1,"offset-lg"],"offsetXl":[1,"offset-xl"],"pull":[1],"pullXs":[1,"pull-xs"],"pullSm":[1,"pull-sm"],"pullMd":[1,"pull-md"],"pullLg":[1,"pull-lg"],"pullXl":[1,"pull-xl"],"push":[1],"pushXs":[1,"push-xs"],"pushSm":[1,"push-sm"],"pushMd":[1,"push-md"],"pushLg":[1,"push-lg"],"pushXl":[1,"push-xl"],"size":[1],"sizeXs":[1,"size-xs"],"sizeSm":[1,"size-sm"],"sizeMd":[1,"size-md"],"sizeLg":[1,"size-lg"],"sizeXl":[1,"size-xl"]},[[9,"resize","onResize"]]],[1,"ion-grid",{"fixed":[4]}],[1,"ion-row"]]],["ion-tab_2",[[1,"ion-tab",{"active":[1028],"delegate":[16],"tab":[1],"component":[1],"setActive":[64]}],[1,"ion-tabs",{"useRouter":[1028,"use-router"],"selectedTab":[32],"select":[64],"getTab":[64],"getSelected":[64],"setRouteId":[64],"getRouteId":[64]}]]],["ion-img",[[1,"ion-img",{"alt":[1],"src":[1],"loadSrc":[32],"loadError":[32]}]]],["ion-progress-bar",[[33,"ion-progress-bar",{"type":[1],"reversed":[4],"value":[2],"buffer":[2],"color":[513]}]]],["ion-range",[[33,"ion-range",{"color":[513],"debounce":[2],"name":[1],"dualKnobs":[4,"dual-knobs"],"min":[2],"max":[2],"pin":[4],"pinFormatter":[16],"snaps":[4],"step":[2],"ticks":[4],"activeBarStart":[1026,"active-bar-start"],"disabled":[4],"value":[1026],"labelPlacement":[1,"label-placement"],"legacy":[4],"ratioA":[32],"ratioB":[32],"pressedKnob":[32]}]]],["ion-split-pane",[[33,"ion-split-pane",{"contentId":[513,"content-id"],"disabled":[4],"when":[8],"visible":[32]}]]],["ion-text",[[1,"ion-text",{"color":[513]}]]],["ion-item_8",[[33,"ion-item-divider",{"color":[513],"sticky":[4]}],[32,"ion-item-group"],[1,"ion-skeleton-text",{"animated":[4]}],[32,"ion-list",{"lines":[1],"inset":[4],"closeSlidingItems":[64]}],[33,"ion-list-header",{"color":[513],"lines":[1]}],[49,"ion-item",{"color":[513],"button":[4],"detail":[4],"detailIcon":[1,"detail-icon"],"disabled":[4],"download":[1],"fill":[1],"shape":[1],"href":[1],"rel":[1],"lines":[1],"counter":[4],"routerAnimation":[16],"routerDirection":[1,"router-direction"],"target":[1],"type":[1],"counterFormatter":[16],"multipleInputs":[32],"focusable":[32],"counterString":[32]},[[0,"ionInput","handleIonInput"],[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]]],[34,"ion-label",{"color":[513],"position":[1],"noAnimate":[32]}],[33,"ion-note",{"color":[513]}]]],["ion-select_3",[[33,"ion-select",{"cancelText":[1,"cancel-text"],"color":[513],"compareWith":[1,"compare-with"],"disabled":[4],"fill":[1],"interface":[1],"interfaceOptions":[8,"interface-options"],"justify":[1],"label":[1],"labelPlacement":[1,"label-placement"],"legacy":[4],"multiple":[4],"name":[1],"okText":[1,"ok-text"],"placeholder":[1],"selectedText":[1,"selected-text"],"shape":[1],"value":[1032],"isExpanded":[32],"open":[64]}],[1,"ion-select-option",{"disabled":[4],"value":[8]}],[34,"ion-select-popover",{"header":[1],"subHeader":[1,"sub-header"],"message":[1],"multiple":[4],"options":[16]}]]],["ion-picker-internal",[[33,"ion-picker-internal",{"exitInputMode":[64]},[[1,"touchstart","preventTouchStartPropagation"]]]]],["ion-datetime_3",[[33,"ion-datetime",{"color":[1],"name":[1],"disabled":[4],"readonly":[4],"isDateEnabled":[16],"min":[1025],"max":[1025],"presentation":[1],"cancelText":[1,"cancel-text"],"doneText":[1,"done-text"],"clearText":[1,"clear-text"],"yearValues":[8,"year-values"],"monthValues":[8,"month-values"],"dayValues":[8,"day-values"],"hourValues":[8,"hour-values"],"minuteValues":[8,"minute-values"],"locale":[1],"firstDayOfWeek":[2,"first-day-of-week"],"titleSelectedDatesFormatter":[16],"multiple":[4],"highlightedDates":[16],"value":[1025],"showDefaultTitle":[4,"show-default-title"],"showDefaultButtons":[4,"show-default-buttons"],"showClearButton":[4,"show-clear-button"],"showDefaultTimeLabel":[4,"show-default-time-label"],"hourCycle":[1,"hour-cycle"],"size":[1],"preferWheel":[4,"prefer-wheel"],"showMonthAndYear":[32],"activeParts":[32],"workingParts":[32],"isPresented":[32],"isTimePopoverOpen":[32],"confirm":[64],"reset":[64],"cancel":[64]}],[34,"ion-picker",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"columns":[16],"cssClass":[1,"css-class"],"duration":[2],"showBackdrop":[4,"show-backdrop"],"backdropDismiss":[4,"backdrop-dismiss"],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"presented":[32],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64],"getColumn":[64]}],[32,"ion-picker-column",{"col":[16]}]]],["ion-radio_2",[[33,"ion-radio",{"color":[513],"name":[1],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"legacy":[4],"justify":[1],"checked":[32],"buttonTabindex":[32],"setFocus":[64],"setButtonTabindex":[64]}],[0,"ion-radio-group",{"allowEmptySelection":[4,"allow-empty-selection"],"name":[1],"value":[1032]},[[4,"keydown","onKeydown"]]]]],["ion-ripple-effect",[[1,"ion-ripple-effect",{"type":[1],"addRipple":[64]}]]],["ion-button_2",[[33,"ion-button",{"color":[513],"buttonType":[1025,"button-type"],"disabled":[516],"expand":[513],"fill":[1537],"routerDirection":[1,"router-direction"],"routerAnimation":[16],"download":[1],"href":[1],"rel":[1],"shape":[513],"size":[513],"strong":[4],"target":[1],"type":[1],"form":[1]}],[1,"ion-icon",{"mode":[1025],"color":[1],"ios":[1],"md":[1],"flipRtl":[4,"flip-rtl"],"name":[513],"src":[1],"icon":[8],"size":[1],"lazy":[4],"sanitize":[4],"svgContent":[32],"isVisible":[32]}]]],["ion-action-sheet",[[34,"ion-action-sheet",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"buttons":[16],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"header":[1],"subHeader":[1,"sub-header"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-alert",[[34,"ion-alert",{"overlayIndex":[2,"overlay-index"],"delegate":[16],"hasController":[4,"has-controller"],"keyboardClose":[4,"keyboard-close"],"enterAnimation":[16],"leaveAnimation":[16],"cssClass":[1,"css-class"],"header":[1],"subHeader":[1,"sub-header"],"message":[1],"buttons":[16],"inputs":[1040],"backdropDismiss":[4,"backdrop-dismiss"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"isOpen":[4,"is-open"],"trigger":[1],"present":[64],"dismiss":[64],"onDidDismiss":[64],"onWillDismiss":[64]},[[4,"keydown","onKeydown"]]]]],["ion-app_8",[[0,"ion-app",{"setFocus":[64]}],[1,"ion-content",{"color":[513],"fullscreen":[4],"forceOverscroll":[1028,"force-overscroll"],"scrollX":[4,"scroll-x"],"scrollY":[4,"scroll-y"],"scrollEvents":[4,"scroll-events"],"getScrollElement":[64],"getBackgroundElement":[64],"scrollToTop":[64],"scrollToBottom":[64],"scrollByPoint":[64],"scrollToPoint":[64]},[[8,"appload","onAppLoad"],[9,"resize","onResize"]]],[36,"ion-footer",{"collapse":[1],"translucent":[4],"keyboardVisible":[32]}],[36,"ion-header",{"collapse":[1],"translucent":[4]}],[1,"ion-router-outlet",{"mode":[1025],"delegate":[16],"animated":[4],"animation":[16],"swipeHandler":[16],"commit":[64],"setRouteId":[64],"getRouteId":[64]}],[33,"ion-title",{"color":[513],"size":[1]}],[33,"ion-toolbar",{"color":[513]},[[0,"ionStyle","childrenStyle"]]],[34,"ion-buttons",{"collapse":[4]}]]],["ion-picker-column-internal",[[33,"ion-picker-column-internal",{"items":[16],"value":[1032],"color":[513],"numericInput":[4,"numeric-input"],"isActive":[32],"scrollActiveItemIntoView":[64],"setValue":[64]}]]],["ion-popover",[[33,"ion-popover",{"hasController":[4,"has-controller"],"delegate":[16],"overlayIndex":[2,"overlay-index"],"enterAnimation":[16],"leaveAnimation":[16],"component":[1],"componentProps":[16],"keyboardClose":[4,"keyboard-close"],"cssClass":[1,"css-class"],"backdropDismiss":[4,"backdrop-dismiss"],"event":[8],"showBackdrop":[4,"show-backdrop"],"translucent":[4],"animated":[4],"htmlAttributes":[16],"triggerAction":[1,"trigger-action"],"trigger":[1],"size":[1],"dismissOnSelect":[4,"dismiss-on-select"],"reference":[1],"side":[1],"alignment":[1025],"arrow":[4],"isOpen":[4,"is-open"],"keyboardEvents":[4,"keyboard-events"],"keepContentsMounted":[4,"keep-contents-mounted"],"presented":[32],"presentFromTrigger":[64],"present":[64],"dismiss":[64],"getParentPopover":[64],"onDidDismiss":[64],"onWillDismiss":[64]}]]],["ion-checkbox",[[33,"ion-checkbox",{"color":[513],"name":[1],"checked":[1028],"indeterminate":[1028],"disabled":[4],"value":[8],"labelPlacement":[1,"label-placement"],"justify":[1],"legacy":[4]}]]],["ion-spinner",[[1,"ion-spinner",{"color":[513],"duration":[2],"name":[1],"paused":[4]}]]]]'),e))))(0,{exclude:["ion-tabs","ion-tab"],syncQueue:!0,raf:q3,jmp:s=>n.runOutsideAngular(s),ael(s,o,a,l){s[i](o,a,l)},rel(s,o,a,l){s.removeEventListener(o,a,l)}}))}};let kIe=(()=>{class t{static forRoot(n){return{ngModule:t,providers:[{provide:_4,useValue:n},{provide:va,useFactory:RIe,multi:!0,deps:[_4,jr,q]}]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[pI,xIe,MIe],imports:[S$]}),t})();function NIe(t,e){if(1&t&&(on(0,"ion-list")(1,"ion-item"),Ds(2),Jt()()),2&t){const n=e.$implicit;Ii(2),Yh(n.title)}}function PIe(t,e){if(1&t&&(on(0,"ion-content",15),No(1,NIe,3,1,"ion-list",14),Jt()),2&t){const n=Sl();Ii(1),Jr("ngForOf",n.notifArr)}}function OIe(t,e){1&t&&cs(0,"ion-icon",30)}function FIe(t,e){1&t&&cs(0,"ion-icon",31)}function LIe(t,e){if(1&t&&(on(0,"ion-item")(1,"ion-label"),Ds(2),Jt()()),2&t){const n=e.$implicit;Ii(2),Yh(n)}}function $Ie(t,e){if(1&t){const n=function wO(){return te()}();Lm(0),on(1,"ion-card-content",16)(2,"ion-list")(3,"ion-item")(4,"ion-thumbnail",17),cs(5,"img",18),Jt(),on(6,"ion-label"),Ds(7,"User"),Jt()(),on(8,"ion-card-content"),Ds(9),Jt(),on(10,"ion-grid",19)(11,"ion-row")(12,"ion-col",8)(13,"ion-button",20),Yt("click",function(){const s=sm(n).$implicit;return om(Sl().likePost(s))}),No(14,OIe,1,0,"ion-icon",21),No(15,FIe,1,0,"ion-icon",22),Jt()(),on(16,"ion-col",8)(17,"ion-button",20),Yt("click",function(){const s=sm(n).$implicit;return om(Sl().editPost(s))}),cs(18,"ion-icon",23),Jt()()()()(),on(19,"ion-card-content")(20,"div",24)(21,"div",25)(22,"ion-label"),Ds(23,"Comment"),Jt(),cs(24,"ion-textarea",26,27),Jt(),on(26,"ion-button",20),Yt("click",function(){const s=sm(n).$implicit,o=function EO(t){return function Xc(t,e){return t[e]}(function S5(){return ht.lFrame.contextLView}(),fn+t)}(25);return om(Sl().commentPost(s,o.value))}),cs(27,"ion-icon",28),Jt()(),on(28,"ion-list",29),No(29,LIe,3,1,"ion-item",14),Jt()()(),$m()}if(2&t){const n=e.$implicit;Ii(9),zm(" ",n.post," "),Ii(5),Jr("ngIf",!n.liked),Ii(1),Jr("ngIf",n.liked),Ii(13),Jr("inset",!0),Ii(1),Jr("ngForOf",n.comments)}}const VIe=[{path:"home",component:(()=>{class t{constructor(n,r){this.dataService=n,this.alertCtrl=r,this.postsArr=[],this.count=0,this.notifArr=[],this.dataService.getPosts().subscribe(i=>{this.postsArr=i}),this.dataService.getNotif().subscribe(i=>{this.notifArr=i,console.log(i);let s=[];this.notifArr.forEach(o=>{o.active&&s.push(o)}),this.count=s.length})}ngOnInit(){}clearNotification(){this.notifArr.forEach(n=>{n.active&&this.dataService.updateNotif(n,{active:!1})})}post(){this.dataService.addPost({post:this.postContent,notified:!1,editable:!1,liked:!1,comments:[]}),this.postContent="",this.dataService.addNotif({title:"New post added",active:!0})}likePost(n){let r=!1;this.postsArr.forEach(i=>{n.id===i.id&&(r=i.liked)}),this.dataService.updatePost(n,{liked:!r}),this.dataService.addNotif(r?{title:"user disliked one post",active:!0}:{title:"user liked one post",active:!0})}commentPost(n,r){let i=[];this.postsArr.forEach(s=>{var o;n.id===s.id&&(i=s.comments,null===(o=i)||void 0===o||o.push(r))}),this.dataService.updatePost(n,{comments:i}),this.dataService.addNotif({title:"user commented on post",active:!0})}editPost(n){var r=this;return(0,I.Z)(function*(){yield(yield r.alertCtrl.create({header:"Edit Post",inputs:[{name:"post",placeholder:"write the replacement post here",type:"textarea"}],buttons:[{text:"Cancel",role:"cancel"},{text:"Update",handler:s=>{r.dataService.updatePost(n,{post:s.post}),r.dataService.getPosts().subscribe(o=>r.postsArr=o)}},{text:"Delete",handler:s=>{r.dataService.deletePost(n.id),r.dataService.getPosts().subscribe(o=>r.postsArr=o)}}]})).present()})()}}return t.\u0275fac=function(n){return new(n||t)(p(Kpe),p(AIe))},t.\u0275cmp=fe({type:t,selectors:[["app-home"]],decls:30,vars:5,consts:[[3,"translucent"],[1,"toolbar"],[1,"bar-btns-div"],["id","noti-btn",1,"feed-btn"],["id","click-trigger","fill","clear",1,"circle",3,"click"],["name","notifications-outline","size","large"],["color","danger",1,"notification-badge"],["trigger","click-trigger","triggerAction","click",3,"dismissOnSelect"],[1,"feed-btn"],["fill","clear",1,"circle"],["name","person-circle","size","large"],[1,"post-input-box"],["placeholder","Write anything ...",3,"ngModel","ngModelChange"],["fill","clear",3,"click"],[4,"ngFor","ngForOf"],[1,"notification-list"],[1,"card-container"],["slot","start"],["alt","Silhouette of mountains","src","https://ionicframework.com/docs/img/demos/thumbnail.svg",1,"post-image"],[1,"feed-btns-container"],["fill","clear",1,"circle",3,"click"],["name","thumbs-up-outline","size","small",4,"ngIf"],["name","thumbs-up","size","small",4,"ngIf"],["name","create-outline","size","small"],[1,"comment-container"],[1,"comment-input"],["placeholder","Write comment ..."],["commentInput",""],["name","chatbox-ellipses-outline","size","small"],[3,"inset"],["name","thumbs-up-outline","size","small"],["name","thumbs-up","size","small"]],template:function(n,r){1&n&&(on(0,"ion-header",0)(1,"ion-toolbar")(2,"div",1)(3,"ion-title"),Ds(4," Social App "),Jt(),on(5,"div",2)(6,"ion-col",3)(7,"ion-button",4),Yt("click",function(){return r.clearNotification()}),cs(8,"ion-icon",5),Jt(),on(9,"ion-badge",6),Ds(10),Jt(),on(11,"ion-popover",7),No(12,PIe,2,1,"ng-template"),Jt()(),on(13,"ion-col",8)(14,"ion-button",9),cs(15,"ion-icon",10),Jt()()()()()(),on(16,"ion-content")(17,"ion-card",11)(18,"ion-card-header")(19,"ion-card-title"),Ds(20,"New Post"),Jt()(),on(21,"ion-card-content")(22,"ion-textarea",12),Yt("ngModelChange",function(s){return r.postContent=s}),Jt()(),on(23,"ion-button",13),Yt("click",function(){return r.post()}),Ds(24,"Post"),Jt()(),on(25,"ion-card")(26,"ion-card-header")(27,"ion-card-title"),Ds(28,"New Feeds"),Jt()(),No(29,$Ie,30,5,"ng-container",14),Jt()()),2&n&&(Jr("translucent",!0),Ii(10),Yh(r.count),Ii(1),Jr("dismissOnSelect",!0),Ii(11),Jr("ngModel",r.postContent),Ii(7),Jr("ngForOf",r.postsArr))},dependencies:[w$,f_,YG,OM,Y3,Q3,X3,J3,e4,t4,n4,r4,i4,s4,o4,a4,l4,c4,u4,h4,f4,p4,g4,S4,K3],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.circle[_ngcontent-%COMP%]{width:60px;height:60px;--border-radius: 50%}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}#noti-btn[_ngcontent-%COMP%]{position:relative}.notification-badge[_ngcontent-%COMP%]{position:absolute;display:flex;justify-content:center;align-items:center;top:1rem;right:1.5rem;border-radius:50%;width:15px;height:15px}.bar-btns-div[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.notification-list[_ngcontent-%COMP%]{overflow-y:scroll}.post-input-box[_ngcontent-%COMP%]{display:flex;flex-direction:column}.post-input-box[_ngcontent-%COMP%] > ion-button[_ngcontent-%COMP%]{align-self:self-end;margin-bottom:20px;margin-right:20px}.post-image[_ngcontent-%COMP%]{border-radius:50%}.feed-btns-container[_ngcontent-%COMP%]{margin-top:20px}.feed-btns-container[_ngcontent-%COMP%]   .feed-btn[_ngcontent-%COMP%]{border:1px solid #ccc}.feed-btn[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.card-container[_ngcontent-%COMP%]{border-bottom:2px solid #ccc}.comment-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]}),t})()},{path:"",redirectTo:"home",pathMatch:"full"}];let UIe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({imports:[z3.forRoot(VIe),z3]}),t})(),BIe=(()=>{class t{constructor(){this.title="social-app-demo-2"}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=fe({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(n,r){1&n&&(on(0,"ion-app"),cs(1,"ion-router-outlet"),Jt())},dependencies:[Z3,cg]}),t})();const A4_firebase={projectId:"social-app-demo-5b2e7",appId:"1:473866185504:web:764fd53ffc4ceec6a9c545",storageBucket:"social-app-demo-5b2e7.appspot.com",apiKey:"AIzaSyCaTFsk1QI7g7Tp3iwFwUTn5rpgAhG4ceU",authDomain:"social-app-demo-5b2e7.firebaseapp.com",messagingSenderId:"473866185504"};class ug{constructor(e){return e}}const x4="analytics",M4=U_.async,GIe=Un(Use,!0),WIe=Un(h2,!0),qIe=Un(zse,!0);let bR=(()=>{class t{constructor(n,r,i){let s;this.disposables=[],Ct("angularfire",Hi.full,"user-tracking"),this.initialized=r.runOutsideAngular(()=>new Promise(o=>{s=o})),M4().then(()=>{const o=i.get(ug);o?this.disposables=[Hce(n).subscribe(a=>{qIe(o,null==a?void 0:a.uid),s()})]:s()})}ngOnDestroy(){this.disposables.forEach(n=>n.unsubscribe())}}return t.\u0275fac=function(n){return new(n||t)(Ne(cy),Ne(q),Ne(zt))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();const R4="firebase_screen_id",CR="outlet",dg="screen_class",k4="screen_name";let sEe=Math.floor(Math.random()*(Math.pow(2,32)-1))-Math.pow(2,31);const TR={},oEe=t=>{const e=[t[dg],t[CR]].join("#");if(TR.hasOwnProperty(e))return TR[e];{const n=sEe++;return TR[e]=n,n}},aEe=(t,e,n)=>t.events.pipe(ps(i=>i instanceof r3)).pipe(Mi(i=>{var s;const a=(null===(s=t.parseUrl(t.url.replace(/(?:\().+(?:\))/g,f=>f.replace("://",":///"))).root.children[i.snapshot.outlet])||void 0===s?void 0:s.toString())||"",l=t.routerState.root.children.map(f=>f).find(f=>f.outlet===i.snapshot.outlet);if(!l)return Je(null);let c=l;for(;c.firstChild;)c=c.firstChild;const u=c.pathFromRoot.map(f=>{var g;return null===(g=f.routeConfig)||void 0===g?void 0:g.path}).filter(f=>f).join("/")||"/",d={[k4]:u,page_path:`/${a}`,firebase_event_origin:"auto",firebase_screen:u,[CR]:i.snapshot.outlet};e&&(d.page_title=e.getTitle());let h=l.component;if(h){if(h===iI){let f=i.snapshot;for(;f.firstChild;)f=f.firstChild;h=f.component}}else h=i.snapshot.component;if("string"==typeof h)return Je(Object.assign(Object.assign({},d),{[dg]:h}));if(h){const f=n.resolveComponentFactory(h);return Je(Object.assign(Object.assign({},d),{[dg]:f.selector}))}return Je(null)}),ps(i=>!!i),D(i=>Object.assign({firebase_screen_class:i[dg],[R4]:oEe(i)},i)),function jIe(t,e,n,r){return Le((i,s)=>{let o;e&&"function"!=typeof e?({duration:n,element:o,connector:r}=e):o=e;const a=new Map,l=g=>{a.forEach(g),g(s)},c=g=>l(v=>v.error(g));let u=0,d=!1;const h=new ne(s,g=>{try{const v=t(g);let E=a.get(v);if(!E){a.set(v,E=r?r():new Q);const A=function f(g,v){const E=new ze(A=>{u++;const U=v.subscribe(A);return()=>{U.unsubscribe(),0==--u&&d&&h.unsubscribe()}});return E.key=g,E}(v,E);if(s.next(A),n){const U=st(E,()=>{E.complete(),null==U||U.unsubscribe()},void 0,void 0,()=>a.delete(v));h.add(Tn(n(A)).subscribe(U))}}E.next(o?o(g):g)}catch(v){c(v)}},()=>l(g=>g.complete()),c,()=>a.clear(),()=>(d=!0,0===u));i.subscribe(h)})}(i=>i[CR]),Dn(i=>i.pipe(W3((s,o)=>JSON.stringify(s)===JSON.stringify(o)),PW(void 0),function zIe(){return Le((t,e)=>{let n,r=!1;t.subscribe(st(e,i=>{const s=n;n=i,r&&e.next([s,i]),r=!0}))})}(),D(([s,o])=>s?Object.assign({firebase_previous_class:s[dg],firebase_previous_screen:s[k4],firebase_previous_id:s[R4]},o):o))));let N4=(()=>{class t{constructor(n,r,i,s,o,a){Ct("angularfire",Hi.full,"screen-tracking"),M4().then(()=>{const l=a.get(ug);!n||!l||s.runOutsideAngular(()=>{this.disposable=aEe(n,r,i).pipe(Mi(c=>Or(this,void 0,void 0,function*(){return o&&(yield o.initialized),WIe(l,"screen_view",c)}))).subscribe()})})}ngOnDestroy(){this.disposable&&this.disposable.unsubscribe()}}return t.\u0275fac=function(n){return new(n||t)(Ne(_r,8),Ne(Zb,8),Ne(hu),Ne(q),Ne(bR,8),Ne(zt))},t.\u0275prov=He({token:t,factory:t.\u0275fac}),t})();const DR=new Fe("angularfire2.analytics-instances");function cEe(t){return(e,n)=>{if(!U_.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new ug(r)}}const uEe={provide:class HIe{constructor(){return to(x4)}},deps:[[new Mt,DR]]},dEe={provide:ug,useFactory:function lEe(t,e){if(!U_.sync())return null;const n=eo(x4,t,e);return n&&new ug(n)},deps:[[new Mt,DR],Gi]};let hEe=(()=>{class t{constructor(n,r){Ct("angularfire",Hi.full,"analytics")}}return t.\u0275fac=function(n){return new(n||t)(Ne(N4,8),Ne(bR,8))},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[dEe,uEe,{provide:va,useValue:U_.async,multi:!0}]}),t})();function fEe(t,...e){return{ngModule:hEe,providers:[{provide:DR,useFactory:cEe(t),multi:!0,deps:[q,zt,no,ro,...e]}]}}const P4="@firebase/database";let SR="";class gEe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Tr(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:_f(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class mEe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Bo(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const F4=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new gEe(e)}}catch{}return new mEe},Ec=F4("localStorage"),AR=F4("sessionStorage"),Gd=new ba("@firebase/database"),L4=function(){let t=1;return function(){return t++}}(),$4=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Se(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Zte;n.update(e);const r=n.digest();return v_.encodeByteArray(r)},hg=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=hg.apply(null,r):e+="object"==typeof r?Tr(r):r,e+=" "}return e};let wc=null,V4=!0;const yr=function(...t){if(!0===V4&&(V4=!1,null===wc&&!0===AR.get("logging_enabled")&&function(t,e){Se(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Gd.logLevel=Rt.VERBOSE,wc=Gd.log.bind(Gd),e&&AR.set("logging_enabled",!0)):"function"==typeof t?wc=t:(wc=null,AR.remove("logging_enabled"))}(!0)),wc){const e=hg.apply(null,t);wc(e)}},fg=function(t){return function(...e){yr(t,...e)}},xR=function(...t){const e="FIREBASE INTERNAL ERROR: "+hg(...t);Gd.error(e)},go=function(...t){const e=`FIREBASE FATAL ERROR: ${hg(...t)}`;throw Gd.error(e),new Error(e)},qr=function(...t){const e="FIREBASE WARNING: "+hg(...t);Gd.warn(e)},gI=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Xa="[MIN_NAME]",ca="[MAX_NAME]",bc=function(t,e){if(t===e)return 0;if(t===Xa||e===ca)return-1;if(e===Xa||t===ca)return 1;{const n=z4(t),r=z4(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},vEe=function(t,e){return t===e?0:t<e?-1:1},pg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Tr(e))},MR=function(t){if("object"!=typeof t||null===t)return Tr(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Tr(e[r]),n+=":",n+=MR(t[e[r]]);return n+="}",n},B4=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function vr(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const j4=function(t){Se(!gI(t),"Invalid JSON number");const r=1023;let i,s,o,a,l;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const c=[];for(l=52;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=11;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const u=c.join("");let d="";for(l=0;l<64;l+=8){let h=parseInt(u.substr(l,8),2).toString(16);1===h.length&&(h="0"+h),d+=h}return d.toLowerCase()},bEe=new RegExp("^-?(0*)\\d{1,10}$"),z4=function(t){if(bEe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Wd=function(t){try{t()}catch(e){setTimeout(()=>{throw qr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},DEe=function(){return("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},gg=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class SEe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=null==n?void 0:n.getImmediate({optional:!0}),this.appCheck||null==n||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){qr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class AEe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(yr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',qr(e)}}let mg=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const K4=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Q4="websocket",X4="long_polling";class kR{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ec.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ec.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function J4(t,e,n){let r;if(Se("string"==typeof e,"typeof type must == string"),Se("object"==typeof n,"typeof params must == object"),e===Q4)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==X4)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function xEe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return vr(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class MEe{constructor(){this.counters_={}}incrementCounter(e,n=1){Bo(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Ote(this.counters_)}}const NR={},PR={};function OR(t){const e=t.toString();return NR[e]||(NR[e]=new MEe),NR[e]}class kEe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Wd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Ja{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fg(e),this.stats_=OR(n),this.urlFn=l=>(this.appCheckToken&&(l.ac=this.appCheckToken),J4(n,X4,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new kEe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if(Uo()||"complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FR((...s)=>{const[o,a,l,c,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=l;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&K4.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ja.forceAllow_=!0}static forceDisallow(){Ja.forceDisallow_=!0}static isAvailable(){return!(Uo()||!Ja.forceAllow_&&(Ja.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Tr(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=tV(n),i=B4(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){if(Uo())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Tr(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class FR{constructor(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,Uo())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=L4(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=FR.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){yr("frame writing exception"),a.stack&&yr(a.stack),yr(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||yr("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){Uo()?this.doNodeLongPoll(e,n):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{yr("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let _I=null;typeof MozWebSocket<"u"?_I=MozWebSocket:typeof WebSocket<"u"&&(_I=WebSocket);let qd=(()=>{class t{constructor(n,r,i,s,o,a,l){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fg(this.connId),this.stats_=OR(r),this.connURL=t.connectionURL_(r,a,l,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return!Uo()&&typeof location<"u"&&location.hostname&&K4.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),J4(n,Q4,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ec.set("previous_websocket_failure",!0);try{let i;if(Uo()){i={headers:{"User-Agent":`Firebase/5/${SR}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const o=process.env,a=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;a&&(i.proxy={origin:a})}this.mySock=new _I(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==_I&&!t.forceDisallow_}static previouslyFailed(){return Ec.isInMemoryStorage||!0===Ec.get("previous_websocket_failure")}markConnectionHealthy(){Ec.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=_f(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(Se(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Tr(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=B4(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),oq=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[Ja,qd]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=qd&&qd.isAvailable();let i=r&&!qd.previouslyFailed();if(n.webSocketOnly&&(r||qr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[qd];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class fq{constructor(e,n,r,i,s,o,a,l,c,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fg("c:"+this.id+":"),this.transportManager_=new oq(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=gg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=pg("t",e),r=pg("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=pg("t",e),r=pg("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=pg("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?xR("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):xR("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&qr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),gg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):gg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ec.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class pq{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class gq{constructor(e){this.allowedEvents_=e,this.listeners_={},Se(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){Se(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class yI extends gq{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Jb()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new yI}getInitialEvent(e){return Se("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const mq=32,_q=768;class Zt{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function Ht(){return new Zt("")}function Tt(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function el(t){return t.pieces_.length-t.pieceNum_}function sn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Zt(t.pieces_,e)}function $R(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function _g(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function yq(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Zt(e,0)}function yn(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Zt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Zt(n,0)}function Dt(t){return t.pieceNum_>=t.pieces_.length}function li(t,e){const n=Tt(t),r=Tt(e);if(null===n)return e;if(n===r)return li(sn(t),sn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function VR(t,e){if(el(t)!==el(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ms(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(el(t)>el(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class twe{constructor(e,n){this.errorPrefix_=n,this.parts_=_g(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=A_(this.parts_[r]);vq(this)}}function vq(t){if(t.byteLength_>_q)throw new Error(t.errorPrefix_+"has a key path longer than "+_q+" bytes ("+t.byteLength_+").");if(t.parts_.length>mq)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+mq+") or object contains a cycle "+Cc(t))}function Cc(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class UR extends gq{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new UR}getInitialEvent(e){return Se("visible"===e,"Unknown event type: "+e),[this.visible_]}}const yg=1e3;let II,Tc=(()=>{class t extends pq{constructor(n,r,i,s,o,a,l,c){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=t.nextPersistentConnectionId_++,this.log_=fg("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=yg,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!Uo())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");UR.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&yI.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Tr(o)),Se(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new Vu,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const l=a.d;"ok"===a.s?r.resolve(l):r.reject(l)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),Se(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Se(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,l),this.connected_&&this.sendListen_(l)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,l=>{const c=l.d,u=l.s;t.warnOnListenWarnings_(c,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",l),"ok"!==u&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,c))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Bo(n,"w")){const i=Bu(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();qr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=T_(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=T_(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),Se(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Tr(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):xR("Unrecognized action received from server: "+Tr(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){Se(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=yg,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=yg,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=yg),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return(0,I.Z)(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let l=!1,c=null;const u=function(){c?c.close():(l=!0,s())};n.realtime_={close:u,sendRequest:function(f){Se(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(f)}};const h=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[f,g]=yield Promise.all([n.authTokenProvider_.getToken(h),n.appCheckTokenProvider_.getToken(h)]);l?yr("getToken() completed but was canceled"):(yr("getToken() completed. Creating connection."),n.authToken_=f&&f.accessToken,n.appCheckToken_=g&&g.token,c=new fq(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,v=>{qr(v+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(f){n.log_("Failed to get token: "+f),l||(n.repoInfo_.nodeAdmin&&qr(f),u())}}})()}interrupt(n){yr("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){yr("Resuming connection for reason: "+n),delete this.interruptReasons_[n],t0(this.interruptReasons_)&&(this.reconnectDelay_=yg,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>MR(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Zt(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){yr("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){yr("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";Uo()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),n["sdk."+r+"."+SR.replace(/\./g,"-")]=1,Jb()?n["framework.cordova"]=1:sV()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=yI.getInstance().currentlyOnline();return t0(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class At{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new At(e,n)}}class vI{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new At(Xa,e),i=new At(Xa,n);return 0!==this.compare(r,i)}minPost(){return At.MIN}}class wq extends vI{static get __EMPTY_NODE(){return II}static set __EMPTY_NODE(e){II=e}compare(e,n){return bc(e.name,n.name)}isDefinedOn(e){throw $u("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return At.MIN}maxPost(){return new At(ca,II)}makePost(e,n){return Se("string"==typeof e,"KeyIndex indexValue must always be a string."),new At(e,II)}toString(){return".key"}}const mo=new wq;class EI{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let jR,Ns=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=null!=i?i:t.RED,this.left=null!=s?s:Ri.EMPTY_NODE,this.right=null!=o?o:Ri.EMPTY_NODE}copy(n,r,i,s,o){return new t(null!=n?n:this.key,null!=r?r:this.value,null!=i?i:this.color,null!=s?s:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ri.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Ri.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Ri{constructor(e,n=Ri.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Ri(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ns.BLACK,null,null))}remove(e){return new Ri(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ns.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new EI(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new EI(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new EI(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new EI(this.root_,null,this.comparator_,!0,e)}}function cwe(t,e){return bc(t.name,e.name)}function BR(t,e){return bc(t,e)}Ri.EMPTY_NODE=new class lwe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ns(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const bq=function(t){return"number"==typeof t?"number:"+j4(t):"string:"+t},Cq=function(t){if(t.isLeafNode()){const e=t.val();Se("string"==typeof e||"number"==typeof e||"object"==typeof e&&Bo(e,".sv"),"Priority must be a string or number.")}else Se(t===jR||t.isEmpty(),"priority of unexpected type.");Se(t===jR||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let Tq,Dq,Sq,Kd=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,Se(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),Cq(this.priorityNode_)}static set __childrenNodeConstructor(n){Tq=n}static get __childrenNodeConstructor(){return Tq}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Dt(n)?this:".priority"===Tt(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Tt(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(Se(".priority"!==i||1===el(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(sn(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+bq(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?j4(this.value_):this.value_,this.lazyHash_=$4(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(Se(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return Se(s>=0,"Unknown leaf type: "+r),Se(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ln=new class fwe extends vI{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?bc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return At.MIN}maxPost(){return new At(ca,new Kd("[PRIORITY-POST]",Sq))}makePost(e,n){const r=Dq(e);return new At(n,new Kd("[PRIORITY-POST]",r))}toString(){return".priority"}},pwe=Math.log(2);class gwe{constructor(e){this.count=parseInt(Math.log(e+1)/pwe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const wI=function(t,e,n,r){t.sort(e);const i=function(l,c){const u=c-l;let d,h;if(0===u)return null;if(1===u)return d=t[l],h=n?n(d):d,new Ns(h,d.node,Ns.BLACK,null,null);{const f=parseInt(u/2,10)+l,g=i(l,f),v=i(f+1,c);return d=t[f],h=n?n(d):d,new Ns(h,d.node,Ns.BLACK,g,v)}},a=function(l){let c=null,u=null,d=t.length;const h=function(g,v){const E=d-g,A=d;d-=g;const U=i(E+1,A),S=t[E],oe=n?n(S):S;f(new Ns(oe,S.node,v,null,U))},f=function(g){c?(c.left=g,c=g):(u=g,c=g)};for(let g=0;g<l.count;++g){const v=l.nextBitIsOne(),E=Math.pow(2,l.count-(g+1));v?h(E,Ns.BLACK):(h(E,Ns.BLACK),h(E,Ns.RED))}return u}(new gwe(t.length));return new Ri(r||e,a)};let zR;const Zd={};class ua{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Se(Zd&&ln,"ChildrenNode.ts has not been loaded"),zR=zR||new ua({".priority":Zd},{".priority":ln}),zR}get(e){const n=Bu(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Ri?n:null}hasIndex(e){return Bo(this.indexSet_,e.toString())}addIndex(e,n){Se(e!==mo,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(At.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?wI(r,e.getCompare()):Zd;const l=e.toString(),c=Object.assign({},this.indexSet_);c[l]=e;const u=Object.assign({},this.indexes_);return u[l]=a,new ua(u,c)}addToIndexes(e,n){const r=D_(this.indexes_,(i,s)=>{const o=Bu(this.indexSet_,s);if(Se(o,"Missing index implementation for "+s),i===Zd){if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(At.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),wI(a,o.getCompare())}return Zd}{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new At(e.name,a))),l.insert(e,e.node)}});return new ua(r,this.indexSet_)}removeFromIndexes(e,n){const r=D_(this.indexes_,i=>{if(i===Zd)return i;{const s=n.get(e.name);return s?i.remove(new At(e.name,s)):i}});return new ua(r,this.indexSet_)}}let vg,_t=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&Cq(this.priorityNode_),this.children_.isEmpty()&&Se(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return vg||(vg=new t(new Ri(BR),null,ua.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||vg}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?vg:r}}getChild(n){const r=Tt(n);return null===r?this:this.getImmediateChild(r).getChild(sn(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(Se(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new At(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?vg:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=Tt(n);if(null===i)return r;{Se(".priority"!==Tt(n)||1===el(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(sn(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(ln,(a,l)=>{r[a]=l.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const l in r)a[l]=r[l];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+bq(this.getPriority().val())+":"),this.forEachChild(ln,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":$4(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new At(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new At(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new At(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,At.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,At.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===Ig?-1:0}withIndex(n){if(n===mo||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===mo||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ln),s=r.getIterator(ln);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===mo?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const Ig=new class mwe extends _t{constructor(){super(new Ri(BR),_t.EMPTY_NODE,ua.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return _t.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(At,{MIN:{value:new At(Xa,_t.EMPTY_NODE)},MAX:{value:new At(ca,Ig)}}),wq.__EMPTY_NODE=_t.EMPTY_NODE,Kd.__childrenNodeConstructor=_t,function uwe(t){jR=t}(Ig),function hwe(t){Sq=t}(Ig);const _we=!0;function wn(t,e=null){if(null===t)return _t.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),Se(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Kd(t,wn(e));if(t instanceof Array||!_we){let n=_t.EMPTY_NODE;return vr(t,(r,i)=>{if(Bo(t,r)&&"."!==r.substring(0,1)){const s=wn(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(wn(e))}{const n=[];let r=!1;if(vr(t,(o,a)=>{if("."!==o.substring(0,1)){const l=wn(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new At(o,l)))}}),0===n.length)return _t.EMPTY_NODE;const s=wI(n,cwe,o=>o.name,BR);if(r){const o=wI(n,ln.getCompare());return new _t(s,wn(e),new ua({".priority":o},{".priority":ln}))}return new _t(s,wn(e),ua.Default)}}!function dwe(t){Dq=t}(wn);class HR extends vI{constructor(e){super(),this.indexPath_=e,Se(!Dt(e)&&".priority"!==Tt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?bc(e.name,n.name):s}makePost(e,n){const r=wn(e),i=_t.EMPTY_NODE.updateChild(this.indexPath_,r);return new At(n,i)}maxPost(){const e=_t.EMPTY_NODE.updateChild(this.indexPath_,Ig);return new At(ca,e)}toString(){return _g(this.indexPath_,0).join("/")}}const GR=new class ywe extends vI{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?bc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return At.MIN}maxPost(){return At.MAX}makePost(e,n){const r=wn(e);return new At(n,r)}toString(){return".value"}};function wg(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class qR{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ln}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Se(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Se(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xa}hasEnd(){return this.endSet_}getIndexEndValue(){return Se(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Se(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ca}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Se(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ln}copy(){const e=new qR;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function xq(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ln?n="$priority":t.index_===GR?n="$value":t.index_===mo?n="$key":(Se(t.index_ instanceof HR,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Tr(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Tr(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Tr(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Tr(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Tr(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Mq(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ln&&(e.i=t.index_.toString()),e}class CI extends pq{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=fg("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(Se(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=CI.getListenId_(e,r),a={};this.listens_[o]=a;const l=xq(e._queryParams);this.restRequest_(s+".json",l,(c,u)=>{let d=u;if(404===c&&(d=null,c=null),null===c&&this.onDataUpdate_(s,d,!1,r),Bu(this.listens_,o)===a){let h;h=c?401===c?"permission_denied":"rest_error:"+c:"ok",i(h,null)}})}unlisten(e,n){const r=CI.getListenId_(e,n);delete this.listens_[r]}get(e){const n=xq(e._queryParams),r=e._path.toString(),i=new Vu;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+vf(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=_f(a.responseText)}catch{qr("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else 401!==a.status&&404!==a.status&&qr("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class Dwe{constructor(){this.rootNode_=_t.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function TI(){return{value:null,children:new Map}}function Qd(t,e,n){if(Dt(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Tt(e);t.children.has(r)||t.children.set(r,TI()),Qd(t.children.get(r),e=sn(e),n)}}function QR(t,e,n){null!==t.value?n(e,t.value):function Swe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{QR(i,new Zt(e.toString()+"/"+r),n)})}class Awe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&vr(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class Rwe{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Awe(e);const r=1e4+2e4*Math.random();gg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;vr(e,(i,s)=>{s>0&&Bo(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),gg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var _s=(()=>(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(_s||(_s={})),_s))();function ek(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class DI{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=_s.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Dt(this.path)){if(null!=this.affectedTree.value)return Se(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Zt(e));return new DI(Ht(),n,this.revert)}}return Se(Tt(this.path)===e,"operationForChild called for unrelated child."),new DI(sn(this.path),this.affectedTree,this.revert)}}class Dc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=_s.OVERWRITE}operationForChild(e){return Dt(this.path)?new Dc(this.source,Ht(),this.snap.getImmediateChild(e)):new Dc(this.source,sn(this.path),this.snap)}}class Xd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=_s.MERGE}operationForChild(e){if(Dt(this.path)){const n=this.children.subtree(new Zt(e));return n.isEmpty()?null:n.value?new Dc(this.source,Ht(),n.value):new Xd(this.source,Ht(),n)}return Se(Tt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xd(this.source,sn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tl{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Dt(e))return this.isFullyInitialized()&&!this.filtered_;const n=Tt(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Tg(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>function Owe(t,e,n){if(null==e.childName||null==n.childName)throw $u("Should only compare child_ events.");const r=new At(e.childName,e.snapshotNode),i=new At(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,l)),o.forEach(a=>{const l=function Pwe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function SI(t,e){return{eventCache:t,serverCache:e}}function Dg(t,e,n,r){return SI(new tl(e,n,r),t.serverCache)}function kq(t,e,n,r){return SI(t.eventCache,new tl(e,n,r))}function AI(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Sc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let tk;class cn{constructor(e,n=(()=>(tk||(tk=new Ri(vEe)),tk))()){this.value=e,this.children=n}static fromObject(e){let n=new cn(null);return vr(e,(r,i)=>{n=n.set(new Zt(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:Ht(),value:this.value};if(Dt(e))return null;{const r=Tt(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(sn(e),n);return null!=s?{path:yn(new Zt(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Dt(e))return this;{const n=Tt(e),r=this.children.get(n);return null!==r?r.subtree(sn(e)):new cn(null)}}set(e,n){if(Dt(e))return new cn(n,this.children);{const r=Tt(e),s=(this.children.get(r)||new cn(null)).set(sn(e),n),o=this.children.insert(r,s);return new cn(this.value,o)}}remove(e){if(Dt(e))return this.children.isEmpty()?new cn(null):new cn(null,this.children);{const n=Tt(e),r=this.children.get(n);if(r){const i=r.remove(sn(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new cn(null):new cn(this.value,s)}return this}}get(e){if(Dt(e))return this.value;{const n=Tt(e),r=this.children.get(n);return r?r.get(sn(e)):null}}setTree(e,n){if(Dt(e))return n;{const r=Tt(e),s=(this.children.get(r)||new cn(null)).setTree(sn(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new cn(this.value,o)}}fold(e){return this.fold_(Ht(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(yn(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Ht(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Dt(e))return null;{const s=Tt(e),o=this.children.get(s);return o?o.findOnPath_(sn(e),yn(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Ht(),n)}foreachOnPath_(e,n,r){if(Dt(e))return this;{this.value&&r(n,this.value);const i=Tt(e),s=this.children.get(i);return s?s.foreachOnPath_(sn(e),yn(n,i),r):new cn(null)}}foreach(e){this.foreach_(Ht(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(yn(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ps{constructor(e){this.writeTree_=e}static empty(){return new Ps(new cn(null))}}function Sg(t,e,n){if(Dt(e))return new Ps(new cn(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=li(i,e);return s=s.updateChild(o,n),new Ps(t.writeTree_.set(i,s))}{const i=new cn(n),s=t.writeTree_.setTree(e,i);return new Ps(s)}}}function nk(t,e,n){let r=t;return vr(n,(i,s)=>{r=Sg(r,yn(e,i),s)}),r}function Nq(t,e){if(Dt(e))return Ps.empty();{const n=t.writeTree_.setTree(e,new cn(null));return new Ps(n)}}function rk(t,e){return null!=Ac(t,e)}function Ac(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(li(n.path,e)):null}function Pq(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ln,(r,i)=>{e.push(new At(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new At(r,i.value))}),e}function nl(t,e){if(Dt(e))return t;{const n=Ac(t,e);return new Ps(null!=n?new cn(n):t.writeTree_.subtree(e))}}function ik(t){return t.writeTree_.isEmpty()}function Jd(t,e){return Oq(Ht(),t.writeTree_,e)}function Oq(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(Se(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=Oq(yn(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(yn(t,".priority"),r)),n}}function xI(t,e){return Uq(e,t)}function Bwe(t,e){if(t.snap)return ms(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ms(yn(t.path,n),e))return!0;return!1}function zwe(t){return t.visible}function Fq(t,e,n){let r=Ps.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ms(n,o)?(a=li(n,o),r=Sg(r,a,s.snap)):ms(o,n)&&(a=li(o,n),r=Sg(r,Ht(),s.snap.getChild(a)));else{if(!s.children)throw $u("WriteRecord should have .snap or .children");if(ms(n,o))a=li(n,o),r=nk(r,a,s.children);else if(ms(o,n))if(a=li(o,n),Dt(a))r=nk(r,Ht(),s.children);else{const l=Bu(s.children,Tt(a));if(l){const c=l.getChild(sn(a));r=Sg(r,Ht(),c)}}}}}return r}function Lq(t,e,n,r,i){if(r||i){const s=nl(t.visibleWrites,e);return!i&&ik(s)?n:i||null!=n||rk(s,Ht())?Jd(Fq(t.allWrites,function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(ms(c.path,e)||ms(e,c.path))},e),n||_t.EMPTY_NODE):null}{const s=Ac(t.visibleWrites,e);if(null!=s)return s;{const o=nl(t.visibleWrites,e);return ik(o)?n:null!=n||rk(o,Ht())?Jd(o,n||_t.EMPTY_NODE):null}}}function MI(t,e,n,r){return Lq(t.writeTree,t.treePath,e,n,r)}function sk(t,e){return function Hwe(t,e,n){let r=_t.EMPTY_NODE;const i=Ac(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ln,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=nl(t.visibleWrites,e);return n.forEachChild(ln,(o,a)=>{const l=Jd(nl(s,new Zt(o)),a);r=r.updateImmediateChild(o,l)}),Pq(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return Pq(nl(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function $q(t,e,n,r){return function Gwe(t,e,n,r,i){Se(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=yn(e,n);if(rk(t.visibleWrites,s))return null;{const o=nl(t.visibleWrites,s);return ik(o)?i.getChild(n):Jd(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function RI(t,e){return function qwe(t,e){return Ac(t.visibleWrites,e)}(t.writeTree,yn(t.treePath,e))}function ok(t,e,n){return function Wwe(t,e,n,r){const i=yn(e,n),s=Ac(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?Jd(nl(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function Vq(t,e){return Uq(yn(t.treePath,e),t.writeTree)}function Uq(t,e){return{treePath:t,writeTree:e}}class Qwe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Se("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),Se(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,wg(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function Eg(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function Yd(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw $u("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,wg(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const Bq=new class Xwe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class ak{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return ok(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Sc(this.viewCache_),s=function Ywe(t,e,n,r,i,s){return function Kwe(t,e,n,r,i,s,o){let a;const l=nl(t.visibleWrites,e),c=Ac(l,Ht());if(null!=c)a=c;else{if(null==n)return[];a=Jd(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),h=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let f=h.getNext();for(;f&&u.length<i;)0!==d(f,r)&&u.push(f),f=h.getNext();return u}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function jq(t,e,n,r,i,s){const o=e.eventCache;if(null!=RI(r,n))return e;{let a,l;if(Dt(n))if(Se(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=Sc(e),d=sk(r,c instanceof _t?c:_t.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const c=MI(r,Sc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=Tt(n);if(".priority"===c){Se(1===el(n),"Can't have a priority with additional path components");const u=o.getNode();l=e.serverCache.getNode();const d=$q(r,n,u,l);a=null!=d?t.filter.updatePriority(u,d):o.getNode()}else{const u=sn(n);let d;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const h=$q(r,n,o.getNode(),l);d=null!=h?o.getNode().getImmediateChild(c).updateChild(u,h):o.getNode().getImmediateChild(c)}else d=ok(r,c,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),c,d,u,i,s):o.getNode()}}return Dg(e,a,o.isFullyInitialized()||Dt(n),t.filter.filtersNodes())}}function kI(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const u=o?t.filter:t.filter.getIndexedFilter();if(Dt(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const f=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),f,null)}else{const f=Tt(n);if(!l.isCompleteForPath(n)&&el(n)>1)return e;const g=sn(n),E=l.getNode().getImmediateChild(f).updateChild(g,r);c=".priority"===f?u.updatePriority(l.getNode(),E):u.updateChild(l.getNode(),f,E,g,Bq,null)}const d=kq(e,c,l.isFullyInitialized()||Dt(n),u.filtersNodes());return jq(t,d,n,i,new ak(i,d,s),a)}function lk(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const u=new ak(i,e,s);if(Dt(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Dg(e,c,!0,t.filter.filtersNodes());else{const d=Tt(n);if(".priority"===d)c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Dg(e,c,a.isFullyInitialized(),a.isFiltered());else{const h=sn(n),f=a.getNode().getImmediateChild(d);let g;if(Dt(h))g=r;else{const v=u.getCompleteChild(d);g=null!=v?".priority"===$R(h)&&v.getChild(yq(h)).isEmpty()?v:v.updateChild(h,r):_t.EMPTY_NODE}l=f.equals(g)?e:Dg(e,t.filter.updateChild(a.getNode(),d,g,h,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return l}function zq(t,e){return t.eventCache.isCompleteForChild(e)}function Hq(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function ck(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c,l=e;c=Dt(n)?r:new cn(null).setTree(n,r);const u=e.serverCache.getNode();return c.children.inorderTraversal((d,h)=>{if(u.hasChild(d)){const g=Hq(0,e.serverCache.getNode().getImmediateChild(d),h);l=kI(t,l,new Zt(d),g,i,s,o,a)}}),c.children.inorderTraversal((d,h)=>{const f=!e.serverCache.isCompleteForChild(d)&&null===h.value;if(!u.hasChild(d)&&!f){const v=Hq(0,e.serverCache.getNode().getImmediateChild(d),h);l=kI(t,l,new Zt(d),v,i,s,o,a)}}),l}function ube(t,e){const n=Sc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Dt(e)&&!n.getImmediateChild(Tt(e)).isEmpty())?n.getChild(e):null}function qq(t,e,n,r){e.type===_s.MERGE&&null!==e.source.queryId&&(Se(Sc(t.viewCache_),"We should always have a full cache before handling merges"),Se(AI(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function tbe(t,e,n,r,i){const s=new Qwe;let o,a;if(n.type===_s.OVERWRITE){const c=n;c.source.fromUser?o=lk(t,e,c.path,c.snap,r,i,s):(Se(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Dt(c.path),o=kI(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===_s.MERGE){const c=n;c.source.fromUser?o=function rbe(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const u=yn(n,l);zq(e,Tt(u))&&(a=lk(t,a,u,c,i,s,o))}),r.foreach((l,c)=>{const u=yn(n,l);zq(e,Tt(u))||(a=lk(t,a,u,c,i,s,o))}),a}(t,e,c.path,c.children,r,i,s):(Se(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=ck(t,e,c.path,c.children,r,i,a,s))}else if(n.type===_s.ACK_USER_WRITE){const c=n;o=c.revert?function obe(t,e,n,r,i,s){let o;if(null!=RI(r,n))return e;{const a=new ak(r,e,i),l=e.eventCache.getNode();let c;if(Dt(n)||".priority"===Tt(n)){let u;if(e.serverCache.isFullyInitialized())u=MI(r,Sc(e));else{const d=e.serverCache.getNode();Se(d instanceof _t,"serverChildren would be complete if leaf node"),u=sk(r,d)}c=t.filter.updateFullNode(l,u,s)}else{const u=Tt(n);let d=ok(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=l.getImmediateChild(u)),c=null!=d?t.filter.updateChild(l,u,d,sn(n),a,s):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(l,u,_t.EMPTY_NODE,sn(n),a,s):l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=MI(r,Sc(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=RI(r,Ht()),Dg(e,c,o,t.filter.filtersNodes())}}(t,e,c.path,r,i,s):function ibe(t,e,n,r,i,s,o){if(null!=RI(i,n))return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(null!=r.value){if(Dt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return kI(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Dt(n)){let c=new cn(null);return l.getNode().forEachChild(mo,(u,d)=>{c=c.set(new Zt(u),d)}),ck(t,e,n,c,i,s,a,o)}return e}{let c=new cn(null);return r.foreach((u,d)=>{const h=yn(n,u);l.isCompleteForPath(h)&&(c=c.set(u,l.getNode().getChild(h)))}),ck(t,e,n,c,i,s,a,o)}}(t,e,c.path,c.affectedTree,r,i,s)}else{if(n.type!==_s.LISTEN_COMPLETE)throw $u("Unknown operation type: "+n.type);o=function sbe(t,e,n,r,i){const s=e.serverCache;return jq(t,kq(e,s.getNode(),s.isFullyInitialized()||Dt(n),s.isFiltered()),n,r,Bq,i)}(t,e,n.path,r,s)}const l=s.getChanges();return function nbe(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=AI(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function Aq(t){return{type:"value",snapshotNode:t}}(AI(e)))}}(e,o,l),{viewCache:o,changes:l}}(t.processor_,i,e,n,r);return function ebe(t,e){Se(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Se(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),Se(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function Kq(t,e,n,r){return function Nwe(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function vwe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),Tg(t,i,"child_removed",e,r,n),Tg(t,i,"child_added",e,r,n),Tg(t,i,"child_moved",s,r,n),Tg(t,i,"child_changed",e,r,n),Tg(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let NI,OI;function uk(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return Se(null!=s,"SyncTree gave us an op for an invalid query."),qq(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(qq(o,e,n,r));return s}}function rl(t,e){let n=null;for(const r of t.views.values())n=n||ube(r,e);return n}class e6{constructor(e){this.listenProvider_=e,this.syncPointTree_=new cn(null),this.pendingWriteTree_=function Zwe(){return{visibleWrites:Ps.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function dk(t,e,n,r,i){return function Lwe(t,e,n,r,i){Se(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=Sg(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?eh(t,new Dc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function sl(t,e,n=!1){const r=function Vwe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function Uwe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);Se(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&Bwe(a,r.path)?i=!1:ms(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function jwe(t){t.visibleWrites=Fq(t.allWrites,zwe,Ht()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=Nq(t.visibleWrites,r.path):vr(r.children,l=>{t.visibleWrites=Nq(t.visibleWrites,yn(r.path,l))}),!0))}(t.pendingWriteTree_,e)){let s=new cn(null);return null!=r.snap?s=s.set(Ht(),!0):vr(r.children,o=>{s=s.set(new Zt(o),!0)}),eh(t,new DI(r.path,s,n))}return[]}function Ag(t,e,n){return eh(t,new Dc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function LI(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const c=rl(a,li(o,e));if(c)return c});return Lq(i,e,s,n,!0)}function eh(t,e){return n6(e,t.syncPointTree_,null,xI(t.pendingWriteTree_,Ht()))}function n6(t,e,n,r){if(Dt(t.path))return r6(t,e,n,r);{const i=e.get(Ht());null==n&&null!=i&&(n=rl(i,Ht()));let s=[];const o=Tt(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,u=Vq(r,o);s=s.concat(n6(a,l,c,u))}return i&&(s=s.concat(uk(i,t,r,n))),s}}function r6(t,e,n,r){const i=e.get(Ht());null==n&&null!=i&&(n=rl(i,Ht()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=Vq(r,o),u=t.operationForChild(o);u&&(s=s.concat(r6(u,a,l,c)))}),i&&(s=s.concat(uk(i,t,r,n))),s}function fk(t,e){return t.tagToQueryMap.get(e)}function pk(t){const e=t.indexOf("$");return Se(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Zt(t.substr(0,e))}}function gk(t,e,n){const r=t.syncPointTree_.get(e);return Se(r,"Missing sync point for query tag that we're tracking"),uk(r,n,xI(t.pendingWriteTree_,e),null)}class mk{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new mk(n)}node(){return this.node_}}class _k{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=yn(this.path_,e);return new _k(this.syncTree_,n)}node(){return LI(this.syncTree_,this.path_)}}const Rbe=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},s6=function(t,e,n){return t&&"object"==typeof t?(Se(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?kbe(t[".sv"],e,n):"object"==typeof t[".sv"]?Nbe(t[".sv"],e):void Se(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},kbe=function(t,e,n){if("timestamp"===t)return n.timestamp;Se(!1,"Unexpected server value: "+t)},Nbe=function(t,e,n){t.hasOwnProperty("increment")||Se(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&Se(!1,"Unexpected increment value: "+r);const i=e.node();if(Se(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},o6=function(t,e,n,r){return vk(e,new _k(n,t),r)},yk=function(t,e,n){return vk(t,new mk(e),n)};function vk(t,e,n){const r=t.getPriority().val(),i=s6(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=s6(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new Kd(a,wn(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Kd(i))),o.forEachChild(ln,(a,l)=>{const c=vk(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}class Ik{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function VI(t,e){let n=e instanceof Zt?e:new Zt(e),r=t,i=Tt(n);for(;null!==i;){const s=Bu(r.node.children,i)||{children:{},childCount:0};r=new Ik(i,r,s),n=sn(n),i=Tt(n)}return r}function xc(t){return t.node.value}function Ek(t,e){t.node.value=e,wk(t)}function a6(t){return t.node.childCount>0}function UI(t,e){vr(t.node.children,(n,r)=>{e(new Ik(n,t,r))})}function l6(t,e,n,r){n&&!r&&e(t),UI(t,i=>{l6(i,e,!0,r)}),n&&r&&e(t)}function Rg(t){return new Zt(null===t.parent?t.name:Rg(t.parent)+"/"+t.name)}function wk(t){null!==t.parent&&function Fbe(t,e,n){const r=function Pbe(t){return void 0===xc(t)&&!a6(t)}(n),i=Bo(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,wk(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,wk(t))}(t.parent,t.name,t)}const Lbe=/[\[\].#$\/\u0000-\u001F\u007F]/,$be=/[\[\].#$\u0000-\u001F\u007F]/,bk=10485760,BI=function(t){return"string"==typeof t&&0!==t.length&&!Lbe.test(t)},Ng=function(t,e,n){const r=n instanceof Zt?new twe(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Cc(r));if("function"==typeof e)throw new Error(t+"contains a function "+Cc(r)+" with contents = "+e.toString());if(gI(e))throw new Error(t+"contains "+e.toString()+" "+Cc(r));if("string"==typeof e&&e.length>bk/3&&A_(e)>bk)throw new Error(t+"contains a string greater than "+bk+" utf8 bytes "+Cc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(vr(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!BI(o)))throw new Error(t+" contains an invalid key ("+o+") "+Cc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function nwe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=A_(e),vq(t)})(r,o),Ng(t,a,r),function rwe(t){const e=t.parts_.pop();t.byteLength_-=A_(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Cc(r)+" in addition to actual children.")}},d6=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!BI(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!$be.test(t)}(t)}(n))throw new Error(function S_(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class jbe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Qi(t,e,n){(function jI(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!VR(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function f6(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(zbe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>ms(r,e)||ms(e,r))}function zbe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();wc&&yr("event: "+n.toString()),Wd(r)}}}const p6="repo_interrupt",Hbe=25;class Gbe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new jbe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=TI(),this.transactionQueueTree_=new Ik,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function g6(t){const n=t.infoData_.getNode(new Zt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Og(t){return Rbe({timestamp:g6(t)})}function m6(t,e,n,r,i){t.dataUpdateCount++;const s=new Zt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=D_(n,c=>wn(c));o=function Tbe(t,e,n,r){const i=fk(t,r);if(i){const s=pk(i),o=s.path,a=s.queryId,l=li(o,e),c=cn.fromObject(n);return gk(t,o,new Xd(ek(a),l,c))}return[]}(t.serverSyncTree_,s,l,i)}else{const l=wn(n);o=function t6(t,e,n,r){const i=fk(t,r);if(null!=i){const s=pk(i),o=s.path,a=s.queryId,l=li(o,e);return gk(t,o,new Dc(ek(a),l,n))}return[]}(t.serverSyncTree_,s,l,i)}else if(r){const l=D_(n,c=>wn(c));o=function wbe(t,e,n){const r=cn.fromObject(n);return eh(t,new Xd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,l)}else{const l=wn(n);o=Ag(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=nh(t,s)),Qi(t.eventQueue_,a,o)}function _6(t,e){Dk(t,"connected",e),!1===e&&function Ybe(t){th(t,"onDisconnectEvents");const e=Og(t),n=TI();QR(t.onDisconnect_,Ht(),(i,s)=>{const o=o6(i,s,t.serverSyncTree_,e);Qd(n,i,o)});let r=[];QR(n,Ht(),(i,s)=>{r=r.concat(Ag(t.serverSyncTree_,i,s));const o=function Mk(t,e){const n=Rg(I6(t,e)),r=VI(t.transactionQueueTree_,e);return function Obe(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{Rk(t,i)}),Rk(t,r),l6(r,i=>{Rk(t,i)}),n}(t,i);nh(t,o)}),t.onDisconnect_=TI(),Qi(t.eventQueue_,Ht(),r)}(t)}function Dk(t,e,n){const r=new Zt("/.info/"+e),i=wn(n);t.infoData_.updateSnapshot(r,i);const s=Ag(t.infoSyncTree_,r,i);Qi(t.eventQueue_,r,s)}function zI(t){return t.nextWriteId_++}function th(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),yr(n,...e)}function xk(t,e,n){return LI(t.serverSyncTree_,e,n)||_t.EMPTY_NODE}function HI(t,e=t.transactionQueueTree_){if(e||GI(t,e),xc(e)){const n=E6(t,e);Se(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function r0e(t,e,n){const r=n.map(c=>c.currentWriteId),i=xk(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const u=n[c];Se(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=li(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{th(t,"transaction put response",{path:l.toString(),status:c});let u=[];if("ok"===c){const d=[];for(let h=0;h<n.length;h++)n[h].status=2,u=u.concat(sl(t.serverSyncTree_,n[h].currentWriteId)),n[h].onComplete&&d.push(()=>n[h].onComplete(null,!0,n[h].currentOutputSnapshotResolved)),n[h].unwatcher();GI(t,VI(t.transactionQueueTree_,e)),HI(t,t.transactionQueueTree_),Qi(t.eventQueue_,e,u);for(let h=0;h<d.length;h++)Wd(d[h])}else{if("datastale"===c)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{qr("transaction at "+l.toString()+" failed: "+c);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=c}nh(t,e)}},o)}(t,Rg(e),n)}else a6(e)&&UI(e,n=>{HI(t,n)})}function nh(t,e){const n=I6(t,e),r=Rg(n);return function i0e(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=li(n,l.path);let d,u=!1;if(Se(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===l.status)u=!0,d=l.abortReason,i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0));else if(0===l.status)if(l.retryCount>=Hbe)u=!0,d="maxretry",i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0));else{const h=xk(t,l.path,o);l.currentInputSnapshot=h;const f=e[a].update(h.val());if(void 0!==f){Ng("transaction failed: Data returned ",f,l.path);let g=wn(f);"object"==typeof f&&null!=f&&Bo(f,".priority")||(g=g.updatePriority(h.getPriority()));const E=l.currentWriteId,A=Og(t),U=yk(g,h,A);l.currentOutputSnapshotRaw=g,l.currentOutputSnapshotResolved=U,l.currentWriteId=zI(t),o.splice(o.indexOf(E),1),i=i.concat(dk(t.serverSyncTree_,l.path,U,l.currentWriteId,l.applyLocally)),i=i.concat(sl(t.serverSyncTree_,E,!0))}else u=!0,d="nodata",i=i.concat(sl(t.serverSyncTree_,l.currentWriteId,!0))}Qi(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}GI(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)Wd(r[a]);HI(t,t.transactionQueueTree_)}(t,E6(t,n),r),r}function I6(t,e){let n,r=t.transactionQueueTree_;for(n=Tt(e);null!==n&&void 0===xc(r);)r=VI(r,n),n=Tt(e=sn(e));return r}function E6(t,e){const n=[];return w6(t,e,n),n.sort((r,i)=>r.order-i.order),n}function w6(t,e,n){const r=xc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);UI(e,i=>{w6(t,i,n)})}function GI(t,e){const n=xc(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,Ek(e,n.length>0?n:void 0)}UI(e,r=>{GI(t,r)})}function Rk(t,e){const n=xc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(Se(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Se(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(sl(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ek(e,void 0):n.length=s+1,Qi(t.eventQueue_,Rg(e),i);for(let o=0;o<r.length;o++)Wd(r[o])}}const kk=function(t,e){const n=a0e(t),r=n.namespace;return"firebase.com"===n.domain&&go(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&go("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&qr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new kR(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Zt(n.pathString)}},a0e=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"==typeof t){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=function s0e(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(u,d)));const h=function o0e(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):qr(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));c=e.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(e.substring(c+1),10)):c=e.length;const f=e.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const g=e.indexOf(".");r=e.substring(0,g).toLowerCase(),n=e.substring(g+1),s=r}"ns"in h&&(s=h.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class Xi{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Dt(this._path)?null:$R(this._path)}get ref(){return new Os(this._repo,this._path)}get _queryIdentifier(){const e=Mq(this._queryParams),n=MR(e);return"{}"===n?"default":n}get _queryObject(){return Mq(this._queryParams)}isEqual(e){if(!((e=en(e))instanceof Xi))return!1;const n=this._repo===e._repo,r=VR(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function JEe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Os extends Xi{constructor(e,n){super(e,n,new qR,!1)}get parent(){const e=yq(this._path);return null===e?null:new Os(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function fbe(t){Se(!NI,"__referenceConstructor has already been defined"),NI=t})(Os),function ybe(t){Se(!OI,"__referenceConstructor has already been defined"),OI=t}(Os);const E0e="FIREBASE_DATABASE_EMULATOR_HOST",Pk={};let x6=!1;class S0e{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function Wbe(t,e,n){if(t.stats_=OR(t.repoInfo_),t.forceRestClient_||DEe())t.server_=new CI(t.repoInfo_,(r,i,s,o)=>{m6(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>_6(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Tr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Tc(t.repoInfo_,e,(r,i,s,o)=>{m6(t,r,i,s,o)},r=>{_6(t,r)},r=>{!function qbe(t,e){vr(e,(n,r)=>{Dk(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function REe(t,e){const n=t.toString();return PR[n]||(PR[n]=e()),PR[n]}(t.repoInfo_,()=>new Rwe(t.stats_,t.server_)),t.infoData_=new Dwe,t.infoSyncTree_=new e6({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=Ag(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Dk(t,"connected",!1),t.serverSyncTree_=new e6({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Qi(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Os(this._repo,Ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function C0e(t,e){const n=Pk[e];(!n||n[t.key]!==t)&&go(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function v6(t){t.persistentConnection_&&t.persistentConnection_.interrupt(p6)}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&go("Cannot call "+e+" on a deleted database.")}}function A0e(t=Js(),e){const n=wi(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=b_("database");r&&function x0e(t,e,n,r={}){(t=en(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&go("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&go('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new mg(mg.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:Xb(r.mockUserToken,t.app.options.projectId);s=new mg(o)}!function w0e(t,e,n,r){t.repoInfo_=new kR(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}Tc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Tc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function M0e(t){(function pEe(t){SR=t})(Ca),or(new Xn("database",(e,{instanceIdentifier:n})=>function b0e(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||go("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),yr("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l,c,o=kk(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(c=process.env[E0e]),c?(l=!0,s=`http://${c}?ns=${a.namespace}`,o=kk(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const u=i&&l?new mg(mg.OWNER):new AEe(t.name,t.options,e);d6("Invalid Firebase Database URL",o),Dt(o.path)||go("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function T0e(t,e,n,r){let i=Pk[e.name];i||(i={},Pk[e.name]=i);let s=i[t.toURLString()];return s&&go("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new Gbe(t,x6,n,r),i[t.toURLString()]=s,s}(a,t,u,new SEe(t.name,n));return new S0e(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),Ct(P4,"0.14.4",t),Ct(P4,"0.14.4","esm2017")}();class Ok{constructor(e){return e}}const R6="database",Fk=new Fe("angularfire2.database-instances");function O0e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new Ok(r)}}const F0e={provide:class N0e{constructor(){return to(R6)}},deps:[[new Mt,Fk]]},L0e={provide:Ok,useFactory:function P0e(t,e){const n=eo(R6,t,e);return n&&new Ok(n)},deps:[[new Mt,Fk],Gi]};let $0e=(()=>{class t{constructor(){Ct("angularfire",Hi.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[L0e,F0e]}),t})();function V0e(t,...e){return{ngModule:$0e,providers:[{provide:Fk,useFactory:O0e(t),multi:!0,deps:[q,zt,no,ro,[new Mt,Ff],[new Mt,qu],...e]}]}}const U0e=Un(A0e,!0),$k="functions";class G0e{constructor(e,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}getAuthToken(){var e=this;return(0,I.Z)(function*(){if(e.auth)try{const n=yield e.auth.getToken();return null==n?void 0:n.accessToken}catch{return}})()}getMessagingToken(){var e=this;return(0,I.Z)(function*(){if(e.messaging&&"Notification"in self&&"granted"===Notification.permission)try{return yield e.messaging.getToken()}catch{return}})()}getAppCheckToken(){var e=this;return(0,I.Z)(function*(){if(e.appCheck){const n=yield e.appCheck.getToken();return n.error?null:n.token}return null})()}getContext(){var e=this;return(0,I.Z)(function*(){return{authToken:yield e.getAuthToken(),messagingToken:yield e.getMessagingToken(),appCheckToken:yield e.getAppCheckToken()}})()}}const Vk="us-central1";class q0e{constructor(e,n,r,i,s=Vk,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new G0e(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=Vk}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){const n=this.app.options.projectId;return null!==this.emulatorOrigin?`${this.emulatorOrigin}/${n}/${this.region}/${e}`:null!==this.customDomain?`${this.customDomain}/${e}`:`https://${this.region}-${n}.cloudfunctions.net/${e}`}}const O6="@firebase/functions";function rCe(t=Js(),e=Vk){const r=wi(en(t),$k).getImmediate({identifier:e}),i=b_("functions");return i&&function iCe(t,e,n){!function K0e(t,e,n){t.emulatorOrigin=`http://${e}:${n}`}(en(t),e,n)}(r,...i),r}!function nCe(t,e){or(new Xn($k,(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider("auth-internal"),a=r.getProvider("messaging-internal"),l=r.getProvider("app-check-internal");return new q0e(s,o,a,l,i,t)},"PUBLIC").setMultipleInstances(!0)),Ct(O6,"0.9.4",e),Ct(O6,"0.9.4","esm2017")}(fetch.bind(self));class jk{constructor(e){return e}}const L6="functions",zk=new Fe("angularfire2.functions-instances");function aCe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new jk(r)}}const lCe={provide:class sCe{constructor(){return to(L6)}},deps:[[new Mt,zk]]},cCe={provide:jk,useFactory:function oCe(t,e){const n=eo(L6,t,e);return n&&new jk(n)},deps:[[new Mt,zk],Gi]};let uCe=(()=>{class t{constructor(){Ct("angularfire",Hi.full,"fn")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[cCe,lCe]}),t})();function dCe(t,...e){return{ngModule:uCe,providers:[{provide:zk,useFactory:aCe(t),multi:!0,deps:[q,zt,no,ro,[new Mt,Ff],[new Mt,qu],...e]}]}}const hCe=Un(rCe,!0);class Hk{constructor(e){return e}}const $6="messaging",Gk=new Fe("angularfire2.messaging-instances");function gCe(t){return(e,n)=>{if(!$_.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new Hk(r)}}const mCe={provide:class fCe{constructor(){return to($6)}},deps:[[new Mt,Gk]]},_Ce={provide:Hk,useFactory:function pCe(t,e){if(!$_.sync())return null;const n=eo($6,t,e);return n&&new Hk(n)},deps:[[new Mt,Gk],Gi]};let yCe=(()=>{class t{constructor(){Ct("angularfire",Hi.full,"fcm")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[_Ce,mCe,{provide:va,useValue:$_.async,multi:!0}]}),t})();function vCe(t,...e){return{ngModule:yCe,providers:[{provide:Gk,useFactory:gCe(t),multi:!0,deps:[q,zt,no,ro,...e]}]}}const ICe=Un(ose,!0),V6="@firebase/performance",Wk="0.6.4",U6=Wk,qk="FB-PERF-TRACE-MEASURE",G6="@firebase/performance/config",W6="@firebase/performance/configexpire",q6="Performance",Pr=new Rs("performance",q6,{"trace started":"Trace {$traceName} was started before.","trace stopped":"Trace {$traceName} is not running.","nonpositive trace startTime":"Trace {$traceName} startTime should be positive.","nonpositive trace duration":"Trace {$traceName} duration should be positive.","no window":"Window is not available.","no app id":"App id is not available.","no project id":"Project id is not available.","no api key":"Api key is not available.","invalid cc log":"Attempted to queue invalid cc event","FB not default":"Performance can only start when Firebase app instance is the default one.","RC response not ok":"RC response is not ok","invalid attribute name":"Attribute name {$attributeName} is invalid.","invalid attribute value":"Attribute value {$attributeValue} is invalid.","invalid custom metric name":"Custom metric name {$customMetricName} is invalid","invalid String merger input":"Input for String merger is invalid, contact support team to resolve.","already initialized":"initializePerformance() has already been called with different options. To avoid this error, call initializePerformance() with the same options as when it was originally called, or call getPerformance() to return the already initialized instance."}),vo=new ba(q6);let Kk,K6,Z6,Yk;vo.logLevel=Rt.INFO;class Ir{constructor(e){if(this.window=e,!e)throw Pr.create("no window");this.performance=e.performance,this.PerformanceObserver=e.PerformanceObserver,this.windowLocation=e.location,this.navigator=e.navigator,this.document=e.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=e.localStorage),e.perfMetrics&&e.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=e.perfMetrics.onFirstInputDelay)}getUrl(){return this.windowLocation.href.split("?")[0]}mark(e){!this.performance||!this.performance.mark||this.performance.mark(e)}measure(e,n,r){!this.performance||!this.performance.measure||this.performance.measure(e,n,r)}getEntriesByType(e){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(e):[]}getEntriesByName(e){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(e):[]}getTimeOrigin(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)}requiredApisAvailable(){return fetch&&Promise&&C_()?!!wa()||(vo.info("IndexedDB is not supported by current browswer"),!1):(vo.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled."),!1)}setupObserver(e,n){this.PerformanceObserver&&new this.PerformanceObserver(i=>{for(const s of i.getEntries())n(s)}).observe({entryTypes:[e]})}static getInstance(){return void 0===Kk&&(Kk=new Ir(K6)),Kk}}function Zk(){return Z6}function Y6(t,e){const n=t.length-e.length;if(n<0||n>1)throw Pr.create("invalid String merger input");const r=[];for(let i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}class Ji{constructor(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=Y6("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=Y6("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}getFlTransportFullUrl(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)}static getInstance(){return void 0===Yk&&(Yk=new Ji),Yk}}var Rc=(()=>(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(Rc||(Rc={})),Rc))();const ACe=["firebase_","google_","ga_"],xCe=new RegExp("^[a-zA-Z]\\w*$");function kCe(){const t=Ir.getInstance().navigator;return null!=t&&t.serviceWorker?t.serviceWorker.controller?2:3:1}function Q6(){switch(Ir.getInstance().document.visibilityState){case"visible":return Rc.VISIBLE;case"hidden":return Rc.HIDDEN;default:return Rc.UNKNOWN}}function NCe(){const e=Ir.getInstance().navigator.connection;switch(e&&e.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}function X6(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.appId;if(!n)throw Pr.create("no app id");return n}const $Ce="0.0.1",Fs={loggingEnabled:!0},VCe="FIREBASE_INSTALLATIONS_AUTH";const zCe="Could not fetch config, will use default configs";function J6(t){if(!t)return t;const e=Ji.getInstance(),n=t.entries||{};return e.loggingEnabled=void 0!==n.fpr_enabled?"true"===String(n.fpr_enabled):Fs.loggingEnabled,n.fpr_log_source?e.logSource=Number(n.fpr_log_source):Fs.logSource&&(e.logSource=Fs.logSource),n.fpr_log_endpoint_url?e.logEndPointUrl=n.fpr_log_endpoint_url:Fs.logEndPointUrl&&(e.logEndPointUrl=Fs.logEndPointUrl),n.fpr_log_transport_key?e.transportKey=n.fpr_log_transport_key:Fs.transportKey&&(e.transportKey=Fs.transportKey),void 0!==n.fpr_vc_network_request_sampling_rate?e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate):void 0!==Fs.networkRequestsSamplingRate&&(e.networkRequestsSamplingRate=Fs.networkRequestsSamplingRate),void 0!==n.fpr_vc_trace_sampling_rate?e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate):void 0!==Fs.tracesSamplingRate&&(e.tracesSamplingRate=Fs.tracesSamplingRate),e.logTraceAfterSampling=e8(e.tracesSamplingRate),e.logNetworkAfterSampling=e8(e.networkRequestsSamplingRate),t}function e8(t){return Math.random()<=t}let Xk,Qk=1;function t8(t){return Qk=2,Xk=Xk||function qCe(t){return function KCe(){const t=Ir.getInstance().document;return new Promise(e=>{if(t&&"complete"!==t.readyState){const n=()=>{"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()})}().then(()=>function DCe(t){const e=t.getId();return e.then(n=>{Z6=n}),e}(t.installations)).then(e=>function UCe(t,e){const n=function BCe(){const t=Ir.getInstance().localStorage;if(!t)return;const e=t.getItem(W6);if(!e||!function GCe(t){return Number(t)>Date.now()}(e))return;const n=t.getItem(G6);if(n)try{return JSON.parse(n)}catch{return}}();return n?(J6(n),Promise.resolve()):function HCe(t,e){return function SCe(t){const e=t.getToken();return e.then(n=>{}),e}(t.installations).then(n=>{const r=function FCe(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.projectId;if(!n)throw Pr.create("no project id");return n}(t.app),i=function LCe(t){var e;const n=null===(e=t.options)||void 0===e?void 0:e.apiKey;if(!n)throw Pr.create("no api key");return n}(t.app),o=new Request(`https://firebaseremoteconfig.googleapis.com/v1/projects/${r}/namespaces/fireperf:fetch?key=${i}`,{method:"POST",headers:{Authorization:`${VCe} ${n}`},body:JSON.stringify({app_instance_id:e,app_instance_id_token:n,app_id:X6(t.app),app_version:U6,sdk_version:$Ce})});return fetch(o).then(a=>{if(a.ok)return a.json();throw Pr.create("RC response not ok")})}).catch(()=>{vo.info(zCe)})}(t,e).then(J6).then(r=>function jCe(t){const e=Ir.getInstance().localStorage;!t||!e||(e.setItem(G6,JSON.stringify(t)),e.setItem(W6,String(Date.now()+60*Ji.getInstance().configTimeToLive*60*1e3)))}(r),()=>{})}(t,e)).then(()=>n8(),()=>n8())}(t),Xk}function n8(){Qk=3}const Jk=1e4,r8=3,YCe=1e3;let e1,YI=r8,ll=[],i8=!1;function QI(t){setTimeout(()=>{if(0!==YI){if(!ll.length)return QI(Jk);!function XCe(){const t=ll.splice(0,YCe),e=t.map(r=>({source_extension_json_proto3:r.message,event_time_ms:String(r.eventTime)}));(function JCe(t,e){return function eTe(t){const e=Ji.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then(n=>(n.ok||vo.info("Call to Firebase backend failed."),n.json())).then(n=>{const r=Number(n.nextRequestWaitMillis);let i=Jk;isNaN(r)||(i=Math.max(r,i));const s=n.logResponseDetails;Array.isArray(s)&&s.length>0&&"RETRY_REQUEST_LATER"===s[0].responseAction&&(ll=[...e,...ll],vo.info("Retry transport request later.")),YI=r8,QI(i)})})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:Ji.getInstance().logSource,log_event:e},t).catch(()=>{ll=[...t,...ll],YI--,vo.info(`Tries left: ${YI}.`),QI(Jk)})}()}},t)}function s8(t,e){e1||(e1=function nTe(t){return(...e)=>{!function tTe(t){if(!t.eventTime||!t.message)throw Pr.create("invalid cc log");ll=[...ll,t]}({message:t(...e),eventTime:Date.now()})}}(iTe)),e1(t,e)}function XI(t){const e=Ji.getInstance();!e.instrumentationEnabled&&t.isAuto||!e.dataCollectionEnabled&&!t.isAuto||Ir.getInstance().requiredApisAvailable()&&(t.isAuto&&Q6()!==Rc.VISIBLE||(function WCe(){return 3===Qk}()?t1(t):t8(t.performanceController).then(()=>t1(t),()=>t1(t))))}function t1(t){if(!Zk())return;const e=Ji.getInstance();!e.loggingEnabled||!e.logTraceAfterSampling||setTimeout(()=>s8(t,1),0)}function iTe(t,e){return 0===e?function sTe(t){const e={url:t.url,http_method:t.httpMethod||0,http_response_code:200,response_payload_bytes:t.responsePayloadBytes,client_start_time_us:t.startTimeUs,time_to_response_initiated_us:t.timeToResponseInitiatedUs,time_to_response_completed_us:t.timeToResponseCompletedUs},n={application_info:o8(t.performanceController.app),network_request_metric:e};return JSON.stringify(n)}(t):function oTe(t){const e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);const n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);const r={application_info:o8(t.performanceController.app),trace_metric:e};return JSON.stringify(r)}(t)}function o8(t){return{google_app_id:X6(t),app_instance_id:Zk(),web_app_info:{sdk_version:U6,page_url:Ir.getInstance().getUrl(),service_worker_status:kCe(),visibility_state:Q6(),effective_connection_type:NCe()},application_process_state:0}}const cTe=["_fp","_fcp","_fid"];class cl{constructor(e,n,r=!1,i){this.performanceController=e,this.name=n,this.isAuto=r,this.state=1,this.customAttributes={},this.counters={},this.api=Ir.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark=`FB-PERF-TRACE-START-${this.randomId}-${this.name}`,this.traceStopMark=`FB-PERF-TRACE-STOP-${this.randomId}-${this.name}`,this.traceMeasure=i||`${qk}-${this.randomId}-${this.name}`,i&&this.calculateTraceMetrics())}start(){if(1!==this.state)throw Pr.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2}stop(){if(2!==this.state)throw Pr.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),XI(this)}record(e,n,r){if(e<=0)throw Pr.create("nonpositive trace startTime",{traceName:this.name});if(n<=0)throw Pr.create("nonpositive trace duration",{traceName:this.name});if(this.durationUs=Math.floor(1e3*n),this.startTimeUs=Math.floor(1e3*e),r&&r.attributes&&(this.customAttributes=Object.assign({},r.attributes)),r&&r.metrics)for(const i of Object.keys(r.metrics))isNaN(Number(r.metrics[i]))||(this.counters[i]=Math.floor(Number(r.metrics[i])));XI(this)}incrementMetric(e,n=1){this.putMetric(e,void 0===this.counters[e]?n:this.counters[e]+n)}putMetric(e,n){if(!function uTe(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&cTe.indexOf(t)>-1||!t.startsWith("_"))}(e,this.name))throw Pr.create("invalid custom metric name",{customMetricName:e});this.counters[e]=function dTe(t){const e=Math.floor(t);return e<t&&vo.info(`Metric value should be an Integer, setting the value as : ${e}.`),e}(null!=n?n:0)}getMetric(e){return this.counters[e]||0}putAttribute(e,n){const r=function PCe(t){return!(0===t.length||t.length>40||ACe.some(n=>t.startsWith(n))||!t.match(xCe))}(e),i=function OCe(t){return 0!==t.length&&t.length<=100}(n);if(r&&i)this.customAttributes[e]=n;else{if(!r)throw Pr.create("invalid attribute name",{attributeName:e});if(!i)throw Pr.create("invalid attribute value",{attributeValue:n})}}getAttribute(e){return this.customAttributes[e]}removeAttribute(e){void 0!==this.customAttributes[e]&&delete this.customAttributes[e]}getAttributes(){return Object.assign({},this.customAttributes)}setStartTime(e){this.startTimeUs=e}setDuration(e){this.durationUs=e}calculateTraceMetrics(){const e=this.api.getEntriesByName(this.traceMeasure),n=e&&e[0];n&&(this.durationUs=Math.floor(1e3*n.duration),this.startTimeUs=Math.floor(1e3*(n.startTime+this.api.getTimeOrigin())))}static createOobTrace(e,n,r,i){const s=Ir.getInstance().getUrl();if(!s)return;const o=new cl(e,"_wt_"+s,!0),a=Math.floor(1e3*Ir.getInstance().getTimeOrigin());if(o.setStartTime(a),n&&n[0]&&(o.setDuration(Math.floor(1e3*n[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*n[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*n[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*n[0].loadEventEnd))),r){const u=r.find(h=>"first-paint"===h.name);u&&u.startTime&&o.putMetric("_fp",Math.floor(1e3*u.startTime));const d=r.find(h=>"first-contentful-paint"===h.name);d&&d.startTime&&o.putMetric("_fcp",Math.floor(1e3*d.startTime)),i&&o.putMetric("_fid",Math.floor(1e3*i))}XI(o)}static createUserTimingTrace(e,n){XI(new cl(e,n,!1,n))}}function a8(t,e){const n=e;if(!n||void 0===n.responseStart)return;const r=Ir.getInstance().getTimeOrigin(),i=Math.floor(1e3*(n.startTime+r)),s=n.responseStart?Math.floor(1e3*(n.responseStart-n.startTime)):void 0,o=Math.floor(1e3*(n.responseEnd-n.startTime));!function rTe(t){const e=Ji.getInstance();if(!e.instrumentationEnabled)return;const n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n===r||n===i||!e.loggingEnabled||!e.logNetworkAfterSampling||setTimeout(()=>s8(t,0),0)}({performanceController:t,url:n.name&&n.name.split("?")[0],responsePayloadBytes:n.transferSize,startTimeUs:i,timeToResponseInitiatedUs:s,timeToResponseCompletedUs:o})}const hTe=5e3;function l8(t){Zk()&&(setTimeout(()=>function pTe(t){const e=Ir.getInstance(),n=e.getEntriesByType("navigation"),r=e.getEntriesByType("paint");if(e.onFirstInputDelay){let i=setTimeout(()=>{cl.createOobTrace(t,n,r),i=void 0},hTe);e.onFirstInputDelay(s=>{i&&(clearTimeout(i),cl.createOobTrace(t,n,r,s))})}else cl.createOobTrace(t,n,r)}(t),0),setTimeout(()=>function fTe(t){const e=Ir.getInstance(),n=e.getEntriesByType("resource");for(const r of n)a8(t,r);e.setupObserver("resource",r=>a8(t,r))}(t),0),setTimeout(()=>function gTe(t){const e=Ir.getInstance(),n=e.getEntriesByType("measure");for(const r of n)c8(t,r);e.setupObserver("measure",r=>c8(t,r))}(t),0))}function c8(t,e){const n=e.name;n.substring(0,qk.length)!==qk&&cl.createUserTimingTrace(t,n)}class mTe{constructor(e,n){this.app=e,this.installations=n,this.initialized=!1}_init(e){this.initialized||(void 0!==(null==e?void 0:e.dataCollectionEnabled)&&(this.dataCollectionEnabled=e.dataCollectionEnabled),void 0!==(null==e?void 0:e.instrumentationEnabled)&&(this.instrumentationEnabled=e.instrumentationEnabled),Ir.getInstance().requiredApisAvailable()?Uu().then(n=>{n&&(function QCe(){i8||(QI(5500),i8=!0)}(),t8(this).then(()=>l8(this),()=>l8(this)),this.initialized=!0)}).catch(n=>{vo.info(`Environment doesn't support IndexedDB: ${n}`)}):vo.info('Firebase Performance cannot start if the browser does not support "Fetch" and "Promise", or cookies are disabled.'))}set instrumentationEnabled(e){Ji.getInstance().instrumentationEnabled=e}get instrumentationEnabled(){return Ji.getInstance().instrumentationEnabled}set dataCollectionEnabled(e){Ji.getInstance().dataCollectionEnabled=e}get dataCollectionEnabled(){return Ji.getInstance().dataCollectionEnabled}}function yTe(t=Js()){return wi(t=en(t),"performance").getImmediate()}const vTe=(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("[DEFAULT]"!==n.name)throw Pr.create("FB not default");if(typeof window>"u")throw Pr.create("no window");!function TCe(t){K6=t}(window);const i=new mTe(n,r);return i._init(e),i};!function ITe(){or(new Xn("performance",vTe,"PUBLIC")),Ct(V6,Wk),Ct(V6,Wk,"esm2017")}();class n1{constructor(e){return e}}const u8="performance",r1=new Fe("angularfire2.performance-instances");function bTe(t){return(e,n,r)=>{if(!x$(n))return null;const i=e.runOutsideAngular(()=>t(r));return new n1(i)}}const CTe={provide:class ETe{constructor(){return to(u8)}},deps:[[new Mt,r1]]},TTe={provide:n1,useFactory:function wTe(t,e,n){if(!x$(n))return null;const r=eo(u8,t,e);return r&&new n1(r)},deps:[[new Mt,r1],Gi,Fu]};let DTe=(()=>{class t{constructor(){Ct("angularfire",Hi.full,"perf")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[TTe,CTe]}),t})();function STe(t,...e){return{ngModule:DTe,providers:[{provide:r1,useFactory:bTe(t),multi:!0,deps:[q,Fu,zt,no,ro,...e]}]}}const ATe=Un(yTe,!0);class i1{constructor(e){return e}}const d8="remote-config",s1=new Fe("angularfire2.remote-config-instances");function RTe(t){return(e,n)=>{if(!V_.sync())return null;const r=e.runOutsideAngular(()=>t(n));return new i1(r)}}const kTe={provide:class xTe{constructor(){return to(d8)}},deps:[[new Mt,s1]]},NTe={provide:i1,useFactory:function MTe(t,e){if(!V_.sync())return null;const n=eo(d8,t,e);return n&&new i1(n)},deps:[[new Mt,s1],Gi]};let PTe=(()=>{class t{constructor(){Ct("angularfire",Hi.full,"rc")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[NTe,kTe,{provide:va,useValue:V_.async,multi:!0}]}),t})();function OTe(t,...e){return{ngModule:PTe,providers:[{provide:s1,useFactory:RTe(t),multi:!0,deps:[q,zt,no,ro,...e]}]}}const FTe=Un(nie,!0),h8="firebasestorage.googleapis.com",f8="storageBucket";class bn extends zi{constructor(e,n,r=0){super(o1(e),`Firebase Storage: ${n} (${o1(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,bn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return o1(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var un=(()=>(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(un||(un={})),un))();function o1(t){return"storage/"+t}function l1(t){return new bn(un.INVALID_ARGUMENT,t)}function _8(){return new bn(un.APP_DELETED,"The Firebase app was deleted.")}class ci{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ci.makeFromUrl(e,n)}catch{return new ci(e,"")}if(""===r.path)return r;throw function WTe(t){return new bn(un.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function c(oe){oe.path_=decodeURIComponent(oe.path)}const d=n.replace(/[.]/g,"\\."),S=[{regex:a,indices:{bucket:1,path:3},postModify:function s(oe){"/"===oe.path.charAt(oe.path.length-1)&&(oe.path_=oe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${d}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:c},{regex:new RegExp(`^https?://${n===h8?"(?:storage.googleapis.com|storage.cloud.google.com)":n}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:c}];for(let oe=0;oe<S.length;oe++){const je=S[oe],qe=je.regex.exec(e);if(qe){let Kr=qe[je.indices.path];Kr||(Kr=""),r=new ci(qe[je.indices.bucket],Kr),je.postModify(r);break}}if(null==r)throw function GTe(t){return new bn(un.INVALID_URL,"Invalid URL '"+t+"'.")}(e);return r}}class XTe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function u1(t,e,n,r){if(r<e)throw l1(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw l1(`Invalid value for '${t}'. Expected ${n} or less.`)}var ul=(()=>(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(ul||(ul={})),ul))();class iDe{constructor(e,n,r,i,s,o,a,l,c,u,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((f,g)=>{this.resolve_=f,this.reject_=g,this.start_()})}start_(){const n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());!function tDe(t){return void 0!==t}(l)?s():s(l)}catch(l){o(l)}else if(null!==a){const l=function a1(){return new bn(un.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();l.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,l):l)}else o(i.canceled?this.appDelete_?_8():function g8(){return new bn(un.CANCELED,"User canceled the upload/download.")}():function p8(){return new bn(un.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?n(0,new eE(!1,null,!0)):this.backoffId_=function JTe(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(...E){c||(c=!0,e.apply(null,E))}function d(E){i=setTimeout(()=>{i=null,t(f,l())},E)}function h(){s&&clearTimeout(s)}function f(E,...A){if(c)return void h();if(E)return h(),void u.call(null,E,...A);if(l()||o)return h(),void u.call(null,E,...A);let S;r<64&&(r*=2),1===a?(a=2,S=0):S=1e3*(r+Math.random()),d(S)}let g=!1;function v(E){g||(g=!0,h(),!c&&(null!==i?(E||(a=2),clearTimeout(i),d(0)):E||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,v(!0)},n),v}((r,i)=>{if(i)return void r(!1,new eE(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===ul.NO_ERROR,l=s.getStatus();if(!a||function I8(t,e){const n=t>=500&&t<600,i=-1!==[408,429].indexOf(t),s=-1!==e.indexOf(t);return n||i||s}(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===ul.ABORT;return void r(!1,new eE(!1,null,u))}const c=-1!==this.successCodes_.indexOf(l);r(!0,new eE(c,s))})},n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function eDe(t){t(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class eE{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}class kc{constructor(e,n){this._service=e,this._location=n instanceof ci?n:ci.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kc(e,n)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function T8(t){const e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function yDe(t){if(0===t.length)return null;const e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;const n=new ci(this._location.bucket,e);return new kc(this._service,n)}_throwIfRoot(e){if(""===this._location.path)throw function QTe(t){return new bn(un.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function U8(t,e){const n=null==e?void 0:e[f8];return null==n?null:ci.makeFromBucketSpec(n,t)}class _1{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=h8,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ci.makeFromBucketSpec(i,this._host):U8(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ci.makeFromBucketSpec(this._url,e):U8(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){u1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){u1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,I.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const n=e._authProvider.getImmediate({optional:!0});if(n){const r=yield n.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,I.Z)(function*(){const n=e._appCheckProvider.getImmediate({optional:!0});return n?(yield n.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kc(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new XTe(_8());{const o=function cDe(t,e,n,r,i,s,o=!0){const a=function v8(t){const e=encodeURIComponent;let n="?";for(const r in t)t.hasOwnProperty(r)&&(n=n+(e(r)+"=")+e(t[r])+"&");return n=n.slice(0,-1),n}(t.urlParams),l=t.url+a,c=Object.assign({},t.headers);return function aDe(t,e){e&&(t["X-Firebase-GMPID"]=e)}(c,e),function sDe(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(c,n),function oDe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!=e?e:"AppManager")}(c,s),function lDe(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(c,r),new iDe(l,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){var r=this;return(0,I.Z)(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,n,i,s).getPromise()})()}}const B8="@firebase/storage",z8="storage";function rSe(t=Js(),e){const r=wi(t=en(t),z8).getImmediate({identifier:e}),i=b_("storage");return i&&function iSe(t,e,n,r={}){!function nSe(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken="string"==typeof i?i:Xb(i,t.app.options.projectId))}(t,e,n,r)}(r,...i),r}function sSe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new _1(n,r,i,e,Ca)}!function oSe(){or(new Xn(z8,sSe,"PUBLIC").setMultipleInstances(!0)),Ct(B8,"0.11.2",""),Ct(B8,"0.11.2","esm2017")}();class y1{constructor(e){return e}}const H8="storage",v1=new Fe("angularfire2.storage-instances");function cSe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new y1(r)}}const uSe={provide:class aSe{constructor(){return to(H8)}},deps:[[new Mt,v1]]},dSe={provide:y1,useFactory:function lSe(t,e){const n=eo(H8,t,e);return n&&new y1(n)},deps:[[new Mt,v1],Gi]};let hSe=(()=>{class t{constructor(){Ct("angularfire",Hi.full,"gcs")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t}),t.\u0275inj=xn({providers:[dSe,uSe]}),t})();function fSe(t,...e){return{ngModule:hSe,providers:[{provide:v1,useFactory:cSe(t),multi:!0,deps:[q,zt,no,ro,[new Mt,Ff],[new Mt,qu],...e]}]}}const pSe=Un(rSe,!0);let gSe=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Fn({type:t,bootstrap:[BIe]}),t.\u0275inj=xn({providers:[N4,bR],imports:[Tte,UIe,ime,kIe.forRoot(),ooe(()=>aoe(A4_firebase)),fEe(()=>GIe()),zce(()=>Gce()),V0e(()=>U0e()),Gpe(()=>qpe()),dCe(()=>hCe()),vCe(()=>ICe()),STe(()=>ATe()),OTe(()=>FTe()),fSe(()=>pSe())]}),t})();Cte().bootstrapModule(gSe).catch(t=>console.error(t))},863:(Cn,vt,le)=>{var L={"./ion-accordion_2.entry.js":[9654,8592,9654],"./ion-action-sheet.entry.js":[3648,8592,3648],"./ion-alert.entry.js":[1118,8592,1118],"./ion-app_8.entry.js":[53,8592,53],"./ion-avatar_3.entry.js":[4753,4753],"./ion-back-button.entry.js":[2073,8592,2073],"./ion-backdrop.entry.js":[8939,8939],"./ion-breadcrumb_2.entry.js":[7544,8592,7544],"./ion-button_2.entry.js":[5652,5652],"./ion-card_5.entry.js":[388,388],"./ion-checkbox.entry.js":[9922,8592,9922],"./ion-chip.entry.js":[657,657],"./ion-col_3.entry.js":[9824,9824],"./ion-datetime-button.entry.js":[9230,8594,9230],"./ion-datetime_3.entry.js":[4959,8594,8592,4959],"./ion-fab_3.entry.js":[5836,8592,5836],"./ion-img.entry.js":[1033,1033],"./ion-infinite-scroll_2.entry.js":[8034,8592,8034],"./ion-input.entry.js":[1217,8592,1217],"./ion-item-option_3.entry.js":[2933,8592,2933],"./ion-item_8.entry.js":[4711,8592,4711],"./ion-loading.entry.js":[9434,9434],"./ion-menu_3.entry.js":[8136,8592,8136],"./ion-modal.entry.js":[2349,8592,2349],"./ion-nav_2.entry.js":[5349,8592,5349],"./ion-picker-column-internal.entry.js":[7602,8592,7602],"./ion-picker-internal.entry.js":[9016,9016],"./ion-popover.entry.js":[3804,3804],"./ion-progress-bar.entry.js":[4174,4174],"./ion-radio_2.entry.js":[4432,8592,4432],"./ion-range.entry.js":[1709,8592,1709],"./ion-refresher_2.entry.js":[3326,8592,3326],"./ion-reorder_2.entry.js":[3583,8592,3583],"./ion-ripple-effect.entry.js":[9958,9958],"./ion-route_4.entry.js":[4330,4330],"./ion-searchbar.entry.js":[8628,8592,8628],"./ion-segment_2.entry.js":[9325,8592,9325],"./ion-select_3.entry.js":[2773,8592,2773],"./ion-spinner.entry.js":[4908,8592,4908],"./ion-split-pane.entry.js":[9536,9536],"./ion-tab-bar_2.entry.js":[438,8592,438],"./ion-tab_2.entry.js":[1536,1536],"./ion-text.entry.js":[4376,4376],"./ion-textarea.entry.js":[6560,8592,6560],"./ion-toast.entry.js":[6120,6120],"./ion-toggle.entry.js":[5168,8592,5168]};function Ye(Qe){if(!le.o(L,Qe))return Promise.resolve().then(()=>{var $e=new Error("Cannot find module '"+Qe+"'");throw $e.code="MODULE_NOT_FOUND",$e});var tt=L[Qe],Pe=tt[0];return Promise.all(tt.slice(1).map(le.e)).then(()=>le(Pe))}Ye.keys=()=>Object.keys(L),Ye.id=863,Cn.exports=Ye},5861:(Cn,vt,le)=>{"use strict";function L(Qe,tt,Pe,$e,B,Ee,pe){try{var Xe=Qe[Ee](pe),ge=Xe.value}catch(ce){return void Pe(ce)}Xe.done?tt(ge):Promise.resolve(ge).then($e,B)}function Ye(Qe){return function(){var tt=this,Pe=arguments;return new Promise(function($e,B){var Ee=Qe.apply(tt,Pe);function pe(ge){L(Ee,$e,B,pe,Xe,"next",ge)}function Xe(ge){L(Ee,$e,B,pe,Xe,"throw",ge)}pe(void 0)})}}le.d(vt,{Z:()=>Ye})}},Cn=>{Cn(Cn.s=7089)}]);